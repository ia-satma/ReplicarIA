@tailwind base;
@tailwind components;
@tailwind utilities;

/* Apple SF Pro Display - Premium Font */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

/* =====================================================
   REVISAR.IA - Apple Premium Design System
   =====================================================
   Theme: Hybrid (Light default + Dark mode)
   Accent: Verde Esmeralda Apple (#34C759)
   Style: Clean, minimal, premium
   ===================================================== */

:root {
    /* === Timing Functions === */
    --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-out-quart: cubic-bezier(0.25, 1, 0.5, 1);
    --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);

    /* === Verde Esmeralda Apple - Primary Accent === */
    --apple-green-50: #E8F9ED;
    --apple-green-100: #C6F0D4;
    --apple-green-200: #8DE4AD;
    --apple-green-300: #5DD889;
    --apple-green-400: #34C759;  /* Primary */
    --apple-green-500: #2CB24E;
    --apple-green-600: #249C43;
    --apple-green-700: #1C8637;
    --apple-green-800: #15702C;
    --apple-green-900: #0D5A21;

    /* === Neutral Palette (Apple-style grays) === */
    --gray-50: #F5F5F7;   /* Apple light background */
    --gray-100: #E8E8ED;
    --gray-200: #D2D2D7;
    --gray-300: #AEAEB2;
    --gray-400: #8E8E93;
    --gray-500: #636366;
    --gray-600: #48484A;
    --gray-700: #3A3A3C;
    --gray-800: #2C2C2E;
    --gray-900: #1C1C1E;  /* Apple dark background */

    /* === Semantic Colors === */
    --color-success: #34C759;
    --color-warning: #FF9500;
    --color-error: #FF3B30;
    --color-info: #007AFF;
}

/* =====================================================
   LIGHT THEME (Default)
   ===================================================== */
@layer base {
    :root {
        /* Backgrounds */
        --background: 0 0% 97%;          /* #F5F5F7 */
        --foreground: 0 0% 11%;          /* #1C1C1E */

        /* Cards & Surfaces */
        --card: 0 0% 100%;               /* Pure white */
        --card-foreground: 0 0% 11%;
        --popover: 0 0% 100%;
        --popover-foreground: 0 0% 11%;

        /* Primary (Verde Esmeralda) */
        --primary: 142 71% 45%;          /* #34C759 */
        --primary-foreground: 0 0% 100%;

        /* Secondary */
        --secondary: 240 5% 96%;         /* Subtle gray */
        --secondary-foreground: 0 0% 32%;

        /* Muted */
        --muted: 240 5% 96%;
        --muted-foreground: 0 0% 45%;

        /* Accent */
        --accent: 142 71% 45%;           /* Same as primary */
        --accent-foreground: 0 0% 100%;

        /* Destructive */
        --destructive: 0 84% 60%;
        --destructive-foreground: 0 0% 100%;

        /* Borders & Inputs */
        --border: 0 0% 90%;
        --input: 0 0% 90%;
        --ring: 142 71% 45%;

        /* Radius */
        --radius: 0.75rem;

        /* Glass Effects */
        --glass-bg: rgba(255, 255, 255, 0.72);
        --glass-border: rgba(0, 0, 0, 0.06);
        --glass-shadow: 0 4px 30px rgba(0, 0, 0, 0.08);

        /* Sidebar */
        --sidebar-bg: 0 0% 100%;
        --sidebar-border: 0 0% 92%;
        --sidebar-item-hover: 0 0% 96%;
        --sidebar-item-active: 142 71% 97%;
    }

    /* =====================================================
       DARK THEME
       ===================================================== */
    .dark {
        /* Backgrounds */
        --background: 0 0% 11%;          /* #1C1C1E */
        --foreground: 0 0% 98%;

        /* Cards & Surfaces */
        --card: 0 0% 14%;                /* Elevated surface */
        --card-foreground: 0 0% 98%;
        --popover: 0 0% 14%;
        --popover-foreground: 0 0% 98%;

        /* Primary (Verde Esmeralda - slightly brighter for dark) */
        --primary: 142 71% 48%;          /* #3CD366 */
        --primary-foreground: 0 0% 9%;

        /* Secondary */
        --secondary: 0 0% 18%;
        --secondary-foreground: 0 0% 85%;

        /* Muted */
        --muted: 0 0% 18%;
        --muted-foreground: 0 0% 55%;

        /* Accent */
        --accent: 142 71% 48%;
        --accent-foreground: 0 0% 9%;

        /* Destructive */
        --destructive: 0 72% 51%;
        --destructive-foreground: 0 0% 100%;

        /* Borders & Inputs */
        --border: 0 0% 22%;
        --input: 0 0% 22%;
        --ring: 142 71% 48%;

        /* Glass Effects */
        --glass-bg: rgba(44, 44, 46, 0.72);
        --glass-border: rgba(255, 255, 255, 0.08);
        --glass-shadow: 0 4px 30px rgba(0, 0, 0, 0.25);

        /* Sidebar */
        --sidebar-bg: 0 0% 14%;
        --sidebar-border: 0 0% 20%;
        --sidebar-item-hover: 0 0% 18%;
        --sidebar-item-active: 142 71% 15%;
    }
}

/* Base Styles */
@layer base {
    * {
        @apply border-border;
    }

    html {
        scroll-behavior: smooth;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    body {
        @apply bg-background text-foreground;
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", sans-serif;
        text-rendering: optimizeLegibility;
        font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
    }

    code {
        font-family: 'SF Mono', 'JetBrains Mono', Menlo, Monaco, Consolas, monospace;
    }
}

/* =====================================================
   PREMIUM COMPONENT SYSTEM
   ===================================================== */
@layer components {

    /* === Buttons === */
    .btn-premium {
        @apply relative inline-flex items-center justify-center gap-2;
        @apply font-medium transition-all duration-200;
        @apply rounded-xl px-5 py-2.5 text-sm;
        @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
        @apply disabled:opacity-50 disabled:pointer-events-none;
    }

    .btn-premium:hover:not(:disabled) {
        transform: translateY(-1px);
    }

    .btn-premium:active:not(:disabled) {
        transform: translateY(0) scale(0.98);
    }

    /* Primary Button - Verde Esmeralda */
    .btn-primary-premium {
        @apply btn-premium;
        background: linear-gradient(180deg, #3CD366 0%, #34C759 100%);
        @apply text-white font-semibold;
        box-shadow: 0 2px 8px rgba(52, 199, 89, 0.3), 0 1px 2px rgba(0, 0, 0, 0.08);
    }

    .btn-primary-premium:hover:not(:disabled) {
        background: linear-gradient(180deg, #45D96F 0%, #3CD366 100%);
        box-shadow: 0 4px 16px rgba(52, 199, 89, 0.35), 0 2px 4px rgba(0, 0, 0, 0.08);
    }

    /* Secondary Button */
    .btn-secondary-premium {
        @apply btn-premium;
        @apply bg-secondary text-secondary-foreground;
        @apply border border-border;
    }

    .btn-secondary-premium:hover:not(:disabled) {
        @apply bg-muted;
    }

    /* Ghost Button */
    .btn-ghost-premium {
        @apply btn-premium bg-transparent;
        @apply text-muted-foreground;
    }

    .btn-ghost-premium:hover:not(:disabled) {
        @apply bg-muted text-foreground;
    }

    /* === Cards === */
    .card-premium {
        @apply bg-card text-card-foreground;
        @apply rounded-2xl border border-border;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
    }

    .card-premium-hover {
        @apply card-premium transition-all duration-300;
    }

    .card-premium-hover:hover {
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08), 0 2px 8px rgba(0, 0, 0, 0.04);
        @apply border-primary/20;
    }

    /* Glass Card */
    .glass-card {
        background: var(--glass-bg);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border: 1px solid var(--glass-border);
        box-shadow: var(--glass-shadow);
        @apply rounded-2xl;
    }

    .glass-card-hover {
        @apply glass-card transition-all duration-300;
    }

    .glass-card-hover:hover {
        box-shadow: 0 8px 40px rgba(0, 0, 0, 0.12);
        transform: translateY(-2px);
    }

    /* === Inputs === */
    .input-premium {
        @apply w-full px-4 py-3 rounded-xl;
        @apply bg-muted/50;
        @apply border border-border;
        @apply text-foreground placeholder:text-muted-foreground;
        @apply transition-all duration-200;
        @apply focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary;
        @apply focus:bg-card;
    }

    .label-premium {
        @apply block text-sm font-medium text-foreground mb-2;
    }

    /* === Icon Containers === */
    .icon-container {
        @apply flex items-center justify-center flex-shrink-0;
        @apply w-10 h-10 rounded-xl;
        @apply bg-primary/10 text-primary;
    }

    .icon-container-sm {
        @apply flex items-center justify-center flex-shrink-0;
        @apply w-8 h-8 rounded-lg;
        @apply bg-primary/10 text-primary;
    }

    .icon-container-lg {
        @apply flex items-center justify-center flex-shrink-0;
        @apply w-14 h-14 rounded-2xl;
        @apply bg-primary/10 text-primary;
    }

    /* === Badges === */
    .badge-premium {
        @apply inline-flex items-center gap-1.5 px-2.5 py-0.5;
        @apply text-xs font-medium;
        @apply rounded-full;
        @apply bg-primary/10 text-primary;
    }

    .badge-success {
        @apply badge-premium bg-green-100 text-green-700;
    }

    .dark .badge-success {
        @apply bg-green-900/30 text-green-400;
    }

    .badge-warning {
        @apply badge-premium bg-amber-100 text-amber-700;
    }

    .dark .badge-warning {
        @apply bg-amber-900/30 text-amber-400;
    }

    .badge-error {
        @apply badge-premium bg-red-100 text-red-700;
    }

    .dark .badge-error {
        @apply bg-red-900/30 text-red-400;
    }

    /* === Section Container === */
    .section-premium {
        @apply px-4 sm:px-6 lg:px-8 py-8 sm:py-12;
    }

    /* === Sidebar Item === */
    .sidebar-item {
        @apply flex items-center gap-3 px-3 py-2.5 rounded-xl;
        @apply text-muted-foreground;
        @apply transition-all duration-200;
    }

    .sidebar-item:hover {
        @apply bg-muted text-foreground;
    }

    .sidebar-item-active {
        @apply sidebar-item;
        @apply bg-primary/10 text-primary font-medium;
    }

    /* === Dividers === */
    .divider-premium {
        @apply border-t border-border;
    }
}

/* =====================================================
   PREMIUM UTILITIES
   ===================================================== */
@layer utilities {

    /* Text Gradients */
    .text-gradient-premium {
        @apply bg-clip-text text-transparent;
        background-image: linear-gradient(135deg, #34C759 0%, #30D158 50%, #34C759 100%);
    }

    /* Subtle Background */
    .bg-subtle {
        @apply bg-muted/30;
    }

    /* Apple-style Shadow */
    .shadow-apple {
        box-shadow: 0 4px 14px rgba(0, 0, 0, 0.08);
    }

    .shadow-apple-lg {
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
    }

    /* Accent Glow */
    .glow-primary {
        box-shadow: 0 0 20px rgba(52, 199, 89, 0.25);
    }

    /* Animations */
    .animate-slide-up {
        animation: slide-up 0.5s var(--ease-out-expo) forwards;
    }

    .animate-fade-in {
        animation: fade-in 0.4s var(--ease-out-quart) forwards;
    }

    .animate-scale-in {
        animation: scale-in 0.3s var(--ease-spring) forwards;
    }

    .animate-float {
        animation: float 6s ease-in-out infinite;
    }
}

/* =====================================================
   KEYFRAMES
   ===================================================== */
@keyframes slide-up {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes scale-in {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

/* =====================================================
   PERFORMANCE OPTIMIZATIONS
   ===================================================== */
.animate-slide-up,
.animate-fade-in,
.animate-scale-in,
.animate-float {
    will-change: transform, opacity;
}

.glass-card,
.glass-card-hover {
    will-change: transform, box-shadow;
}

/* =====================================================
   RESPONSIVE ADJUSTMENTS
   ===================================================== */
@media (max-width: 640px) {
    .btn-premium {
        @apply px-4 py-2 text-sm;
    }

    .section-premium {
        @apply px-4 py-6;
    }

    .icon-container-lg {
        @apply w-12 h-12 rounded-xl;
    }
}

/* Better touch targets on mobile */
@media (pointer: coarse) {
    .btn-premium {
        min-height: 44px;
        min-width: 44px;
    }
}

/* =====================================================
   DEBUG WRAPPER (Required for dev tools)
   ===================================================== */
@layer base {
    [data-debug-wrapper="true"] {
        display: contents !important;
    }

    [data-debug-wrapper="true"] > * {
        margin-left: inherit;
        margin-right: inherit;
        margin-top: inherit;
        margin-bottom: inherit;
        padding-left: inherit;
        padding-right: inherit;
        padding-top: inherit;
        padding-bottom: inherit;
        column-gap: inherit;
        row-gap: inherit;
        gap: inherit;
        border-left-width: inherit;
        border-right-width: inherit;
        border-top-width: inherit;
        border-bottom-width: inherit;
        border-left-style: inherit;
        border-right-style: inherit;
        border-top-style: inherit;
        border-bottom-style: inherit;
        border-left-color: inherit;
        border-right-color: inherit;
        border-top-color: inherit;
        border-bottom-color: inherit;
    }
}

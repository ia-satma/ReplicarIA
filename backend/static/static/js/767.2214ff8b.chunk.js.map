{"version":3,"file":"static/js/767.2214ff8b.chunk.js","mappings":"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","sources":["components/ProjectActions.js","components/VersioningPanel.js","components/CargaDocumentos.js","components/ListaDocumentos.js","components/Modal.js","components/RiskScoreMiniChart.js","components/DurezzaDashboard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst ProjectActions = ({ projectId, projectData, onResultsUpdate }) => {\n  const [validating, setValidating] = useState(false);\n  const [simulating, setSimulating] = useState(false);\n  const [results, setResults] = useState(null);\n  const [error, setError] = useState(null);\n\n  const handleValidateAllDocs = async () => {\n    setValidating(true);\n    setError(null);\n    try {\n      const documents = projectData?.documents || projectData?.documentos || [];\n      const docsToValidate = documents.map((doc, idx) => ({\n        id: doc.id || doc._id || `doc-${idx}`,\n        name: doc.name || doc.nombre || doc.filename,\n        path: doc.path || doc.filePath || doc.file_path,\n        type: doc.type || doc.tipo || 'evidencia',\n        expected_data: {\n          monto: projectData?.monto_contrato || projectData?.montoContrato,\n          rfc_proveedor: projectData?.rfc_proveedor || projectData?.rfcProveedor,\n          fecha: projectData?.fecha_contrato || projectData?.fechaContrato\n        }\n      }));\n\n      const response = await axios.post(`/api/loops/projects/${projectId}/validate-all-documents`, {\n        documents: docsToValidate\n      });\n      \n      setResults({\n        type: 'ocr',\n        data: response.data\n      });\n      \n      if (onResultsUpdate) {\n        onResultsUpdate('ocr', response.data);\n      }\n    } catch (err) {\n      console.error('Error validating:', err);\n      setError(err.response?.data?.detail || err.message);\n    }\n    setValidating(false);\n  };\n\n  const handleRedTeam = async () => {\n    setSimulating(true);\n    setError(null);\n    try {\n      const projectDataToSend = {\n        tipologia: projectData?.tipologia || projectData?.category,\n        monto_contrato: projectData?.monto_contrato || projectData?.montoContrato || projectData?.amount,\n        descripcion_servicio: projectData?.descripcion || projectData?.description,\n        justificacion_economica: projectData?.justificacion_economica || projectData?.justificacionEconomica,\n        beneficio_esperado: projectData?.beneficio_esperado || projectData?.beneficioEsperado,\n        risk_score: projectData?.risk_score || projectData?.riskScore || 0,\n        documentos: (projectData?.documents || projectData?.documentos || []).map(d => ({\n          tipo: d.type || d.tipo,\n          existe: !!(d.path || d.filePath),\n          validado: d.validated || d.validado || false\n        })),\n        resultados_agentes: projectData?.deliberations || projectData?.resultadosAgentes || []\n      };\n\n      const response = await axios.post(`/api/loops/projects/${projectId}/red-team-simulation`, {\n        project_data: projectDataToSend\n      });\n      \n      setResults({\n        type: 'redteam',\n        data: response.data\n      });\n      \n      if (onResultsUpdate) {\n        onResultsUpdate('redteam', response.data);\n      }\n    } catch (err) {\n      console.error('Error in simulation:', err);\n      setError(err.response?.data?.detail || err.message);\n    }\n    setSimulating(false);\n  };\n\n  const getSeverityColor = (severity) => {\n    switch (severity?.toUpperCase()) {\n      case 'CRITICAL': return 'text-red-600 bg-red-100';\n      case 'HIGH': return 'text-orange-600 bg-orange-100';\n      case 'MEDIUM': return 'text-yellow-600 bg-yellow-100';\n      case 'LOW': return 'text-green-600 bg-green-100';\n      default: return 'text-gray-600 bg-gray-100';\n    }\n  };\n\n  return (\n    <div className=\"mt-6 p-4 bg-gradient-to-r from-slate-800 to-slate-900 rounded-xl border border-slate-700\">\n      <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\">\n        <span className=\"text-2xl\"></span> Loops Iterativos\n      </h3>\n      \n      <div className=\"flex flex-wrap gap-3 mb-4\">\n        <button\n          onClick={handleValidateAllDocs}\n          disabled={validating}\n          className=\"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center gap-2 font-medium\"\n        >\n          {validating ? (\n            <>\n              <span className=\"animate-spin\"></span> Validando OCR...\n            </>\n          ) : (\n            <>\n              <span></span> Validar Documentos (Loop)\n            </>\n          )}\n        </button>\n        \n        <button\n          onClick={handleRedTeam}\n          disabled={simulating}\n          className=\"px-4 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center gap-2 font-medium\"\n        >\n          {simulating ? (\n            <>\n              <span className=\"animate-pulse\"></span> Simulando ataque...\n            </>\n          ) : (\n            <>\n              <span></span> Simulacin Red Team\n            </>\n          )}\n        </button>\n      </div>\n\n      {error && (\n        <div className=\"p-3 bg-red-900/50 border border-red-500 rounded-lg text-red-200 text-sm mb-4\">\n          <strong>Error:</strong> {error}\n        </div>\n      )}\n\n      {results && (\n        <div className=\"mt-4 p-4 bg-slate-700/50 rounded-lg\">\n          {results.type === 'ocr' && results.data?.success && (\n            <div>\n              <h4 className=\"text-white font-medium mb-3 flex items-center gap-2\">\n                <span></span> Resultados OCR Validation\n              </h4>\n              <div className=\"grid grid-cols-3 gap-4 mb-4\">\n                <div className=\"bg-green-900/30 p-3 rounded-lg text-center\">\n                  <div className=\"text-2xl font-bold text-green-400\">{results.data.validated || 0}</div>\n                  <div className=\"text-xs text-green-300\">Validados</div>\n                </div>\n                <div className=\"bg-yellow-900/30 p-3 rounded-lg text-center\">\n                  <div className=\"text-2xl font-bold text-yellow-400\">{results.data.requires_review || 0}</div>\n                  <div className=\"text-xs text-yellow-300\">Requieren Revisin</div>\n                </div>\n                <div className=\"bg-red-900/30 p-3 rounded-lg text-center\">\n                  <div className=\"text-2xl font-bold text-red-400\">{results.data.failed || 0}</div>\n                  <div className=\"text-xs text-red-300\">Fallidos</div>\n                </div>\n              </div>\n              <div className=\"text-sm text-slate-300\">\n                Tasa de xito: <span className=\"text-white font-medium\">{((results.data.success_rate || 0) * 100).toFixed(0)}%</span>\n              </div>\n            </div>\n          )}\n\n          {results.type === 'redteam' && results.data?.success && (\n            <div>\n              <h4 className=\"text-white font-medium mb-3 flex items-center gap-2\">\n                <span></span> Resultados Red Team Simulation\n              </h4>\n              \n              <div className=\"flex items-center gap-4 mb-4\">\n                <div className={`px-4 py-2 rounded-lg font-bold ${\n                  results.data.data?.bulletproof \n                    ? 'bg-green-600 text-white' \n                    : 'bg-red-600 text-white'\n                }`}>\n                  {results.data.data?.bulletproof ? ' BULLETPROOF' : ' VULNERABLE'}\n                </div>\n                <div className={`px-3 py-1 rounded ${getSeverityColor(results.data.data?.nivel_riesgo)}`}>\n                  Riesgo: {results.data.data?.nivel_riesgo}\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4 mb-4 text-sm\">\n                <div className=\"text-slate-300\">\n                  Vectores testeados: <span className=\"text-white font-medium\">{results.data.data?.vectores_testeados || 0}</span>\n                </div>\n                <div className=\"text-slate-300\">\n                  Vulnerabilidades: <span className=\"text-white font-medium\">{results.data.data?.vulnerabilidades_encontradas || 0}</span>\n                </div>\n              </div>\n\n              {results.data.data?.vulnerabilidades?.length > 0 && (\n                <div className=\"mt-4\">\n                  <h5 className=\"text-white text-sm font-medium mb-2\">Vulnerabilidades encontradas:</h5>\n                  <div className=\"space-y-2 max-h-48 overflow-y-auto\">\n                    {results.data.data.vulnerabilidades.map((v, idx) => (\n                      <div key={idx} className=\"p-3 bg-slate-800 rounded-lg text-sm\">\n                        <div className=\"flex items-center gap-2 mb-1\">\n                          <span className={`px-2 py-0.5 rounded text-xs font-medium ${getSeverityColor(v.severity)}`}>\n                            {v.severity}\n                          </span>\n                          <span className=\"text-slate-400\">{v.vector_name}</span>\n                        </div>\n                        <p className=\"text-slate-200\">{v.description}</p>\n                        {v.recommendation && (\n                          <p className=\"text-green-400 text-xs mt-1\"> {v.recommendation}</p>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              <div className=\"mt-4 p-3 bg-slate-800 rounded-lg text-sm text-slate-300\">\n                <strong>Conclusin:</strong> {results.data.data?.conclusion}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProjectActions;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL \n    ? `${process.env.REACT_APP_BACKEND_URL}/api`\n    : '/api'\n});\n\napi.interceptors.request.use((config) => {\n  const token = localStorage.getItem('auth_token');\n  const empresaId = localStorage.getItem('empresa_id') || 'demo-empresa-001';\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  config.headers['X-Empresa-ID'] = empresaId;\n  return config;\n});\n\nconst severidadColors = {\n  critica: 'bg-red-100 text-red-800 border-red-300',\n  alta: 'bg-orange-100 text-orange-800 border-orange-300',\n  media: 'bg-yellow-100 text-yellow-800 border-yellow-300',\n  baja: 'bg-blue-100 text-blue-800 border-blue-300',\n  info: 'bg-gray-100 text-gray-800 border-gray-300'\n};\n\nconst tipoCambioIcons = {\n  creacion: '',\n  documento_agregado: '',\n  documento_eliminado: '',\n  documento_actualizado: '',\n  validacion_ocr: '',\n  simulacion_red_team: '',\n  correccion_vulnerabilidad: '',\n  cambio_datos_proyecto: '',\n  comunicacion_proveedor: '',\n  comunicacion_cliente: '',\n  ajuste_monto: '',\n  ajuste_fecha: '',\n  regeneracion_expediente: '',\n  nota_interna: '',\n  aprobacion: '',\n  rechazo: '',\n  otro: ''\n};\n\nexport default function VersioningPanel({ proyectoId, onClose }) {\n  const [proyecto, setProyecto] = useState(null);\n  const [versiones, setVersiones] = useState([]);\n  const [bitacora, setBitacora] = useState([]);\n  const [activeTab, setActiveTab] = useState('resumen');\n  const [loading, setLoading] = useState(true);\n  const [showNuevaVersion, setShowNuevaVersion] = useState(false);\n  const [showComunicacion, setShowComunicacion] = useState(false);\n  const [motivo, setMotivo] = useState('');\n  const [comunicacion, setComunicacion] = useState({\n    contraparte: '',\n    tipo_contraparte: 'proveedor',\n    asunto: '',\n    descripcion: ''\n  });\n\n  useEffect(() => {\n    if (proyectoId) {\n      cargarDatos();\n    }\n  }, [proyectoId]);\n\n  const cargarDatos = async () => {\n    setLoading(true);\n    try {\n      const [proyRes, verRes, bitRes] = await Promise.all([\n        api.get(`/versioning/proyectos/${proyectoId}`),\n        api.get(`/versioning/proyectos/${proyectoId}/versiones`),\n        api.get(`/versioning/proyectos/${proyectoId}/bitacora`)\n      ]);\n      setProyecto(proyRes.data.proyecto);\n      setVersiones(verRes.data.versiones || []);\n      setBitacora(bitRes.data.bitacora || []);\n    } catch (error) {\n      console.error('Error cargando datos:', error);\n    }\n    setLoading(false);\n  };\n\n  const crearNuevaVersion = async () => {\n    if (!motivo.trim()) return;\n    try {\n      await api.post(`/versioning/proyectos/${proyectoId}/versiones`, {\n        datos_proyecto: proyecto?.ultima_version?.snapshot_proyecto || {},\n        documentos: [],\n        motivo: motivo,\n        usuario: 'Usuario Dashboard',\n        generar_expediente: true\n      });\n      setMotivo('');\n      setShowNuevaVersion(false);\n      cargarDatos();\n    } catch (error) {\n      console.error('Error creando versin:', error);\n    }\n  };\n\n  const registrarComunicacion = async () => {\n    if (!comunicacion.contraparte || !comunicacion.asunto) return;\n    try {\n      await api.post(`/versioning/proyectos/${proyectoId}/bitacora/comunicacion`, {\n        usuario: 'Usuario Dashboard',\n        ...comunicacion\n      });\n      setComunicacion({ contraparte: '', tipo_contraparte: 'proveedor', asunto: '', descripcion: '' });\n      setShowComunicacion(false);\n      cargarDatos();\n    } catch (error) {\n      console.error('Error registrando comunicacin:', error);\n    }\n  };\n\n  const exportarBitacora = async (formato) => {\n    try {\n      const res = await api.get(`/versioning/proyectos/${proyectoId}/bitacora/reporte?formato=${formato}`);\n      if (formato === 'markdown') {\n        const blob = new Blob([res.data.contenido], { type: 'text/markdown' });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `bitacora_${proyectoId}.md`;\n        a.click();\n      } else {\n        const blob = new Blob([JSON.stringify(res.data, null, 2)], { type: 'application/json' });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `bitacora_${proyectoId}.json`;\n        a.click();\n      }\n    } catch (error) {\n      console.error('Error exportando:', error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n        <div className=\"bg-white rounded-xl p-8\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Cargando historial de cambios...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col\">\n        <div className=\"bg-gradient-to-r from-blue-600 to-indigo-700 text-white p-6\">\n          <div className=\"flex justify-between items-start\">\n            <div>\n              <h2 className=\"text-2xl font-bold\">Historial y Control de Cambios</h2>\n              {proyecto && (\n                <div className=\"mt-2 space-y-1\">\n                  <p className=\"text-blue-100\">{proyecto.nombre}</p>\n                  <p className=\"font-mono text-lg\">{proyecto.folio_actual}</p>\n                </div>\n              )}\n            </div>\n            <button onClick={onClose} className=\"text-white/80 hover:text-white text-2xl\">\n              \n            </button>\n          </div>\n          \n          <div className=\"flex gap-2 mt-4\">\n            {['resumen', 'versiones', 'bitacora'].map(tab => (\n              <button\n                key={tab}\n                onClick={() => setActiveTab(tab)}\n                className={`px-4 py-2 rounded-lg font-medium transition-all ${\n                  activeTab === tab \n                    ? 'bg-white text-blue-700' \n                    : 'bg-blue-500/30 text-white hover:bg-blue-500/50'\n                }`}\n              >\n                {tab === 'resumen' && ' Vista General'}\n                {tab === 'versiones' && ' Historial'}\n                {tab === 'bitacora' && ' Registro de Actividad'}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-auto p-6\">\n          {activeTab === 'resumen' && proyecto && (\n            <div className=\"space-y-6\">\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                <div className=\"bg-blue-50 rounded-xl p-4 text-center\">\n                  <div className=\"text-3xl font-bold text-blue-700\">v{proyecto.version_actual}</div>\n                  <div className=\"text-sm text-gray-600\">Versin Actual</div>\n                </div>\n                <div className=\"bg-green-50 rounded-xl p-4 text-center\">\n                  <div className=\"text-3xl font-bold text-green-700\">{proyecto.total_versiones}</div>\n                  <div className=\"text-sm text-gray-600\">Versiones Creadas</div>\n                </div>\n                <div className=\"bg-purple-50 rounded-xl p-4 text-center\">\n                  <div className=\"text-3xl font-bold text-purple-700\">{proyecto.total_entradas_bitacora}</div>\n                  <div className=\"text-sm text-gray-600\">Actividades Registradas</div>\n                </div>\n                <div className=\"bg-orange-50 rounded-xl p-4 text-center\">\n                  <div className=\"text-3xl font-bold text-orange-700 capitalize\">{proyecto.estado}</div>\n                  <div className=\"text-sm text-gray-600\">Estado</div>\n                </div>\n              </div>\n\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={() => setShowNuevaVersion(true)}\n                  className=\"flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors\"\n                >\n                   Crear Nueva Versin\n                </button>\n                <button\n                  onClick={() => setShowComunicacion(true)}\n                  className=\"flex-1 bg-green-600 text-white py-3 rounded-lg font-medium hover:bg-green-700 transition-colors\"\n                >\n                   Documentar Comunicacin\n                </button>\n              </div>\n\n              {proyecto.ultima_version && (\n                <div className=\"bg-gray-50 rounded-xl p-4\">\n                  <h3 className=\"font-semibold text-gray-700 mb-3\">Versin Ms Reciente</h3>\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <div><span className=\"text-gray-500\">Estado:</span> {proyecto.ultima_version.estado}</div>\n                    <div><span className=\"text-gray-500\">Documentos:</span> {proyecto.ultima_version.documentos}</div>\n                    <div><span className=\"text-gray-500\">Puntuacin de Riesgo:</span> {proyecto.ultima_version.risk_score || 'N/A'}</div>\n                    <div><span className=\"text-gray-500\">PDF:</span> {proyecto.ultima_version.pdf_generado ? '' : ''}</div>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTab === 'versiones' && (\n            <div className=\"space-y-4\">\n              {versiones.map((v, idx) => (\n                <div key={idx} className=\"bg-gray-50 rounded-xl p-4 border border-gray-200\">\n                  <div className=\"flex justify-between items-start\">\n                    <div>\n                      <div className=\"font-mono text-lg font-semibold text-blue-700\">{v.folio}</div>\n                      <div className=\"text-sm text-gray-500 mt-1\">\n                        {new Date(v.fecha_creacion).toLocaleString('es-MX')} por {v.creado_por}\n                      </div>\n                    </div>\n                    <span className={`px-3 py-1 rounded-full text-sm ${\n                      v.estado === 'aprobado' ? 'bg-green-100 text-green-800' :\n                      v.estado === 'borrador' ? 'bg-yellow-100 text-yellow-800' :\n                      'bg-gray-100 text-gray-800'\n                    }`}>\n                      {v.estado}\n                    </span>\n                  </div>\n                  <p className=\"mt-2 text-gray-700\">{v.motivo}</p>\n                  <div className=\"mt-3 flex gap-4 text-sm text-gray-500\">\n                    <span> {v.documentos} docs</span>\n                    {v.risk_score && <span> Riesgo: {v.risk_score}</span>}\n                    {v.pdf_generado && <span> PDF</span>}\n                    {v.zip_generado && <span> ZIP</span>}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n\n          {activeTab === 'bitacora' && (\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-end gap-2\">\n                <button\n                  onClick={() => exportarBitacora('markdown')}\n                  className=\"px-4 py-2 bg-gray-100 rounded-lg text-sm hover:bg-gray-200\"\n                >\n                   Descargar Markdown\n                </button>\n                <button\n                  onClick={() => exportarBitacora('json')}\n                  className=\"px-4 py-2 bg-gray-100 rounded-lg text-sm hover:bg-gray-200\"\n                >\n                   Descargar Datos\n                </button>\n              </div>\n              \n              {bitacora.map((entrada, idx) => (\n                <div key={idx} className={`rounded-xl p-4 border ${severidadColors[entrada.severidad] || severidadColors.info}`}>\n                  <div className=\"flex items-start gap-3\">\n                    <span className=\"text-2xl\">{tipoCambioIcons[entrada.tipo_cambio] || ''}</span>\n                    <div className=\"flex-1\">\n                      <div className=\"flex justify-between items-start\">\n                        <h4 className=\"font-semibold\">{entrada.titulo}</h4>\n                        <span className=\"text-xs opacity-70\">\n                          {new Date(entrada.timestamp).toLocaleString('es-MX')}\n                        </span>\n                      </div>\n                      <p className=\"text-sm mt-1 opacity-80\">{entrada.descripcion}</p>\n                      <div className=\"mt-2 text-xs opacity-60\">\n                        Por: {entrada.usuario}\n                        {entrada.es_comunicacion_externa && `  ${entrada.contraparte}`}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {showNuevaVersion && (\n          <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-60\">\n            <div className=\"bg-white rounded-xl p-6 w-full max-w-md\">\n              <h3 className=\"text-xl font-bold mb-4\">Crear Nueva Versin</h3>\n              <textarea\n                value={motivo}\n                onChange={(e) => setMotivo(e.target.value)}\n                placeholder=\"Describe brevemente los cambios realizados...\"\n                className=\"w-full border rounded-lg p-3 h-32 mb-4\"\n              />\n              <div className=\"flex gap-3\">\n                <button onClick={() => setShowNuevaVersion(false)} className=\"flex-1 py-2 border rounded-lg\">\n                  Cancelar\n                </button>\n                <button onClick={crearNuevaVersion} className=\"flex-1 py-2 bg-blue-600 text-white rounded-lg\">\n                  Crear Versin\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {showComunicacion && (\n          <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-60\">\n            <div className=\"bg-white rounded-xl p-6 w-full max-w-md\">\n              <h3 className=\"text-xl font-bold mb-4\">Documentar Comunicacin</h3>\n              <div className=\"space-y-3\">\n                <input\n                  value={comunicacion.contraparte}\n                  onChange={(e) => setComunicacion({...comunicacion, contraparte: e.target.value})}\n                  placeholder=\"Nombre de la persona o empresa...\"\n                  className=\"w-full border rounded-lg p-3\"\n                />\n                <select\n                  value={comunicacion.tipo_contraparte}\n                  onChange={(e) => setComunicacion({...comunicacion, tipo_contraparte: e.target.value})}\n                  className=\"w-full border rounded-lg p-3\"\n                >\n                  <option value=\"proveedor\">Proveedor</option>\n                  <option value=\"cliente\">Cliente</option>\n                </select>\n                <input\n                  value={comunicacion.asunto}\n                  onChange={(e) => setComunicacion({...comunicacion, asunto: e.target.value})}\n                  placeholder=\"Asunto...\"\n                  className=\"w-full border rounded-lg p-3\"\n                />\n                <textarea\n                  value={comunicacion.descripcion}\n                  onChange={(e) => setComunicacion({...comunicacion, descripcion: e.target.value})}\n                  placeholder=\"Detalla la conversacin o acuerdo...\"\n                  className=\"w-full border rounded-lg p-3 h-24\"\n                />\n              </div>\n              <div className=\"flex gap-3 mt-4\">\n                <button onClick={() => setShowComunicacion(false)} className=\"flex-1 py-2 border rounded-lg\">\n                  Cancelar\n                </button>\n                <button onClick={registrarComunicacion} className=\"flex-1 py-2 bg-green-600 text-white rounded-lg\">\n                  Registrar\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useCallback } from 'react';\n\nconst TIPOS_DOCUMENTO = [\n  { value: 'SIB_BEE', label: 'SIB / BEE (Solicitud Interna / Beneficio Econmico Esperado)', fases: ['F0'] },\n  { value: 'SOW', label: 'SOW / Orden de Trabajo', fases: ['F1'] },\n  { value: 'CONTRATO', label: 'Contrato', fases: ['F1', 'F2'] },\n  { value: 'ANEXO_TECNICO', label: 'Anexo Tcnico', fases: ['F1', 'F2'] },\n  { value: 'CRONOGRAMA', label: 'Cronograma de Hitos', fases: ['F1', 'F2'] },\n  { value: 'MINUTA_KICKOFF', label: 'Minuta Kick-off', fases: ['F3'] },\n  { value: 'ENTREGABLE_V1', label: 'Entregable Versin 1', fases: ['F3'] },\n  { value: 'ENTREGABLE_ITERATIVO', label: 'Entregable Iterativo', fases: ['F4'] },\n  { value: 'MINUTA_REVISION', label: 'Minuta de Revisin', fases: ['F4'] },\n  { value: 'ENTREGABLE_FINAL', label: 'Entregable Final', fases: ['F5'] },\n  { value: 'ACTA_ACEPTACION', label: 'Acta de Aceptacin Tcnica', fases: ['F5', 'F6'] },\n  { value: 'ESTUDIO_TP', label: 'Estudio de Precios de Transferencia', fases: ['F6'] },\n  { value: 'CFDI', label: 'CFDI / Factura', fases: ['F8'] },\n  { value: 'COMPROBANTE_PAGO', label: 'Comprobante de Pago', fases: ['F8'] },\n  { value: 'EVIDENCIA_EJECUCION', label: 'Evidencia de Ejecucin', fases: ['F3', 'F4', 'F5'] },\n  { value: 'CORRESPONDENCIA', label: 'Correspondencia / Emails', fases: ['F0', 'F1', 'F2', 'F3', 'F4', 'F5'] },\n  { value: 'OTRO', label: 'Otro', fases: ['F0', 'F1', 'F2', 'F3', 'F4', 'F5', 'F6', 'F7', 'F8', 'F9'] }\n];\n\nfunction CargaDocumentos({ proyectoId, faseActual, onDocumentoCargado, onClose }) {\n  const [archivo, setArchivo] = useState(null);\n  const [tipo, setTipo] = useState('');\n  const [descripcion, setDescripcion] = useState('');\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState(null);\n  const [dragActive, setDragActive] = useState(false);\n\n  const tiposDisponibles = TIPOS_DOCUMENTO.filter(t => \n    t.fases.includes(faseActual) || t.value === 'OTRO'\n  );\n\n  const handleDrag = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === 'dragenter' || e.type === 'dragover') {\n      setDragActive(true);\n    } else if (e.type === 'dragleave') {\n      setDragActive(false);\n    }\n  }, []);\n\n  const handleDrop = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    \n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      setArchivo(e.dataTransfer.files[0]);\n      setError(null);\n    }\n  }, []);\n\n  const handleFileChange = (e) => {\n    if (e.target.files && e.target.files[0]) {\n      const file = e.target.files[0];\n      \n      if (file.size > 50 * 1024 * 1024) {\n        setError('El archivo excede el lmite de 50MB');\n        return;\n      }\n      \n      const allowedTypes = [\n        'application/pdf',\n        'application/msword',\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n        'application/vnd.ms-excel',\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n        'application/vnd.ms-powerpoint',\n        'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n        'image/png',\n        'image/jpeg',\n        'application/xml',\n        'text/xml'\n      ];\n      \n      if (!allowedTypes.includes(file.type) && !file.name.endsWith('.xml')) {\n        setError('Tipo de archivo no permitido. Use PDF, Word, Excel, PowerPoint, imgenes o XML.');\n        return;\n      }\n      \n      setArchivo(file);\n      setError(null);\n    }\n  };\n\n  async function handleUpload(e) {\n    e.preventDefault();\n    \n    if (!archivo) {\n      setError('Selecciona un archivo');\n      return;\n    }\n    \n    if (!tipo) {\n      setError('Selecciona el tipo de documento');\n      return;\n    }\n\n    setUploading(true);\n    setError(null);\n\n    try {\n      const formData = new FormData();\n      formData.append('archivo', archivo);\n      formData.append('tipo', tipo);\n      formData.append('descripcion', descripcion || archivo.name);\n      formData.append('fase_asociada', faseActual);\n\n      const response = await fetch(`/api/proyectos/${proyectoId}/documentos`, {\n        method: 'POST',\n        body: formData\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        setArchivo(null);\n        setTipo('');\n        setDescripcion('');\n        \n        if (onDocumentoCargado) {\n          onDocumentoCargado(data);\n        }\n      } else {\n        setError(data.error || 'Error al cargar el documento');\n      }\n    } catch (err) {\n      setError('Error de conexin: ' + err.message);\n    }\n    \n    setUploading(false);\n  }\n\n  const formatFileSize = (bytes) => {\n    if (bytes < 1024) return bytes + ' B';\n    if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';\n    return (bytes / (1024 * 1024)).toFixed(1) + ' MB';\n  };\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 max-w-lg w-full\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h3 className=\"text-lg font-bold text-gray-800 dark:text-white\">\n          Cargar Documento - Fase {faseActual}\n        </h3>\n        {onClose && (\n          <button \n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n          >\n            \n          </button>\n        )}\n      </div>\n\n      <form onSubmit={handleUpload} className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n            Tipo de documento *\n          </label>\n          <select\n            value={tipo}\n            onChange={(e) => setTipo(e.target.value)}\n            className=\"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white\"\n            required\n          >\n            <option value=\"\">Seleccionar tipo...</option>\n            {tiposDisponibles.map(t => (\n              <option key={t.value} value={t.value}>{t.label}</option>\n            ))}\n          </select>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n            Descripcin\n          </label>\n          <input\n            type=\"text\"\n            value={descripcion}\n            onChange={(e) => setDescripcion(e.target.value)}\n            className=\"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white\"\n            placeholder=\"Ej: Informe Final V2.0 - Estudio de Mercado NL\"\n          />\n        </div>\n\n        <div\n          onDragEnter={handleDrag}\n          onDragLeave={handleDrag}\n          onDragOver={handleDrag}\n          onDrop={handleDrop}\n          className={`\n            border-2 border-dashed rounded-lg p-6 text-center cursor-pointer\n            transition-colors duration-200\n            ${dragActive \n              ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20' \n              : 'border-gray-300 dark:border-gray-600 hover:border-gray-400'\n            }\n            ${archivo ? 'bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-600' : ''}\n          `}\n        >\n          <input\n            type=\"file\"\n            onChange={handleFileChange}\n            className=\"hidden\"\n            id=\"file-upload\"\n            accept=\".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.png,.jpg,.jpeg,.xml\"\n          />\n          \n          {archivo ? (\n            <div className=\"space-y-2\">\n              <div className=\"text-green-600 text-4xl\"></div>\n              <div className=\"font-medium text-gray-800 dark:text-white\">{archivo.name}</div>\n              <div className=\"text-sm text-gray-500 dark:text-gray-400\">{formatFileSize(archivo.size)}</div>\n              <button\n                type=\"button\"\n                onClick={() => setArchivo(null)}\n                className=\"text-sm text-red-600 hover:text-red-800\"\n              >\n                Cambiar archivo\n              </button>\n            </div>\n          ) : (\n            <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\n              <div className=\"text-gray-400 text-4xl mb-2\"></div>\n              <div className=\"text-gray-600 dark:text-gray-300\">\n                Arrastra un archivo aqu o <span className=\"text-blue-600\">seleccinalo</span>\n              </div>\n              <div className=\"text-xs text-gray-400 mt-1\">\n                PDF, Word, Excel, PowerPoint, imgenes o XML (mx. 50MB)\n              </div>\n            </label>\n          )}\n        </div>\n\n        {error && (\n          <div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded-md text-sm\">\n            {error}\n          </div>\n        )}\n\n        <div className=\"flex gap-3\">\n          {onClose && (\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\"\n            >\n              Cancelar\n            </button>\n          )}\n          <button\n            type=\"submit\"\n            disabled={uploading || !archivo || !tipo}\n            className={`\n              flex-1 px-4 py-2 rounded-md text-white font-medium\n              ${uploading || !archivo || !tipo\n                ? 'bg-gray-400 cursor-not-allowed'\n                : 'bg-blue-600 hover:bg-blue-700'\n              }\n            `}\n          >\n            {uploading ? (\n              <span className=\"flex items-center justify-center gap-2\">\n                <svg className=\"animate-spin h-4 w-4\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\"/>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\"/>\n                </svg>\n                Cargando...\n              </span>\n            ) : (\n              'Cargar Documento'\n            )}\n          </button>\n        </div>\n      </form>\n\n      <div className=\"mt-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-md text-xs text-gray-600 dark:text-gray-300\">\n        <strong>Documentos sugeridos para {faseActual}:</strong>\n        <ul className=\"mt-1 list-disc list-inside\">\n          {tiposDisponibles.slice(0, 4).map(t => (\n            <li key={t.value}>{t.label}</li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default CargaDocumentos;\n","import React, { useState, useEffect, useCallback } from 'react';\n\nfunction ListaDocumentos({ proyectoId, faseActual, refreshTrigger }) {\n  const [documentos, setDocumentos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filtroFase, setFiltroFase] = useState('TODAS');\n\n  const cargarDocumentos = useCallback(async () => {\n    if (!proyectoId) return;\n    \n    setLoading(true);\n    try {\n      const response = await fetch(`/api/proyectos/${proyectoId}/documentos`);\n      const data = await response.json();\n      setDocumentos(data.documentos || data || []);\n    } catch (error) {\n      console.error('Error cargando documentos:', error);\n    }\n    setLoading(false);\n  }, [proyectoId]);\n\n  useEffect(() => {\n    cargarDocumentos();\n  }, [cargarDocumentos, refreshTrigger]);\n\n  const documentosFiltrados = filtroFase === 'TODAS' \n    ? documentos \n    : documentos.filter(d => d.fase_asociada === filtroFase);\n\n  const getIconoTipo = (tipo) => {\n    const iconos = {\n      'SIB_BEE': '',\n      'SOW': '',\n      'CONTRATO': '',\n      'CFDI': '',\n      'ENTREGABLE_FINAL': '',\n      'ENTREGABLE_V1': '',\n      'ENTREGABLE_ITERATIVO': '',\n      'MINUTA_KICKOFF': '',\n      'MINUTA_REVISION': '',\n      'EVIDENCIA_EJECUCION': '',\n      'ACTA_ACEPTACION': '',\n      'ESTUDIO_TP': '',\n      'COMPROBANTE_PAGO': '',\n      'CORRESPONDENCIA': '',\n      'ANEXO_TECNICO': '',\n      'CRONOGRAMA': '',\n      'default': ''\n    };\n    return iconos[tipo] || iconos.default;\n  };\n\n  const formatFecha = (fecha) => {\n    if (!fecha) return '-';\n    return new Date(fecha).toLocaleDateString('es-MX', {\n      day: '2-digit',\n      month: 'short',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const formatTipo = (tipo) => {\n    if (!tipo) return '-';\n    return tipo.replace(/_/g, ' ');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-8 text-center\">\n        <div className=\"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-3\"></div>\n        <div className=\"text-gray-500 dark:text-gray-400\">Cargando documentos...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow\">\n      <div className=\"p-4 border-b dark:border-gray-700 flex justify-between items-center\">\n        <h3 className=\"font-bold text-gray-800 dark:text-white\">\n          Documentos del Proyecto ({documentos.length})\n        </h3>\n        <select\n          value={filtroFase}\n          onChange={(e) => setFiltroFase(e.target.value)}\n          className=\"border dark:border-gray-600 rounded px-2 py-1 text-sm dark:bg-gray-700 dark:text-white\"\n        >\n          <option value=\"TODAS\">Todas las fases</option>\n          {['F0','F1','F2','F3','F4','F5','F6','F7','F8','F9'].map(f => (\n            <option key={f} value={f}>{f}</option>\n          ))}\n        </select>\n      </div>\n\n      {documentosFiltrados.length === 0 ? (\n        <div className=\"p-8 text-center text-gray-500 dark:text-gray-400\">\n          <div className=\"text-4xl mb-2\"></div>\n          <div>No hay documentos {filtroFase !== 'TODAS' ? `en fase ${filtroFase}` : ''}</div>\n        </div>\n      ) : (\n        <ul className=\"divide-y dark:divide-gray-700\">\n          {documentosFiltrados.map(doc => (\n            <li key={doc.id} className=\"p-4 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-4\">\n              <span className=\"text-2xl\">{getIconoTipo(doc.tipo)}</span>\n              \n              <div className=\"flex-1 min-w-0\">\n                <div className=\"font-medium text-gray-800 dark:text-white truncate\">\n                  {doc.descripcion || doc.nombre_archivo}\n                </div>\n                <div className=\"text-sm text-gray-500 dark:text-gray-400 flex flex-wrap gap-3\">\n                  <span className=\"bg-gray-100 dark:bg-gray-600 px-2 py-0.5 rounded\">{doc.fase_asociada}</span>\n                  <span>{formatTipo(doc.tipo)}</span>\n                  <span>{formatFecha(doc.fecha_carga)}</span>\n                </div>\n              </div>\n\n              <div className=\"flex gap-2\">\n                {doc.url_descarga && (\n                  <a\n                    href={doc.url_descarga}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"px-3 py-1 text-sm bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-800\"\n                  >\n                    Ver\n                  </a>\n                )}\n                {doc.pcloud_link && (\n                  <a\n                    href={doc.pcloud_link}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"px-3 py-1 text-sm bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 rounded hover:bg-green-200 dark:hover:bg-green-800\"\n                  >\n                    pCloud\n                  </a>\n                )}\n              </div>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default ListaDocumentos;\n","import React, { useEffect } from 'react';\n\nfunction Modal({ isOpen, onClose, children }) {\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n    \n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen]);\n\n  if (!isOpen) return null;\n\n  return (\n    <div \n      className=\"fixed inset-0 z-50 flex items-center justify-center\"\n      onClick={onClose}\n    >\n      <div className=\"absolute inset-0 bg-black bg-opacity-50\" />\n      \n      <div \n        className=\"relative z-10\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {children}\n      </div>\n    </div>\n  );\n}\n\nexport default Modal;\n","import React from 'react';\n\nfunction RiskScoreMiniChart({ \n  razonNegocios = 0, \n  beneficioEconomico = 0, \n  materialidad = 0, \n  trazabilidad = 0 \n}) {\n  const pilares = [\n    { key: 'rn', valor: razonNegocios, color: 'bg-blue-500', label: 'RN' },\n    { key: 'be', valor: beneficioEconomico, color: 'bg-green-500', label: 'BE' },\n    { key: 'ma', valor: materialidad, color: 'bg-purple-500', label: 'MA' },\n    { key: 'tr', valor: trazabilidad, color: 'bg-orange-500', label: 'TR' }\n  ];\n  \n  return (\n    <div \n      className=\"flex items-center gap-1\" \n      title=\"RN: Razn Negocios | BE: Beneficio Econmico | MA: Materialidad | TR: Trazabilidad\"\n    >\n      {pilares.map(pilar => (\n        <div key={pilar.key} className=\"flex flex-col items-center\">\n          <div className=\"w-6 h-12 bg-gray-200 rounded-sm overflow-hidden flex flex-col-reverse\">\n            <div \n              className={`${pilar.color} transition-all duration-300`}\n              style={{ height: `${(pilar.valor / 25) * 100}%` }}\n            />\n          </div>\n          <span className=\"text-[10px] text-gray-500 mt-0.5\">{pilar.label}</span>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default RiskScoreMiniChart;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ProjectActions from './ProjectActions';\nimport VersioningPanel from './VersioningPanel';\nimport CargaDocumentos from './CargaDocumentos';\nimport ListaDocumentos from './ListaDocumentos';\nimport Modal from './Modal';\nimport RiskScoreBadge from './RiskScoreBadge';\nimport RiskScoreMiniChart from './RiskScoreMiniChart';\n\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL \n    ? `${process.env.REACT_APP_BACKEND_URL}/api`\n    : '/api',\n  headers: {\n    'Content-Type': 'application/json',\n    'Cache-Control': 'no-cache'\n  }\n});\n\nconst BotIcon = ({ className }) => (\n  <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <rect x=\"3\" y=\"11\" width=\"18\" height=\"10\" rx=\"2\"/>\n    <circle cx=\"12\" cy=\"5\" r=\"2\"/>\n    <path d=\"M12 7v4\"/>\n    <line x1=\"8\" y1=\"16\" x2=\"8\" y2=\"16\"/>\n    <line x1=\"16\" y1=\"16\" x2=\"16\" y2=\"16\"/>\n  </svg>\n);\n\nconst ChartIcon = ({ className }) => (\n  <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <line x1=\"18\" y1=\"20\" x2=\"18\" y2=\"10\"/>\n    <line x1=\"12\" y1=\"20\" x2=\"12\" y2=\"4\"/>\n    <line x1=\"6\" y1=\"20\" x2=\"6\" y2=\"14\"/>\n  </svg>\n);\n\nconst LockIcon = ({ className }) => (\n  <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"/>\n    <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"/>\n  </svg>\n);\n\nconst CheckIcon = ({ className }) => (\n  <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <polyline points=\"20 6 9 17 4 12\"/>\n  </svg>\n);\n\nconst ShieldIcon = ({ className }) => (\n  <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <path d=\"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z\"/>\n    <path d=\"M9 12l2 2 4-4\"/>\n  </svg>\n);\n\nconst MoonIcon = ({ className }) => (\n  <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"/>\n  </svg>\n);\n\nconst SunIcon = ({ className }) => (\n  <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <circle cx=\"12\" cy=\"12\" r=\"5\"/>\n    <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\"/>\n    <line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\"/>\n    <line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\"/>\n    <line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\"/>\n    <line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\"/>\n    <line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\"/>\n    <line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\"/>\n    <line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\"/>\n  </svg>\n);\n\nconst AlertTriangleIcon = ({ className }) => (\n  <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"/>\n    <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"/>\n    <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"/>\n  </svg>\n);\n\nconst TagIcon = ({ className }) => (\n  <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <path d=\"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z\"/>\n    <line x1=\"7\" y1=\"7\" x2=\"7.01\" y2=\"7\"/>\n  </svg>\n);\n\nconst ExternalLinkIcon = ({ className }) => (\n  <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"/>\n    <polyline points=\"15 3 21 3 21 9\"/>\n    <line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\"/>\n  </svg>\n);\n\nconst ClockIcon = ({ className }) => (\n  <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <circle cx=\"12\" cy=\"12\" r=\"10\"/>\n    <polyline points=\"12 6 12 12 16 14\"/>\n  </svg>\n);\n\nconst formatCurrency = (amount) => {\n  if (amount >= 1000000) {\n    return `$${(amount / 1000000).toFixed(1)}M MXN`;\n  }\n  return new Intl.NumberFormat('es-MX', { style: 'currency', currency: 'MXN' }).format(amount);\n};\n\nconst initialDashboardData = {\n  kpis: {\n    diagnosticos_activos: 6,\n    ajustes_solicitados: 54,\n    ajustes_resueltos: 24,\n    versiones_totales: 17,\n    monto_en_revision: 15200000\n  },\n  distribucion_riesgo: {\n    critico: 1,\n    alto: 1,\n    medio: 2,\n    bajo: 2\n  },\n  proveedores: [\n    { id: \"PROV-001\", nombre: \"TechSoft Solutions SA de CV\", rfc: \"TSO150312AB1\", proyecto: \"Licencias ERP 2024\", monto: 2500000, fase: \"A3\", progreso: 65, ajustes_sol: 8, ajustes_res: 5, dias_sin_act: 2, riesgo: \"medio\" },\n    { id: \"PROV-002\", nombre: \"Cloud Services MX\", rfc: \"CSM180924XY2\", proyecto: \"Infraestructura Cloud Q4\", monto: 4200000, fase: \"A6\", progreso: 35, ajustes_sol: 12, ajustes_res: 3, dias_sin_act: 7, riesgo: \"alto\" },\n    { id: \"PROV-003\", nombre: \"Digital Marketing Pro\", rfc: \"DMP200115ZZ3\", proyecto: \"Campaa Digital 2024\", monto: 850000, fase: \"A7\", progreso: 90, ajustes_sol: 4, ajustes_res: 4, dias_sin_act: 1, riesgo: \"bajo\" },\n    { id: \"PROV-004\", nombre: \"Consultora Estratgica SA\", rfc: \"CES190507AA4\", proyecto: \"Asesora Fiscal Especial\", monto: 1800000, fase: \"A6\", progreso: 20, ajustes_sol: 15, ajustes_res: 2, dias_sin_act: 14, riesgo: \"critico\" },\n    { id: \"PROV-005\", nombre: \"Software Factory MX\", rfc: \"SFM170823BB5\", proyecto: \"Desarrollo App Mvil\", monto: 3100000, fase: \"A7\", progreso: 85, ajustes_sol: 6, ajustes_res: 6, dias_sin_act: 0, riesgo: \"bajo\" },\n    { id: \"PROV-006\", nombre: \"Data Analytics Corp\", rfc: \"DAC210302CC6\", proyecto: \"BI Dashboard Enterprise\", monto: 2750000, fase: \"A3\", progreso: 50, ajustes_sol: 9, ajustes_res: 4, dias_sin_act: 5, riesgo: \"medio\" }\n  ]\n};\n\nfunction DurezzaDashboard() {\n  const [dashboardData, setDashboardData] = useState(initialDashboardData);\n  const [subagentes, setSubagentes] = useState([]);\n  const [fases, setFases] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [tipificacionResult, setTipificacionResult] = useState(null);\n  const [riesgosResult, setRiesgosResult] = useState(null);\n  const [showVersioning, setShowVersioning] = useState(false);\n  const [selectedProyectoId, setSelectedProyectoId] = useState(null);\n  const [showDocumentUpload, setShowDocumentUpload] = useState(false);\n  const [docRefreshTrigger, setDocRefreshTrigger] = useState(0);\n  const [estadisticas, setEstadisticas] = useState(null);\n  const [darkMode, setDarkMode] = useState(() => {\n    if (typeof window !== 'undefined') {\n      const saved = localStorage.getItem('durezza-dark-mode');\n      return saved === 'true';\n    }\n    return false;\n  });\n\n  useEffect(() => {\n    if (darkMode) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n    localStorage.setItem('durezza-dark-mode', darkMode);\n  }, [darkMode]);\n\n  useEffect(() => {\n    cargarDatos();\n  }, []);\n\n  async function cargarDatos() {\n    setLoading(true);\n    try {\n      const [subRes, fasesRes, estadisticasRes] = await Promise.all([\n        api.get('/subagentes/'),\n        api.get('/fases/'),\n        api.get('/durezza/estadisticas')\n      ]);\n      setSubagentes(subRes.data.subagentes || []);\n      setFases(fasesRes.data);\n      setEstadisticas(estadisticasRes.data);\n      \n      const ejemploRes = await api.get('/subagentes/ejemplo/tipificacion');\n      setTipificacionResult(ejemploRes.data);\n      \n      const riesgosRes = await api.get('/subagentes/ejemplo/riesgos-criticos');\n      setRiesgosResult(riesgosRes.data);\n      \n    } catch (err) {\n      console.error('Error cargando datos:', err);\n      setError(err.message);\n    }\n    setLoading(false);\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center transition-colors duration-300\">\n        <div className=\"text-center animate-fade-in\">\n          <div className=\"relative\">\n            <div className=\"w-16 h-16 border-4 border-blue-200 dark:border-blue-800 rounded-full animate-pulse-glow border-t-blue-600 dark:border-t-blue-400 mx-auto\"></div>\n            <div className=\"absolute inset-0 flex items-center justify-center\">\n              <ShieldIcon className=\"w-6 h-6 flex-shrink-0 text-blue-600 dark:text-blue-400\" />\n            </div>\n          </div>\n          <p className=\"mt-6 text-slate-600 dark:text-slate-300 font-medium animate-fade-in\">Preparando tu espacio de trabajo...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-slate-50 to-blue-50 dark:from-slate-900 dark:via-slate-900 dark:to-slate-800 transition-colors duration-300\">\n      <header className=\"relative overflow-hidden\">\n        <div className=\"absolute inset-0 bg-gradient-to-r from-slate-900 via-blue-900 to-indigo-900\"></div>\n        <div className=\"absolute inset-0 opacity-30\">\n          <svg className=\"w-full h-full\" xmlns=\"http://www.w3.org/2000/svg\">\n            <defs>\n              <pattern id=\"mesh\" width=\"40\" height=\"40\" patternUnits=\"userSpaceOnUse\">\n                <circle cx=\"20\" cy=\"20\" r=\"1\" fill=\"rgba(255,255,255,0.3)\"/>\n              </pattern>\n            </defs>\n            <rect width=\"100%\" height=\"100%\" fill=\"url(#mesh)\"/>\n          </svg>\n        </div>\n        <div className=\"absolute inset-0 backdrop-blur-[1px]\"></div>\n        \n        <div className=\"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8\">\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n            <div className=\"animate-fade-in-up\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-gradient-to-br from-blue-400 to-indigo-600 flex items-center justify-center shadow-lg shadow-blue-500/30\">\n                  <ShieldIcon className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" />\n                </div>\n                <div>\n                  <h1 className=\"text-2xl sm:text-3xl font-bold text-white tracking-tight\">REVISAR.IA</h1>\n                  <p className=\"text-blue-200 text-sm sm:text-base\">Tu aliado en la gestin fiscal de servicios intangibles</p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"flex flex-wrap gap-2 sm:gap-3\">\n              <a\n                href={`/api/defense-file/${selectedProyectoId || 'demo-proyecto-001'}/download-complete`}\n                download\n                className=\"btn-ghost-premium text-white hover:bg-green-500/20 border border-green-400/50 hover:border-green-400 bg-green-500/10\"\n              >\n                <span className=\"text-lg flex-shrink-0\"></span>\n                <span className=\"hidden sm:inline text-sm font-medium\">Descargar Expediente</span>\n              </a>\n              <button\n                onClick={() => {\n                  setSelectedProyectoId('demo-proyecto-001');\n                  setShowVersioning(true);\n                }}\n                className=\"btn-ghost-premium text-white hover:bg-white/10 border border-white/30 hover:border-white/50\"\n              >\n                <span className=\"text-lg flex-shrink-0\"></span>\n                <span className=\"hidden sm:inline text-sm font-medium\">Control de Versiones</span>\n              </button>\n              <button\n                onClick={() => setDarkMode(!darkMode)}\n                className=\"btn-ghost-premium text-white hover:bg-white/10 border border-white/30 hover:border-white/50\"\n              >\n                {darkMode ? (\n                  <>\n                    <SunIcon className=\"w-5 h-5 flex-shrink-0\" />\n                    <span className=\"hidden sm:inline text-sm font-medium\">Modo Claro</span>\n                  </>\n                ) : (\n                  <>\n                    <MoonIcon className=\"w-5 h-5 flex-shrink-0\" />\n                    <span className=\"hidden sm:inline text-sm font-medium\">Modo Oscuro</span>\n                  </>\n                )}\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-8\">\n        {/* New KPIs Section */}\n        <div className=\"grid grid-cols-2 lg:grid-cols-5 gap-3 sm:gap-4 lg:gap-6 mb-6 sm:mb-8\">\n          <KPICardNew \n            title=\"Diagnsticos Activos\"\n            value={dashboardData.kpis.diagnosticos_activos}\n            icon=\"\"\n            gradientFrom=\"#7C3AED\"\n            gradientTo=\"#9333EA\"\n            delay=\"0\"\n          />\n          <KPICardNew \n            title=\"Ajustes Solicitados\"\n            value={dashboardData.kpis.ajustes_solicitados}\n            icon=\"\"\n            gradientFrom=\"#F59E0B\"\n            gradientTo=\"#D97706\"\n            delay=\"100\"\n          />\n          <KPICardNew \n            title=\"Ajustes Resueltos\"\n            value={dashboardData.kpis.ajustes_resueltos}\n            subtitle={`${((dashboardData.kpis.ajustes_resueltos / dashboardData.kpis.ajustes_solicitados) * 100).toFixed(1)}%`}\n            icon=\"\"\n            gradientFrom=\"#10B981\"\n            gradientTo=\"#059669\"\n            delay=\"200\"\n          />\n          <KPICardNew \n            title=\"Versiones Generadas\"\n            value={dashboardData.kpis.versiones_totales}\n            icon=\"\"\n            gradientFrom=\"#3B82F6\"\n            gradientTo=\"#2563EB\"\n            delay=\"300\"\n          />\n          <KPICardNew \n            title=\"Monto en Revisin\"\n            value={formatCurrency(dashboardData.kpis.monto_en_revision)}\n            icon=\"\"\n            gradientFrom=\"#5B21B6\"\n            gradientTo=\"#7C3AED\"\n            delay=\"400\"\n            isLarge\n          />\n        </div>\n\n        {/* Risk Distribution Section */}\n        <div className=\"glass-card-hover overflow-hidden animate-fade-in mb-6 sm:mb-8\">\n          <div className=\"h-1 bg-gradient-to-r from-red-500 via-amber-500 to-green-500\"></div>\n          <div className=\"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 px-4 sm:px-6 py-4 border-b border-slate-200/50 dark:border-slate-700/50\">\n            <h2 className=\"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2\">\n              <AlertTriangleIcon className=\"w-5 h-5 flex-shrink-0 text-amber-600 dark:text-amber-400\" />\n              Distribucin de Riesgo\n            </h2>\n          </div>\n          <div className=\"p-4 sm:p-6\">\n            <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4\">\n              <RiskDistributionCard \n                label=\"Crtico\"\n                count={dashboardData.distribucion_riesgo.critico}\n                color=\"#EF4444\"\n                bgColor=\"bg-red-50 dark:bg-red-900/20\"\n                borderColor=\"border-red-200 dark:border-red-800\"\n              />\n              <RiskDistributionCard \n                label=\"Alto\"\n                count={dashboardData.distribucion_riesgo.alto}\n                color=\"#F59E0B\"\n                bgColor=\"bg-amber-50 dark:bg-amber-900/20\"\n                borderColor=\"border-amber-200 dark:border-amber-800\"\n              />\n              <RiskDistributionCard \n                label=\"Medio\"\n                count={dashboardData.distribucion_riesgo.medio}\n                color=\"#3B82F6\"\n                bgColor=\"bg-blue-50 dark:bg-blue-900/20\"\n                borderColor=\"border-blue-200 dark:border-blue-800\"\n              />\n              <RiskDistributionCard \n                label=\"Bajo\"\n                count={dashboardData.distribucion_riesgo.bajo}\n                color=\"#10B981\"\n                bgColor=\"bg-green-50 dark:bg-green-900/20\"\n                borderColor=\"border-green-200 dark:border-green-800\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Proveedores Table Section */}\n        <div className=\"glass-card-hover overflow-hidden animate-fade-in mb-6 sm:mb-8\">\n          <div className=\"h-1 bg-gradient-to-r from-violet-500 via-purple-500 to-indigo-500\"></div>\n          <div className=\"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 px-4 sm:px-6 py-4 border-b border-slate-200/50 dark:border-slate-700/50\">\n            <h2 className=\"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2\">\n              <BotIcon className=\"w-5 h-5 flex-shrink-0 text-purple-600 dark:text-purple-400\" />\n              Proveedores en Diagnstico\n              <span className=\"ml-auto text-sm font-normal text-slate-500 dark:text-slate-400\">\n                {dashboardData.proveedores.length} proveedores activos\n              </span>\n            </h2>\n          </div>\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-slate-50 dark:bg-slate-800/50\">\n                <tr>\n                  <th className=\"px-4 py-3 text-left text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase tracking-wider\">Proveedor</th>\n                  <th className=\"px-4 py-3 text-left text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase tracking-wider\">Proyecto</th>\n                  <th className=\"px-4 py-3 text-center text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase tracking-wider\">Fase</th>\n                  <th className=\"px-4 py-3 text-left text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase tracking-wider\">Progreso</th>\n                  <th className=\"px-4 py-3 text-center text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase tracking-wider\">Ajustes</th>\n                  <th className=\"px-4 py-3 text-center text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase tracking-wider\">Das sin Act.</th>\n                  <th className=\"px-4 py-3 text-center text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase tracking-wider\">Riesgo</th>\n                  <th className=\"px-4 py-3 text-center text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase tracking-wider\">Expediente</th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-slate-200 dark:divide-slate-700\">\n                {dashboardData.proveedores.map((proveedor) => (\n                  <ProveedorRow key={proveedor.id} proveedor={proveedor} />\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        <div className=\"glass-card-hover overflow-hidden animate-fade-in mb-6 sm:mb-8\">\n          <div className=\"bg-gradient-to-r from-indigo-600 via-purple-600 to-blue-600 p-4 sm:p-6\">\n            <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n              <div className=\"text-white\">\n                <h2 className=\"text-lg sm:text-xl font-bold flex items-center gap-2\">\n                  <span className=\"text-2xl\"></span>\n                  Sistema RAG Multi-Tenant Activo\n                </h2>\n                <p className=\"text-indigo-200 text-sm mt-1\">\n                  {estadisticas?.plantillas_rag?.total || 42} documentos de contexto configurados para {estadisticas?.agentes?.total || 8} agentes especializados\n                </p>\n              </div>\n              <div className=\"flex flex-wrap gap-3\">\n                <div className=\"bg-white/10 backdrop-blur rounded-lg px-4 py-2 text-center\">\n                  <div className=\"text-2xl font-bold text-white\">{estadisticas?.agentes?.activos || 7}</div>\n                  <div className=\"text-xs text-indigo-200\">Agentes IA</div>\n                </div>\n                <div className=\"bg-white/10 backdrop-blur rounded-lg px-4 py-2 text-center\">\n                  <div className=\"text-2xl font-bold text-white\">{estadisticas?.plantillas_rag?.total || 42}</div>\n                  <div className=\"text-xs text-indigo-200\">Plantillas RAG</div>\n                </div>\n                <div className=\"bg-white/10 backdrop-blur rounded-lg px-4 py-2 text-center\">\n                  <div className=\"text-2xl font-bold text-white\">{estadisticas?.plantillas_rag?.docs_universales || 5}</div>\n                  <div className=\"text-xs text-indigo-200\">Docs Universales</div>\n                </div>\n              </div>\n            </div>\n            <div className=\"mt-4 flex flex-wrap gap-2\">\n              {(estadisticas?.agentes?.lista || ['A1_ESTRATEGIA', 'A2_PMO', 'A3_FISCAL', 'A4_LEGAL', 'A5_FINANZAS', 'A6_PROVEEDOR', 'A7_DEFENSA']).filter(a => a !== 'KNOWLEDGE_BASE').map(agente => (\n                <span key={agente} className=\"px-2 py-1 bg-white/20 text-white text-xs rounded-full\">\n                  {agente.replace('_', ' ')}\n                </span>\n              ))}\n              <span className=\"px-2 py-1 bg-yellow-400/30 text-yellow-100 text-xs rounded-full border border-yellow-400/50\">\n                KNOWLEDGE_BASE\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8\">\n          <div className=\"lg:col-span-2\">\n            <div className=\"glass-card-hover overflow-hidden animate-fade-in\">\n              <div className=\"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 px-4 sm:px-6 py-4 border-b border-slate-200/50 dark:border-slate-700/50\">\n                <h2 className=\"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2\">\n                  <ChartIcon className=\"w-5 h-5 flex-shrink-0 text-blue-600 dark:text-blue-400\" />\n                  Timeline de Fases con Candados\n                </h2>\n              </div>\n              <div className=\"p-3 sm:p-6 overflow-x-auto\">\n                {estadisticas?.hay_datos && estadisticas?.proyectos?.fase_actual ? (\n                  <TimelineFases \n                    faseActual={estadisticas.proyectos.fase_actual} \n                    fasesCompletadas={estadisticas.proyectos.fases_completadas || []} \n                  />\n                ) : (\n                  <EmptyStatePanel \n                    title=\"No hay proyectos activos\"\n                    message=\"Crea tu primer proyecto para ver el progreso de las fases\"\n                    icon={ChartIcon}\n                  />\n                )}\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"glass-card-hover overflow-hidden animate-fade-in\">\n            <div className=\"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 px-4 sm:px-6 py-4 border-b border-slate-200/50 dark:border-slate-700/50\">\n              <h2 className=\"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2\">\n                <BotIcon className=\"w-5 h-5 flex-shrink-0 text-purple-600 dark:text-purple-400\" />\n                <span className=\"truncate\">Especialistas del Equipo</span>\n              </h2>\n            </div>\n            <div className=\"p-3 space-y-2 max-h-80 overflow-y-auto\">\n              {subagentes.map((sub, index) => (\n                <SubagentCard key={sub.id} subagent={sub} index={index} />\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8\">\n          <div className=\"glass-card-hover overflow-hidden animate-fade-in\">\n            <div className=\"h-1 bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-500\"></div>\n            <div className=\"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 px-4 sm:px-6 py-4 border-b border-slate-200/50 dark:border-slate-700/50\">\n              <h2 className=\"text-base sm:text-lg font-semibold text-blue-800 dark:text-blue-200 flex items-center gap-2\">\n                <TagIcon className=\"w-5 h-5 flex-shrink-0\" />\n                <span className=\"truncate\">Ejemplo: Tipificacin de Proyecto</span>\n              </h2>\n            </div>\n            <div className=\"p-4 sm:p-6\">\n              {tipificacionResult && (\n                <div className=\"space-y-4\">\n                  <div>\n                    <p className=\"text-sm text-slate-500 dark:text-slate-400 mb-1\">Proyecto:</p>\n                    <p className=\"font-medium text-slate-800 dark:text-slate-100\">{tipificacionResult.input?.proyecto?.nombre}</p>\n                  </div>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <p className=\"text-sm text-slate-500 dark:text-slate-400 mb-2\">Tipologa Asignada</p>\n                      <span className=\"inline-block px-3 py-1.5 bg-gradient-to-r from-blue-100 to-cyan-100 dark:from-blue-900/50 dark:to-cyan-900/50 text-blue-800 dark:text-blue-200 rounded-lg text-sm font-medium border border-blue-200 dark:border-blue-700\">\n                        {tipificacionResult.resultado?.tipologia_asignada?.replace(/_/g, ' ')}\n                      </span>\n                    </div>\n                    <div>\n                      <p className=\"text-sm text-slate-500 dark:text-slate-400 mb-2\">Confianza</p>\n                      <span className={`inline-block px-3 py-1.5 rounded-lg text-sm font-medium ${\n                        tipificacionResult.resultado?.confianza_clasificacion === 'ALTA' \n                          ? 'bg-gradient-to-r from-emerald-100 to-green-100 dark:from-emerald-900/50 dark:to-green-900/50 text-emerald-800 dark:text-emerald-200 border border-emerald-200 dark:border-emerald-700'\n                          : tipificacionResult.resultado?.confianza_clasificacion === 'MEDIA'\n                          ? 'bg-gradient-to-r from-amber-100 to-yellow-100 dark:from-amber-900/50 dark:to-yellow-900/50 text-amber-800 dark:text-amber-200 border border-amber-200 dark:border-amber-700'\n                          : 'bg-gradient-to-r from-rose-100 to-red-100 dark:from-rose-900/50 dark:to-red-900/50 text-rose-800 dark:text-rose-200 border border-rose-200 dark:border-rose-700'\n                      }`}>\n                        {tipificacionResult.resultado?.confianza_clasificacion}\n                      </span>\n                    </div>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-slate-500 dark:text-slate-400 mb-2\">Palabras Clave Detectadas</p>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {tipificacionResult.resultado?.palabras_clave_detectadas?.map((kw, i) => (\n                        <span key={i} className=\"px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-full text-xs font-medium border border-slate-200 dark:border-slate-600 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors cursor-default\">\n                          {kw}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"glass-card-hover overflow-hidden animate-fade-in\">\n            <div className=\"h-1 bg-gradient-to-r from-rose-500 via-red-500 to-rose-500\"></div>\n            <div className=\"bg-gradient-to-r from-rose-50 to-red-50 dark:from-rose-900/30 dark:to-red-900/30 px-4 sm:px-6 py-4 border-b border-slate-200/50 dark:border-slate-700/50\">\n              <h2 className=\"text-base sm:text-lg font-semibold text-rose-800 dark:text-rose-200 flex items-center gap-2\">\n                <AlertTriangleIcon className=\"w-5 h-5 flex-shrink-0\" />\n                <span className=\"truncate\">Ejemplo: Deteccin de Riesgos Crticos</span>\n              </h2>\n            </div>\n            <div className=\"p-4 sm:p-6\">\n              {riesgosResult && (\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between flex-wrap gap-4\">\n                    <div>\n                      <p className=\"text-sm text-slate-500 dark:text-slate-400 mb-2\">Nivel Global</p>\n                      <span className={`inline-block px-4 py-2 rounded-xl text-sm font-bold shadow-lg ${\n                        riesgosResult.resultado?.nivel_riesgo_global === 'CRITICO'\n                          ? 'bg-gradient-to-r from-red-600 to-rose-600 text-white shadow-red-500/30'\n                          : riesgosResult.resultado?.nivel_riesgo_global === 'ALTO'\n                          ? 'bg-gradient-to-r from-orange-500 to-amber-500 text-white shadow-orange-500/30'\n                          : 'bg-gradient-to-r from-yellow-400 to-amber-400 text-slate-900 shadow-yellow-500/30'\n                      }`}>\n                        {riesgosResult.resultado?.nivel_riesgo_global}\n                      </span>\n                    </div>\n                    <div className=\"text-right\">\n                      <p className=\"text-sm text-slate-500 dark:text-slate-400 mb-2\">Puede Continuar</p>\n                      <span className={`inline-block px-4 py-2 rounded-xl text-sm font-medium ${\n                        riesgosResult.resultado?.puede_continuar\n                          ? 'bg-gradient-to-r from-emerald-100 to-green-100 dark:from-emerald-900/50 dark:to-green-900/50 text-emerald-800 dark:text-emerald-200 border border-emerald-200 dark:border-emerald-700'\n                          : 'bg-gradient-to-r from-rose-100 to-red-100 dark:from-rose-900/50 dark:to-red-900/50 text-rose-800 dark:text-rose-200 border border-rose-200 dark:border-rose-700'\n                      }`}>\n                        {riesgosResult.resultado?.puede_continuar ? 'SI' : 'NO - BLOQUEADO'}\n                      </span>\n                    </div>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-slate-500 dark:text-slate-400 mb-3\">\n                      Alertas Detectadas ({riesgosResult.resultado?.alertas_detectadas?.length})\n                    </p>\n                    <div className=\"space-y-2 max-h-48 overflow-y-auto pr-2\">\n                      {riesgosResult.resultado?.alertas_detectadas?.slice(0, 4).map((alerta, i) => (\n                        <AlertCard key={i} alerta={alerta} />\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"glass-card-hover overflow-hidden animate-fade-in\">\n          <div className=\"h-1 bg-gradient-to-r from-violet-500 via-purple-500 to-indigo-500\"></div>\n          <div className=\"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 px-4 sm:px-6 py-4 border-b border-slate-200/50 dark:border-slate-700/50\">\n            <h2 className=\"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2\">\n              <ShieldIcon className=\"w-5 h-5 flex-shrink-0 text-purple-600 dark:text-purple-400\" />\n              Anlisis de Riesgo por Pilar\n            </h2>\n          </div>\n          <div className=\"p-4 sm:p-6\">\n            <RiskScoreDisplay \n              razonNegocios={5}\n              beneficioEconomico={8}\n              materialidad={3}\n              trazabilidad={6}\n            />\n          </div>\n        </div>\n      </main>\n      \n      {showVersioning && (\n        <VersioningPanel \n          proyectoId={selectedProyectoId}\n          onClose={() => setShowVersioning(false)}\n        />\n      )}\n\n      {selectedProyectoId && (\n        <div className=\"glass-card-hover mt-6 overflow-hidden animate-fade-in\">\n          <div className=\"h-1 bg-gradient-to-r from-blue-500 via-cyan-500 to-teal-500\"></div>\n          <div className=\"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 px-4 sm:px-6 py-4 border-b border-slate-200/50 dark:border-slate-700/50 flex justify-between items-center\">\n            <h2 className=\"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2\">\n              <span className=\"text-xl\"></span>\n              Documentos del Proyecto\n            </h2>\n            <button\n              onClick={() => setShowDocumentUpload(true)}\n              className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center gap-2\"\n            >\n              <span>+</span> Cargar Documento\n            </button>\n          </div>\n          <div className=\"p-4 sm:p-6\">\n            <ListaDocumentos \n              proyectoId={selectedProyectoId}\n              faseActual=\"F0\"\n              refreshTrigger={docRefreshTrigger}\n            />\n          </div>\n        </div>\n      )}\n\n      <Modal isOpen={showDocumentUpload} onClose={() => setShowDocumentUpload(false)}>\n        <CargaDocumentos\n          proyectoId={selectedProyectoId}\n          faseActual=\"F0\"\n          onDocumentoCargado={(doc) => {\n            setShowDocumentUpload(false);\n            setDocRefreshTrigger(prev => prev + 1);\n          }}\n          onClose={() => setShowDocumentUpload(false)}\n        />\n      </Modal>\n    </div>\n  );\n}\n\nfunction KPICard({ title, value, subtitle, icon: Icon, gradient, delay, valueColor }) {\n  return (\n    <div \n      className=\"group glass-card-hover p-5 sm:p-6 animate-fade-in-up\"\n      style={{ animationDelay: `${delay}ms` }}\n    >\n      <div className=\"flex items-center justify-between gap-4\">\n        <div className=\"flex-1 min-w-0\">\n          <p className=\"text-xs sm:text-sm text-slate-500 dark:text-slate-400 font-medium truncate\">{title}</p>\n          <p className={`text-2xl sm:text-3xl font-bold mt-2 ${valueColor || 'text-slate-900 dark:text-white'}`}>{value}</p>\n        </div>\n        <div className={`icon-container-lg bg-gradient-to-br ${gradient} shadow-lg group-hover:shadow-xl transition-all duration-300 flex-shrink-0`}>\n          <Icon className=\"w-6 h-6 flex-shrink-0 text-white\" />\n        </div>\n      </div>\n      <p className=\"text-xs text-slate-400 dark:text-slate-500 mt-3 line-clamp-2\">{subtitle}</p>\n    </div>\n  );\n}\n\nfunction SubagentCard({ subagent, index }) {\n  return (\n    <div \n      className=\"glass-card-hover p-3 sm:p-4 flex items-center justify-between gap-3 transition-all duration-300 cursor-default animate-fade-in\"\n      style={{ animationDelay: `${index * 50}ms` }}\n    >\n      <div className=\"flex items-center gap-3 flex-1 min-w-0\">\n        <div className=\"relative flex-shrink-0\">\n          <div className={`w-2.5 h-2.5 rounded-full ${subagent.puede_bloquear ? 'bg-rose-500' : 'bg-emerald-500'}`}></div>\n          <div className={`absolute inset-0 w-2.5 h-2.5 rounded-full ${subagent.puede_bloquear ? 'bg-rose-500' : 'bg-emerald-500'} animate-pulse-ring`}></div>\n        </div>\n        <div className=\"min-w-0 flex-1\">\n          <p className=\"font-medium text-slate-800 dark:text-slate-100 text-sm truncate\">{subagent.id}</p>\n          <p className=\"text-xs text-slate-500 dark:text-slate-400 truncate\">{subagent.fases.join(', ')}</p>\n        </div>\n      </div>\n      {subagent.puede_bloquear ? (\n        <span className=\"text-xs bg-rose-100 dark:bg-rose-900/50 text-rose-700 dark:text-rose-300 px-2.5 py-1 rounded-lg font-medium border border-rose-200 dark:border-rose-800 flex-shrink-0 whitespace-nowrap\">\n          Bloquea\n        </span>\n      ) : (\n        <span className=\"text-xs bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 px-2.5 py-1 rounded-lg font-medium border border-emerald-200 dark:border-emerald-800 flex-shrink-0 whitespace-nowrap\">\n          Activo\n        </span>\n      )}\n    </div>\n  );\n}\n\nfunction AlertCard({ alerta }) {\n  const severityConfig = {\n    CRITICA: {\n      bg: 'bg-gradient-to-r from-rose-50 to-red-50 dark:from-rose-900/30 dark:to-red-900/30',\n      border: 'border-l-4 border-rose-500',\n      badge: 'bg-rose-200 dark:bg-rose-800 text-rose-800 dark:text-rose-200'\n    },\n    ALTA: {\n      bg: 'bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/30 dark:to-amber-900/30',\n      border: 'border-l-4 border-orange-500',\n      badge: 'bg-orange-200 dark:bg-orange-800 text-orange-800 dark:text-orange-200'\n    },\n    MEDIA: {\n      bg: 'bg-gradient-to-r from-yellow-50 to-amber-50 dark:from-yellow-900/30 dark:to-amber-900/30',\n      border: 'border-l-4 border-yellow-500',\n      badge: 'bg-yellow-200 dark:bg-yellow-800 text-yellow-800 dark:text-yellow-200'\n    }\n  };\n  \n  const config = severityConfig[alerta.severidad] || severityConfig.MEDIA;\n  \n  return (\n    <div className={`p-3 rounded-lg text-xs ${config.bg} ${config.border} transition-all duration-200 hover:shadow-md`}>\n      <div className=\"flex items-center gap-2 mb-1.5 flex-wrap\">\n        <span className=\"font-semibold text-slate-800 dark:text-slate-100\">{alerta.tipo_riesgo}</span>\n        <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${config.badge}`}>\n          {alerta.severidad}\n        </span>\n        {alerta.bloquea_avance && (\n          <span className=\"px-2 py-0.5 bg-gradient-to-r from-red-600 to-rose-600 text-white rounded-full text-xs font-bold flex items-center gap-1\">\n            <LockIcon className=\"w-3 h-3\" />\n            BLOQUEA\n          </span>\n        )}\n      </div>\n      <p className=\"text-slate-600 dark:text-slate-300 leading-relaxed\">{alerta.descripcion}</p>\n    </div>\n  );\n}\n\nfunction TimelineFases({ faseActual, fasesCompletadas = [] }) {\n  const fases = [\n    { id: 'F0', nombre: 'Aprobacin BEE', candado: false },\n    { id: 'F1', nombre: 'Pre-contratacin', candado: false },\n    { id: 'F2', nombre: 'Validacin inicio', candado: true },\n    { id: 'F3', nombre: 'Ejecucin inicial', candado: false },\n    { id: 'F4', nombre: 'Revisin iterativa', candado: false },\n    { id: 'F5', nombre: 'Entrega final', candado: false },\n    { id: 'F6', nombre: 'VBC Fiscal/Legal', candado: true },\n    { id: 'F7', nombre: 'Auditora interna', candado: false },\n    { id: 'F8', nombre: 'CFDI y pago', candado: true },\n    { id: 'F9', nombre: 'Post-implementacin', candado: false }\n  ];\n\n  function getEstadoFase(faseId) {\n    if (fasesCompletadas.includes(faseId)) return 'completada';\n    if (faseId === faseActual) return 'actual';\n    const indexActual = fases.findIndex(f => f.id === faseActual);\n    const indexFase = fases.findIndex(f => f.id === faseId);\n    if (indexFase < indexActual) return 'completada';\n    return 'pendiente';\n  }\n\n  const indexActual = fases.findIndex(f => f.id === faseActual);\n  const progreso = (indexActual / (fases.length - 1)) * 100;\n\n  return (\n    <div className=\"relative min-w-[800px] lg:min-w-0\">\n      <div className=\"absolute top-6 left-0 right-0 h-2 bg-slate-200 dark:bg-slate-700 rounded-full\" />\n      <div \n        className=\"absolute top-6 left-0 h-2 bg-gradient-to-r from-blue-500 via-indigo-500 to-violet-500 rounded-full transition-all duration-1000 ease-out shadow-lg shadow-blue-500/30\"\n        style={{ width: `${progreso}%` }}\n      />\n      \n      <div className=\"relative flex justify-between\">\n        {fases.map((fase, index) => {\n          const estado = getEstadoFase(fase.id);\n          return (\n            <div key={fase.id} className=\"flex flex-col items-center group\" style={{ width: '10%' }}>\n              <div className={`\n                w-12 h-12 rounded-full flex items-center justify-center text-sm font-bold\n                transition-all duration-300 relative z-10 border-4\n                ${estado === 'completada' \n                  ? 'bg-gradient-to-br from-emerald-400 to-green-500 text-white border-emerald-300 dark:border-emerald-600 shadow-lg shadow-emerald-500/30' \n                  : estado === 'actual' \n                  ? 'bg-gradient-to-br from-blue-500 to-indigo-600 text-white border-blue-300 dark:border-blue-600 ring-4 ring-blue-200 dark:ring-blue-900 shadow-xl shadow-blue-500/40 scale-110' \n                  : 'bg-slate-100 dark:bg-slate-700 text-slate-400 dark:text-slate-500 border-slate-200 dark:border-slate-600'}\n                ${fase.candado && estado !== 'completada' ? 'ring-2 ring-rose-300 dark:ring-rose-700' : ''}\n                group-hover:scale-110\n              `}>\n                {fase.candado && estado !== 'completada' ? (\n                  <LockIcon className=\"w-5 h-5 text-rose-500 dark:text-rose-400\" />\n                ) : estado === 'completada' ? (\n                  <CheckIcon className=\"w-5 h-5\" />\n                ) : (\n                  <span className=\"text-xs\">{fase.id}</span>\n                )}\n              </div>\n              <div className=\"mt-3 text-xs text-center text-slate-600 dark:text-slate-400 leading-tight font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-200 w-20\">\n                {fase.nombre}\n              </div>\n              {fase.candado && (\n                <div className=\"text-xs text-rose-500 dark:text-rose-400 mt-1 font-semibold flex items-center gap-1\">\n                  <LockIcon className=\"w-3 h-3\" />\n                  Candado\n                </div>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nfunction EmptyStatePanel({ title, message, icon: Icon, actionLabel, onAction }) {\n  return (\n    <div className=\"flex flex-col items-center justify-center py-12 px-4 text-center\">\n      <div className=\"w-16 h-16 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center mb-4\">\n        {Icon ? (\n          <Icon className=\"w-8 h-8 text-slate-400 dark:text-slate-500\" />\n        ) : (\n          <ShieldIcon className=\"w-8 h-8 text-slate-400 dark:text-slate-500\" />\n        )}\n      </div>\n      <h3 className=\"text-lg font-semibold text-slate-700 dark:text-slate-300 mb-2\">{title}</h3>\n      <p className=\"text-sm text-slate-500 dark:text-slate-400 max-w-sm mb-4\">{message}</p>\n      {actionLabel && onAction && (\n        <button\n          onClick={onAction}\n          className=\"px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg text-sm font-medium hover:from-blue-600 hover:to-indigo-700 transition-all shadow-lg shadow-blue-500/30\"\n        >\n          {actionLabel}\n        </button>\n      )}\n    </div>\n  );\n}\n\nfunction RiskScoreDisplay({ razonNegocios, beneficioEconomico, materialidad, trazabilidad }) {\n  const total = razonNegocios + beneficioEconomico + materialidad + trazabilidad;\n  \n  const pilares = [\n    { nombre: 'Razn de Negocios', valor: razonNegocios, max: 25, gradient: 'from-blue-500 to-cyan-500', icon: '', descripcion: 'Art. 5-A CFF' },\n    { nombre: 'Beneficio Econmico', valor: beneficioEconomico, max: 25, gradient: 'from-emerald-500 to-green-500', icon: '', descripcion: 'ROI documentado' },\n    { nombre: 'Materialidad', valor: materialidad, max: 25, gradient: 'from-violet-500 to-purple-500', icon: '', descripcion: 'Art. 69-B CFF' },\n    { nombre: 'Trazabilidad', valor: trazabilidad, max: 25, gradient: 'from-orange-500 to-amber-500', icon: '', descripcion: 'NOM-151' }\n  ];\n\n  const getRiskLevel = (score) => {\n    if (score < 30) return { label: 'BAJO', color: 'text-emerald-600 dark:text-emerald-400', stroke: 'stroke-emerald-500', bg: 'bg-emerald-100 dark:bg-emerald-900/50' };\n    if (score < 50) return { label: 'MODERADO', color: 'text-amber-600 dark:text-amber-400', stroke: 'stroke-amber-500', bg: 'bg-amber-100 dark:bg-amber-900/50' };\n    if (score < 70) return { label: 'ALTO', color: 'text-orange-600 dark:text-orange-400', stroke: 'stroke-orange-500', bg: 'bg-orange-100 dark:bg-orange-900/50' };\n    return { label: 'CRITICO', color: 'text-rose-600 dark:text-rose-400', stroke: 'stroke-rose-500', bg: 'bg-rose-100 dark:bg-rose-900/50' };\n  };\n\n  const getPilarLevel = (valor, max) => {\n    const porcentaje = (valor / max) * 100;\n    if (porcentaje < 40) return { label: 'Bajo', color: 'text-emerald-600 dark:text-emerald-400', bg: 'bg-emerald-100 dark:bg-emerald-900/50' };\n    if (porcentaje < 60) return { label: 'Medio', color: 'text-amber-600 dark:text-amber-400', bg: 'bg-amber-100 dark:bg-amber-900/50' };\n    if (porcentaje < 80) return { label: 'Alto', color: 'text-orange-600 dark:text-orange-400', bg: 'bg-orange-100 dark:bg-orange-900/50' };\n    return { label: 'Crtico', color: 'text-rose-600 dark:text-rose-400', bg: 'bg-rose-100 dark:bg-rose-900/50' };\n  };\n\n  const riskLevel = getRiskLevel(total);\n  const circumference = 2 * Math.PI * 54;\n  const offset = circumference - (total / 100) * circumference;\n\n  return (\n    <div className=\"flex flex-col lg:flex-row gap-6 sm:gap-8 items-center justify-center lg:justify-start\">\n      <div className=\"flex-shrink-0 text-center\">\n        <div className=\"relative w-32 sm:w-40 h-32 sm:h-40\">\n          <svg className=\"w-full h-full transform -rotate-90\" viewBox=\"0 0 120 120\">\n            <circle\n              cx=\"60\"\n              cy=\"60\"\n              r=\"54\"\n              stroke=\"currentColor\"\n              strokeWidth=\"8\"\n              fill=\"none\"\n              className=\"text-slate-200 dark:text-slate-700\"\n            />\n            <circle\n              cx=\"60\"\n              cy=\"60\"\n              r=\"54\"\n              strokeWidth=\"8\"\n              fill=\"none\"\n              strokeLinecap=\"round\"\n              className={`${riskLevel.stroke} transition-all duration-1000 ease-out`}\n              style={{ \n                strokeDasharray: circumference,\n                strokeDashoffset: offset\n              }}\n            />\n          </svg>\n          <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\n            <span className={`text-4xl font-bold ${riskLevel.color}`}>{total}</span>\n            <span className=\"text-sm text-slate-500 dark:text-slate-400 font-medium\">/100</span>\n          </div>\n        </div>\n        <div className={`mt-3 inline-block px-4 py-1.5 rounded-full ${riskLevel.bg} ${riskLevel.color} font-bold text-sm`}>\n          {riskLevel.label}\n        </div>\n      </div>\n      \n      <div className=\"flex-1 w-full space-y-4\">\n        {pilares.map((pilar, i) => {\n          const pilarLevel = getPilarLevel(pilar.valor, pilar.max);\n          return (\n            <div key={i} className=\"group\">\n              <div className=\"flex justify-between items-center text-sm mb-2\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-lg\">{pilar.icon}</span>\n                  <div>\n                    <span className=\"text-slate-600 dark:text-slate-300 font-medium group-hover:text-slate-900 dark:group-hover:text-white transition-colors\">{pilar.nombre}</span>\n                    <span className=\"text-xs text-slate-400 dark:text-slate-500 ml-2 hidden sm:inline\">{pilar.descripcion}</span>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"font-bold text-slate-800 dark:text-slate-100\">{pilar.valor}/{pilar.max}</span>\n                  <span className={`text-xs px-2 py-0.5 rounded-full ${pilarLevel.bg} ${pilarLevel.color} font-medium`}>\n                    {pilarLevel.label}\n                  </span>\n                </div>\n              </div>\n              <div className=\"h-3 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden shadow-inner\">\n                <div \n                  className={`h-full bg-gradient-to-r ${pilar.gradient} rounded-full transition-all duration-1000 ease-out shadow-lg`}\n                  style={{ width: `${(pilar.valor / pilar.max) * 100}%` }}\n                />\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nfunction KPICardNew({ title, value, subtitle, icon, gradientFrom, gradientTo, delay, isLarge }) {\n  return (\n    <div \n      className={`group glass-card-hover p-4 sm:p-5 animate-fade-in-up ${isLarge ? 'col-span-2 lg:col-span-1' : ''}`}\n      style={{ animationDelay: `${delay}ms` }}\n    >\n      <div className=\"flex items-start justify-between gap-3\">\n        <div className=\"flex-1 min-w-0\">\n          <p className=\"text-xs sm:text-sm text-slate-500 dark:text-slate-400 font-medium truncate\">{title}</p>\n          <p className={`${isLarge ? 'text-xl sm:text-2xl' : 'text-2xl sm:text-3xl'} font-bold mt-2 text-slate-900 dark:text-white`}>{value}</p>\n          {subtitle && (\n            <p className=\"text-sm font-medium text-slate-600 dark:text-slate-300 mt-1\">{subtitle}</p>\n          )}\n        </div>\n        <div \n          className=\"w-10 h-10 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center text-xl sm:text-2xl shadow-lg group-hover:shadow-xl transition-all duration-300 flex-shrink-0\"\n          style={{ background: `linear-gradient(135deg, ${gradientFrom}, ${gradientTo})` }}\n        >\n          {icon}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction RiskDistributionCard({ label, count, color, bgColor, borderColor }) {\n  return (\n    <div className={`${bgColor} ${borderColor} border-2 rounded-xl p-4 text-center transition-all duration-300 hover:shadow-lg hover:scale-105`}>\n      <div \n        className=\"text-3xl sm:text-4xl font-bold mb-1\"\n        style={{ color }}\n      >\n        {count}\n      </div>\n      <div className=\"text-sm font-medium text-slate-600 dark:text-slate-300\">{label}</div>\n    </div>\n  );\n}\n\nfunction ProveedorRow({ proveedor }) {\n  const riesgoConfig = {\n    critico: { \n      bg: 'bg-red-100 dark:bg-red-900/50', \n      text: 'text-red-700 dark:text-red-300', \n      border: 'border-red-200 dark:border-red-800',\n      label: 'Crtico'\n    },\n    alto: { \n      bg: 'bg-amber-100 dark:bg-amber-900/50', \n      text: 'text-amber-700 dark:text-amber-300', \n      border: 'border-amber-200 dark:border-amber-800',\n      label: 'Alto'\n    },\n    medio: { \n      bg: 'bg-blue-100 dark:bg-blue-900/50', \n      text: 'text-blue-700 dark:text-blue-300', \n      border: 'border-blue-200 dark:border-blue-800',\n      label: 'Medio'\n    },\n    bajo: { \n      bg: 'bg-green-100 dark:bg-green-900/50', \n      text: 'text-green-700 dark:text-green-300', \n      border: 'border-green-200 dark:border-green-800',\n      label: 'Bajo'\n    }\n  };\n\n  const faseConfig = {\n    A3: { bg: 'bg-violet-100 dark:bg-violet-900/50', text: 'text-violet-700 dark:text-violet-300' },\n    A6: { bg: 'bg-blue-100 dark:bg-blue-900/50', text: 'text-blue-700 dark:text-blue-300' },\n    A7: { bg: 'bg-emerald-100 dark:bg-emerald-900/50', text: 'text-emerald-700 dark:text-emerald-300' }\n  };\n\n  const riesgo = riesgoConfig[proveedor.riesgo] || riesgoConfig.medio;\n  const fase = faseConfig[proveedor.fase] || faseConfig.A3;\n\n  return (\n    <tr className=\"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors\">\n      <td className=\"px-4 py-4\">\n        <div className=\"flex flex-col\">\n          <span className=\"font-medium text-slate-800 dark:text-slate-100 text-sm\">{proveedor.nombre}</span>\n          <span className=\"text-xs text-slate-500 dark:text-slate-400\">{proveedor.rfc}</span>\n        </div>\n      </td>\n      <td className=\"px-4 py-4\">\n        <div className=\"flex flex-col\">\n          <span className=\"font-medium text-slate-700 dark:text-slate-200 text-sm\">{proveedor.proyecto}</span>\n          <span className=\"text-xs text-slate-500 dark:text-slate-400\">{formatCurrency(proveedor.monto)}</span>\n        </div>\n      </td>\n      <td className=\"px-4 py-4 text-center\">\n        <span className={`inline-block px-3 py-1 rounded-full text-xs font-bold ${fase.bg} ${fase.text}`}>\n          {proveedor.fase}\n        </span>\n      </td>\n      <td className=\"px-4 py-4\">\n        <div className=\"flex items-center gap-2 min-w-[120px]\">\n          <div className=\"flex-1 h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden\">\n            <div \n              className=\"h-full bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full transition-all duration-500\"\n              style={{ width: `${proveedor.progreso}%` }}\n            />\n          </div>\n          <span className=\"text-xs font-medium text-slate-600 dark:text-slate-400 w-8\">{proveedor.progreso}%</span>\n        </div>\n      </td>\n      <td className=\"px-4 py-4 text-center\">\n        <div className=\"flex flex-col items-center\">\n          <span className=\"text-sm font-medium text-slate-800 dark:text-slate-100\">\n            {proveedor.ajustes_res}/{proveedor.ajustes_sol}\n          </span>\n          <span className=\"text-xs text-slate-500 dark:text-slate-400\">resueltos</span>\n        </div>\n      </td>\n      <td className=\"px-4 py-4 text-center\">\n        <div className={`flex items-center justify-center gap-1 ${proveedor.dias_sin_act > 7 ? 'text-red-600 dark:text-red-400' : proveedor.dias_sin_act > 3 ? 'text-amber-600 dark:text-amber-400' : 'text-slate-600 dark:text-slate-400'}`}>\n          <ClockIcon className=\"w-4 h-4\" />\n          <span className=\"text-sm font-medium\">{proveedor.dias_sin_act}</span>\n        </div>\n      </td>\n      <td className=\"px-4 py-4 text-center\">\n        <span className={`inline-block px-3 py-1 rounded-full text-xs font-bold border ${riesgo.bg} ${riesgo.text} ${riesgo.border}`}>\n          {riesgo.label}\n        </span>\n      </td>\n      <td className=\"px-4 py-4 text-center\">\n        <a \n          href={`https://pcloud.com/defense/${proveedor.id}`}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"inline-flex items-center gap-1 px-3 py-1.5 bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 rounded-lg text-xs font-medium hover:bg-indigo-200 dark:hover:bg-indigo-800/50 transition-colors\"\n        >\n          <ExternalLinkIcon className=\"w-3 h-3\" />\n          pCloud\n        </a>\n      </td>\n    </tr>\n  );\n}\n\nexport default DurezzaDashboard;\nexport { ProjectActions };\n"],"names":["_ref","_results$data","_results$data2","_results$data$data","_results$data$data2","_results$data$data3","_results$data$data4","_results$data$data5","_results$data$data6","_results$data$data7","_results$data$data7$v","_results$data$data8","projectId","projectData","onResultsUpdate","validating","setValidating","useState","simulating","setSimulating","results","setResults","error","setError","getSeverityColor","severity","toUpperCase","_jsxs","className","children","_jsx","onClick","async","docsToValidate","documents","documentos","map","doc","idx","id","_id","concat","name","nombre","filename","path","filePath","file_path","type","tipo","expected_data","monto","monto_contrato","montoContrato","rfc_proveedor","rfcProveedor","fecha","fecha_contrato","fechaContrato","response","axios","post","data","err","_err$response","_err$response$data","console","detail","message","disabled","_Fragment","projectDataToSend","tipologia","category","amount","descripcion_servicio","descripcion","description","justificacion_economica","justificacionEconomica","beneficio_esperado","beneficioEsperado","risk_score","riskScore","d","existe","validado","validated","resultados_agentes","deliberations","resultadosAgentes","project_data","_err$response2","_err$response2$data","success","requires_review","failed","success_rate","toFixed","bulletproof","nivel_riesgo","vectores_testeados","vulnerabilidades_encontradas","vulnerabilidades","length","v","vector_name","recommendation","conclusion","api","create","baseURL","process","REACT_APP_BACKEND_URL","interceptors","request","use","config","token","localStorage","getItem","empresaId","headers","Authorization","severidadColors","critica","alta","media","baja","info","tipoCambioIcons","creacion","documento_agregado","documento_eliminado","documento_actualizado","validacion_ocr","simulacion_red_team","correccion_vulnerabilidad","cambio_datos_proyecto","comunicacion_proveedor","comunicacion_cliente","ajuste_monto","ajuste_fecha","regeneracion_expediente","nota_interna","aprobacion","rechazo","otro","VersioningPanel","proyectoId","onClose","proyecto","setProyecto","versiones","setVersiones","bitacora","setBitacora","activeTab","setActiveTab","loading","setLoading","showNuevaVersion","setShowNuevaVersion","showComunicacion","setShowComunicacion","motivo","setMotivo","comunicacion","setComunicacion","contraparte","tipo_contraparte","asunto","useEffect","cargarDatos","proyRes","verRes","bitRes","Promise","all","get","exportarBitacora","res","formato","blob","Blob","contenido","url","URL","createObjectURL","a","document","createElement","href","download","click","JSON","stringify","folio_actual","tab","version_actual","total_versiones","total_entradas_bitacora","estado","ultima_version","pdf_generado","folio","Date","fecha_creacion","toLocaleString","creado_por","zip_generado","entrada","severidad","tipo_cambio","titulo","timestamp","usuario","es_comunicacion_externa","value","onChange","e","target","placeholder","trim","_proyecto$ultima_vers","datos_proyecto","snapshot_proyecto","generar_expediente","_objectSpread","TIPOS_DOCUMENTO","label","fases","faseActual","onDocumentoCargado","archivo","setArchivo","setTipo","setDescripcion","uploading","setUploading","dragActive","setDragActive","tiposDisponibles","filter","t","includes","handleDrag","useCallback","preventDefault","stopPropagation","handleDrop","dataTransfer","files","onSubmit","formData","FormData","append","fetch","method","body","json","ok","required","onDragEnter","onDragLeave","onDragOver","onDrop","file","size","endsWith","accept","bytes","htmlFor","viewBox","cx","cy","r","stroke","strokeWidth","fill","slice","refreshTrigger","setDocumentos","filtroFase","setFiltroFase","cargarDocumentos","documentosFiltrados","fase_asociada","getIconoTipo","iconos","default","f","nombre_archivo","replace","fecha_carga","toLocaleDateString","day","month","year","hour","minute","url_descarga","rel","pcloud_link","isOpen","style","overflow","BotIcon","strokeLinecap","strokeLinejoin","x","y","width","height","rx","x1","y1","x2","y2","ChartIcon","_ref2","LockIcon","_ref3","ry","CheckIcon","_ref4","points","ShieldIcon","_ref5","MoonIcon","_ref6","SunIcon","_ref7","AlertTriangleIcon","_ref8","TagIcon","_ref9","ExternalLinkIcon","_ref0","ClockIcon","_ref1","formatCurrency","Intl","NumberFormat","currency","format","initialDashboardData","kpis","diagnosticos_activos","ajustes_solicitados","ajustes_resueltos","versiones_totales","monto_en_revision","distribucion_riesgo","critico","alto","medio","bajo","proveedores","rfc","fase","progreso","ajustes_sol","ajustes_res","dias_sin_act","riesgo","SubagentCard","_ref11","subagent","index","animationDelay","puede_bloquear","join","AlertCard","_ref12","alerta","severityConfig","CRITICA","bg","border","badge","ALTA","MEDIA","tipo_riesgo","bloquea_avance","TimelineFases","_ref13","fasesCompletadas","candado","findIndex","faseId","indexActual","getEstadoFase","EmptyStatePanel","_ref14","title","icon","Icon","actionLabel","onAction","RiskScoreDisplay","_ref15","razonNegocios","beneficioEconomico","materialidad","trazabilidad","total","pilares","valor","max","gradient","riskLevel","score","color","circumference","Math","PI","offset","strokeDasharray","strokeDashoffset","pilar","i","pilarLevel","getPilarLevel","porcentaje","KPICardNew","_ref16","subtitle","gradientFrom","gradientTo","delay","isLarge","background","RiskDistributionCard","_ref17","count","bgColor","borderColor","ProveedorRow","_ref18","proveedor","riesgoConfig","text","faseConfig","A3","A6","A7","_estadisticas$plantil","_estadisticas$agentes","_estadisticas$agentes2","_estadisticas$plantil2","_estadisticas$plantil3","_estadisticas$agentes3","_estadisticas$proyect","_tipificacionResult$i","_tipificacionResult$i2","_tipificacionResult$r","_tipificacionResult$r2","_tipificacionResult$r3","_tipificacionResult$r4","_tipificacionResult$r5","_tipificacionResult$r6","_tipificacionResult$r7","_riesgosResult$result","_riesgosResult$result2","_riesgosResult$result3","_riesgosResult$result4","_riesgosResult$result5","_riesgosResult$result6","_riesgosResult$result7","_riesgosResult$result8","_riesgosResult$result9","dashboardData","setDashboardData","subagentes","setSubagentes","setFases","tipificacionResult","setTipificacionResult","riesgosResult","setRiesgosResult","showVersioning","setShowVersioning","selectedProyectoId","setSelectedProyectoId","showDocumentUpload","setShowDocumentUpload","docRefreshTrigger","setDocRefreshTrigger","estadisticas","setEstadisticas","darkMode","setDarkMode","window","documentElement","classList","add","remove","setItem","subRes","fasesRes","estadisticasRes","ejemploRes","riesgosRes","xmlns","patternUnits","plantillas_rag","agentes","activos","docs_universales","lista","agente","hay_datos","proyectos","fase_actual","fases_completadas","sub","input","resultado","tipologia_asignada","confianza_clasificacion","palabras_clave_detectadas","kw","nivel_riesgo_global","puede_continuar","alertas_detectadas","ListaDocumentos","Modal","CargaDocumentos","prev"],"ignoreList":[],"sourceRoot":""}
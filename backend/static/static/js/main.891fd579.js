/*! For license information please see main.891fd579.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,r)=>{var a=r(853),n=r(43),s=r(950);function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function i(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(i(e)!==e)throw Error(l(188))}function m(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=m(e)))return t;e=e.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),j=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var _=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function T(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case b:return"StrictMode";case w:return"Suspense";case k:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case f:return"Portal";case j:return e.displayName||"Context";case y:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return T(e(t))}catch(r){}}return null}var O=Array.isArray,z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},M=[],F=-1;function I(e){return{current:e}}function B(e){0>F||(e.current=M[F],M[F]=null,F--)}function W(e,t){F++,M[F]=e.current,e.current=t}var U,H,V=I(null),q=I(null),K=I(null),G=I(null);function $(e,t){switch(W(K,t),W(q,e),W(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bu(t=gu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(V),W(V,e)}function J(){B(V),B(q),B(K)}function Q(e){null!==e.memoizedState&&W(G,e);var t=V.current,r=bu(t,e.type);t!==r&&(W(q,e),W(V,r))}function X(e){q.current===e&&(B(V),B(q)),G.current===e&&(B(G),dm._currentValue=D)}function Y(e){if(void 0===U)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||"",H=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+U+e+H}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(n){var a=n}Reflect.construct(e,[],r)}else{try{r.call()}catch(s){a=s}e.call(r.prototype)}}else{try{throw Error()}catch(l){a=l}(r=e())&&"function"===typeof r.catch&&r.catch(function(){})}}catch(o){if(o&&a&&"string"===typeof o.stack)return[o.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),l=s[0],o=s[1];if(l&&o){var i=l.split("\n"),c=o.split("\n");for(n=a=0;a<i.length&&!i[a].includes("DetermineComponentFrameRoot");)a++;for(;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;if(a===i.length||n===c.length)for(a=i.length-1,n=c.length-1;1<=a&&0<=n&&i[a]!==c[n];)n--;for(;1<=a&&0<=n;a--,n--)if(i[a]!==c[n]){if(1!==a||1!==n)do{if(a--,0>--n||i[a]!==c[n]){var d="\n"+i[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=a&&0<=n);break}}}finally{Z=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Y(r):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return Y(e.type);case 16:return Y("Lazy");case 13:return e.child!==t&&null!==t?Y("Suspense Fallback"):Y("Suspense");case 19:return Y("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return Y("Activity");default:return""}}function re(e){try{var t="",r=null;do{t+=te(e,r),r=e,e=e.return}while(e);return t}catch(a){return"\nError generating stack: "+a.message+"\n"+a.stack}}var ae=Object.prototype.hasOwnProperty,ne=a.unstable_scheduleCallback,se=a.unstable_cancelCallback,le=a.unstable_shouldYield,oe=a.unstable_requestPaint,ie=a.unstable_now,ce=a.unstable_getCurrentPriorityLevel,de=a.unstable_ImmediatePriority,ue=a.unstable_UserBlockingPriority,me=a.unstable_NormalPriority,pe=a.unstable_LowPriority,xe=a.unstable_IdlePriority,he=a.log,fe=a.unstable_setDisableYieldValue,ge=null,be=null;function ve(e){if("function"===typeof he&&fe(e),be&&"function"===typeof be.setStrictMode)try{be.setStrictMode(ge,e)}catch(t){}}var ye=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(je(e)/Ne|0)|0},je=Math.log,Ne=Math.LN2;var we=256,ke=262144,Se=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ee(e,t,r){var a=e.pendingLanes;if(0===a)return 0;var n=0,s=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var o=134217727&a;return 0!==o?0!==(a=o&~s)?n=Ce(a):0!==(l&=o)?n=Ce(l):r||0!==(r=o&~e)&&(n=Ce(r)):0!==(o=a&~s)?n=Ce(o):0!==l?n=Ce(l):r||0!==(r=a&~e)&&(n=Ce(r)),0===n?0:0!==t&&t!==n&&0===(t&s)&&((s=n&-n)>=(r=t&-t)||32===s&&0!==(4194048&r))?t:n}function _e(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ae(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Le(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function Re(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-ye(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|261930&r}function ze(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-ye(r),n=1<<a;n&t|e[a]&t&&(e[a]|=t),r&=~n}}function Pe(e,t){var r=t&-t;return 0!==((r=0!==(42&r)?1:De(r))&(e.suspendedLanes|t))?0:r}function De(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=P.p;return 0!==e?e:void 0===(e=window.event)?32:Cm(e.type)}function Ie(e,t){var r=P.p;try{return P.p=e,t()}finally{P.p=r}}var Be=Math.random().toString(36).slice(2),We="__reactFiber$"+Be,Ue="__reactProps$"+Be,He="__reactContainer$"+Be,Ve="__reactEvents$"+Be,qe="__reactListeners$"+Be,Ke="__reactHandles$"+Be,Ge="__reactResources$"+Be,$e="__reactMarker$"+Be;function Je(e){delete e[We],delete e[Ue],delete e[Ve],delete e[qe],delete e[Ke]}function Qe(e){var t=e[We];if(t)return t;for(var r=e.parentNode;r;){if(t=r[He]||r[We]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Du(e);null!==e;){if(r=e[We])return r;e=Du(e)}return t}r=(e=r).parentNode}return null}function Xe(e){if(e=e[We]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Ye(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(l(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[$e]=!0}var tt=new Set,rt={};function at(e,t){nt(e,t),nt(e+"Capture",t)}function nt(e,t){for(rt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lt={},ot={};function it(e,t,r){if(n=t,ae.call(ot,n)||!ae.call(lt,n)&&(st.test(n)?ot[n]=!0:(lt[n]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var n}function ct(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function dt(e,t,r,a){if(null===a)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+a)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function mt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function pt(e){if(!e._valueTracker){var t=mt(e)?"checked":"value";e._valueTracker=function(e,t,r){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var n=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function xt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=mt(e)?e.checked?"true":"false":e.value),(e=a)!==r&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function gt(e){return e.replace(ft,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,r,a,n,s,l,o){e.name="",null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?yt(e,l,ut(t)):null!=r?yt(e,l,ut(r)):null!=a&&e.removeAttribute("value"),null==n&&null!=s&&(e.defaultChecked=!!s),null!=n&&(e.checked=n&&"function"!==typeof n&&"symbol"!==typeof n),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ut(o):e.removeAttribute("name")}function vt(e,t,r,a,n,s,l,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=r){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void pt(e);r=null!=r?""+ut(r):"",t=null!=t?""+ut(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}a="function"!==typeof(a=null!=a?a:n)&&"symbol"!==typeof a&&!!a,e.checked=o?e.checked:!!a,e.defaultChecked=!!a,null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.name=l),pt(e)}function yt(e,t,r){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function jt(e,t,r,a){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+ut(r),t=null,n=0;n<e.length;n++){if(e[n].value===r)return e[n].selected=!0,void(a&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function Nt(e,t,r){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+ut(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,r,a){if(null==t){if(null!=a){if(null!=r)throw Error(l(92));if(O(a)){if(1<a.length)throw Error(l(93));a=a[0]}r=a}null==r&&(r=""),t=r}r=ut(t),e.defaultValue=r,(a=e.textContent)===r&&""!==a&&null!==a&&(e.value=a),pt(e)}function kt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,r){var a=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,r):"number"!==typeof r||0===r||St.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Et(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(l(62));if(e=e.style,null!=r){for(var a in r)!r.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&r[n]!==a&&Ct(e,n,a)}else for(var s in t)t.hasOwnProperty(s)&&Ct(e,s,t[s])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return Lt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Tt(){}var Ot=null;function zt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Dt=null;function Mt(e){var t=Xe(e);if(t&&(e=t.stateNode)){var r=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var n=a[Ue]||null;if(!n)throw Error(l(90));bt(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<r.length;t++)(a=r[t]).form===e.form&&xt(a)}break e;case"textarea":Nt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&jt(e,!!r.multiple,t,!1)}}}var Ft=!1;function It(e,t,r){if(Ft)return e(t,r);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Pt||null!==Dt)&&(Zc(),Pt&&(t=Pt,e=Dt,Dt=Pt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Bt(e,t){var r=e.stateNode;if(null===r)return null;var a=r[Ue]||null;if(null===a)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(l(231,t,typeof r));return r}var Wt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Wt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Xm){Ut=!1}var Vt=null,qt=null,Kt=null;function Gt(){if(Kt)return Kt;var e,t,r=qt,a=r.length,n="value"in Vt?Vt.value:Vt.textContent,s=n.length;for(e=0;e<a&&r[e]===n[e];e++);var l=a-e;for(t=1;t<=l&&r[a-t]===n[s-t];t++);return Kt=n.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Jt(){return!0}function Qt(){return!1}function Xt(e){function t(t,r,a,n,s){for(var l in this._reactName=t,this._targetInst=a,this.type=r,this.nativeEvent=n,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(n):n[l]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Jt:Qt,this.isPropagationStopped=Qt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Jt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Jt)},persist:function(){},isPersistent:Jt}),t}var Yt,Zt,er,tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rr=Xt(tr),ar=p({},tr,{view:0,detail:0}),nr=Xt(ar),sr=p({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&"mousemove"===e.type?(Yt=e.screenX-er.screenX,Zt=e.screenY-er.screenY):Zt=Yt=0,er=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),lr=Xt(sr),or=Xt(p({},sr,{dataTransfer:0})),ir=Xt(p({},ar,{relatedTarget:0})),cr=Xt(p({},tr,{animationName:0,elapsedTime:0,pseudoElement:0})),dr=Xt(p({},tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ur=Xt(p({},tr,{data:0})),mr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xr[e])&&!!t[e]}function fr(){return hr}var gr=Xt(p({},ar,{key:function(e){if(e.key){var t=mr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),br=Xt(p({},sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vr=Xt(p({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr})),yr=Xt(p({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0})),jr=Xt(p({},sr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Nr=Xt(p({},tr,{newState:0,oldState:0})),wr=[9,13,27,32],kr=Wt&&"CompositionEvent"in window,Sr=null;Wt&&"documentMode"in document&&(Sr=document.documentMode);var Cr=Wt&&"TextEvent"in window&&!Sr,Er=Wt&&(!kr||Sr&&8<Sr&&11>=Sr),_r=String.fromCharCode(32),Ar=!1;function Lr(e,t){switch(e){case"keyup":return-1!==wr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tr=!1;var Or={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Or[e.type]:"textarea"===t}function Pr(e,t,r,a){Pt?Dt?Dt.push(a):Dt=[a]:Pt=a,0<(t=au(t,"onChange")).length&&(r=new rr("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var Dr=null,Mr=null;function Fr(e){Jd(e,0)}function Ir(e){if(xt(Ye(e)))return e}function Br(e,t){if("change"===e)return t}var Wr=!1;if(Wt){var Ur;if(Wt){var Hr="oninput"in document;if(!Hr){var Vr=document.createElement("div");Vr.setAttribute("oninput","return;"),Hr="function"===typeof Vr.oninput}Ur=Hr}else Ur=!1;Wr=Ur&&(!document.documentMode||9<document.documentMode)}function qr(){Dr&&(Dr.detachEvent("onpropertychange",Kr),Mr=Dr=null)}function Kr(e){if("value"===e.propertyName&&Ir(Mr)){var t=[];Pr(t,Mr,e,zt(e)),It(Fr,t)}}function Gr(e,t,r){"focusin"===e?(qr(),Mr=r,(Dr=t).attachEvent("onpropertychange",Kr)):"focusout"===e&&qr()}function $r(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ir(Mr)}function Jr(e,t){if("click"===e)return Ir(t)}function Qr(e,t){if("input"===e||"change"===e)return Ir(t)}var Xr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yr(e,t){if(Xr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!ae.call(t,n)||!Xr(e[n],t[n]))return!1}return!0}function Zr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ea(e,t){var r,a=Zr(e);for(e=0;a;){if(3===a.nodeType){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zr(a)}}function ta(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ta(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ra(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(a){r=!1}if(!r)break;t=ht((e=t.contentWindow).document)}return t}function aa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var na=Wt&&"documentMode"in document&&11>=document.documentMode,sa=null,la=null,oa=null,ia=!1;function ca(e,t,r){var a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;ia||null==sa||sa!==ht(a)||("selectionStart"in(a=sa)&&aa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},oa&&Yr(oa,a)||(oa=a,0<(a=au(la,"onSelect")).length&&(t=new rr("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=sa)))}function da(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ua={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},ma={},pa={};function xa(e){if(ma[e])return ma[e];if(!ua[e])return e;var t,r=ua[e];for(t in r)if(r.hasOwnProperty(t)&&t in pa)return ma[e]=r[t];return e}Wt&&(pa=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);var ha=xa("animationend"),fa=xa("animationiteration"),ga=xa("animationstart"),ba=xa("transitionrun"),va=xa("transitionstart"),ya=xa("transitioncancel"),ja=xa("transitionend"),Na=new Map,wa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ka(e,t){Na.set(e,t),at(t,[e])}wa.push("scrollEnd");var Sa="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Ca=[],Ea=0,_a=0;function Aa(){for(var e=Ea,t=_a=Ea=0;t<e;){var r=Ca[t];Ca[t++]=null;var a=Ca[t];Ca[t++]=null;var n=Ca[t];Ca[t++]=null;var s=Ca[t];if(Ca[t++]=null,null!==a&&null!==n){var l=a.pending;null===l?n.next=n:(n.next=l.next,l.next=n),a.pending=n}0!==s&&Oa(r,n,s)}}function La(e,t,r,a){Ca[Ea++]=e,Ca[Ea++]=t,Ca[Ea++]=r,Ca[Ea++]=a,_a|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function Ra(e,t,r,a){return La(e,t,r,a),za(e)}function Ta(e,t){return La(e,null,null,t),za(e)}function Oa(e,t,r){e.lanes|=r;var a=e.alternate;null!==a&&(a.lanes|=r);for(var n=!1,s=e.return;null!==s;)s.childLanes|=r,null!==(a=s.alternate)&&(a.childLanes|=r),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(n=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,n&&null!==t&&(n=31-ye(r),null===(a=(e=s.hiddenUpdates)[n])?e[n]=[t]:a.push(t),t.lane=536870912|r),s):null}function za(e){if(50<Vc)throw Vc=0,qc=null,Error(l(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Pa={};function Da(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ma(e,t,r,a){return new Da(e,t,r,a)}function Fa(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ia(e,t){var r=e.alternate;return null===r?((r=Ma(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Ba(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wa(e,t,r,a,n,s){var o=0;if(a=e,"function"===typeof e)Fa(e)&&(o=1);else if("string"===typeof e)o=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Ma(31,r,t,n)).elementType=E,e.lanes=s,e;case g:return Ua(r.children,n,s,t);case b:o=8,n|=24;break;case v:return(e=Ma(12,r,t,2|n)).elementType=v,e.lanes=s,e;case w:return(e=Ma(13,r,t,n)).elementType=w,e.lanes=s,e;case k:return(e=Ma(19,r,t,n)).elementType=k,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:o=10;break e;case y:o=9;break e;case N:o=11;break e;case S:o=14;break e;case C:o=16,a=null;break e}o=29,r=Error(l(130,null===e?"null":typeof e,"")),a=null}return(t=Ma(o,r,t,n)).elementType=e,t.type=a,t.lanes=s,t}function Ua(e,t,r,a){return(e=Ma(7,e,a,t)).lanes=r,e}function Ha(e,t,r){return(e=Ma(6,e,null,t)).lanes=r,e}function Va(e){var t=Ma(18,null,null,0);return t.stateNode=e,t}function qa(e,t,r){return(t=Ma(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ka=new WeakMap;function Ga(e,t){if("object"===typeof e&&null!==e){var r=Ka.get(e);return void 0!==r?r:(t={value:e,source:t,stack:re(t)},Ka.set(e,t),t)}return{value:e,source:t,stack:re(t)}}var $a=[],Ja=0,Qa=null,Xa=0,Ya=[],Za=0,en=null,tn=1,rn="";function an(e,t){$a[Ja++]=Xa,$a[Ja++]=Qa,Qa=e,Xa=t}function nn(e,t,r){Ya[Za++]=tn,Ya[Za++]=rn,Ya[Za++]=en,en=e;var a=tn;e=rn;var n=32-ye(a)-1;a&=~(1<<n),r+=1;var s=32-ye(t)+n;if(30<s){var l=n-n%5;s=(a&(1<<l)-1).toString(32),a>>=l,n-=l,tn=1<<32-ye(t)+n|r<<n|a,rn=s+e}else tn=1<<s|r<<n|a,rn=e}function sn(e){null!==e.return&&(an(e,1),nn(e,1,0))}function ln(e){for(;e===Qa;)Qa=$a[--Ja],$a[Ja]=null,Xa=$a[--Ja],$a[Ja]=null;for(;e===en;)en=Ya[--Za],Ya[Za]=null,rn=Ya[--Za],Ya[Za]=null,tn=Ya[--Za],Ya[Za]=null}function on(e,t){Ya[Za++]=tn,Ya[Za++]=rn,Ya[Za++]=en,tn=t.id,rn=t.overflow,en=e}var cn=null,dn=null,un=!1,mn=null,pn=!1,xn=Error(l(519));function hn(e){throw jn(Ga(Error(l(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),xn}function fn(e){var t=e.stateNode,r=e.type,a=e.memoizedProps;switch(t[We]=e,t[Ue]=a,r){case"dialog":Qd("cancel",t),Qd("close",t);break;case"iframe":case"object":case"embed":Qd("load",t);break;case"video":case"audio":for(r=0;r<Gd.length;r++)Qd(Gd[r],t);break;case"source":Qd("error",t);break;case"img":case"image":case"link":Qd("error",t),Qd("load",t);break;case"details":Qd("toggle",t);break;case"input":Qd("invalid",t),vt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Qd("invalid",t);break;case"textarea":Qd("invalid",t),wt(t,a.value,a.defaultValue,a.children)}"string"!==typeof(r=a.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===a.suppressHydrationWarning||cu(t.textContent,r)?(null!=a.popover&&(Qd("beforetoggle",t),Qd("toggle",t)),null!=a.onScroll&&Qd("scroll",t),null!=a.onScrollEnd&&Qd("scrollend",t),null!=a.onClick&&(t.onclick=Tt),t=!0):t=!1,t||hn(e,!0)}function gn(e){for(cn=e.return;cn;)switch(cn.tag){case 5:case 31:case 13:return void(pn=!1);case 27:case 3:return void(pn=!0);default:cn=cn.return}}function bn(e){if(e!==cn)return!1;if(!un)return gn(e),un=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||vu(e.type,e.memoizedProps)),t=!t),t&&dn&&hn(e),gn(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));dn=Pu(e)}else if(31===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));dn=Pu(e)}else 27===r?(r=dn,Cu(e.type)?(e=zu,zu=null,dn=e):dn=r):dn=cn?Ou(e.stateNode.nextSibling):null;return!0}function vn(){dn=cn=null,un=!1}function yn(){var e=mn;return null!==e&&(null===Lc?Lc=e:Lc.push.apply(Lc,e),mn=null),e}function jn(e){null===mn?mn=[e]:mn.push(e)}var Nn=I(null),wn=null,kn=null;function Sn(e,t,r){W(Nn,t._currentValue),t._currentValue=r}function Cn(e){e._currentValue=Nn.current,B(Nn)}function En(e,t,r){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function _n(e,t,r,a){var n=e.child;for(null!==n&&(n.return=e);null!==n;){var s=n.dependencies;if(null!==s){var o=n.child;s=s.firstContext;e:for(;null!==s;){var i=s;s=n;for(var c=0;c<t.length;c++)if(i.context===t[c]){s.lanes|=r,null!==(i=s.alternate)&&(i.lanes|=r),En(s.return,r,e),a||(o=null);break e}s=i.next}}else if(18===n.tag){if(null===(o=n.return))throw Error(l(341));o.lanes|=r,null!==(s=o.alternate)&&(s.lanes|=r),En(o,r,e),o=null}else o=n.child;if(null!==o)o.return=n;else for(o=n;null!==o;){if(o===e){o=null;break}if(null!==(n=o.sibling)){n.return=o.return,o=n;break}o=o.return}n=o}}function An(e,t,r,a){e=null;for(var n=t,s=!1;null!==n;){if(!s)if(0!==(524288&n.flags))s=!0;else if(0!==(262144&n.flags))break;if(10===n.tag){var o=n.alternate;if(null===o)throw Error(l(387));if(null!==(o=o.memoizedProps)){var i=n.type;Xr(n.pendingProps.value,o.value)||(null!==e?e.push(i):e=[i])}}else if(n===G.current){if(null===(o=n.alternate))throw Error(l(387));o.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(null!==e?e.push(dm):e=[dm])}n=n.return}null!==e&&_n(t,e,r,a),t.flags|=262144}function Ln(e){for(e=e.firstContext;null!==e;){if(!Xr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rn(e){wn=e,kn=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Tn(e){return zn(wn,e)}function On(e,t){return null===wn&&Rn(e),zn(e,t)}function zn(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===kn){if(null===e)throw Error(l(308));kn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else kn=kn.next=t;return r}var Pn="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Dn=a.unstable_scheduleCallback,Mn=a.unstable_NormalPriority,Fn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function In(){return{controller:new Pn,data:new Map,refCount:0}}function Bn(e){e.refCount--,0===e.refCount&&Dn(Mn,function(){e.controller.abort()})}var Wn=null,Un=0,Hn=0,Vn=null;function qn(){if(0===--Un&&null!==Wn){null!==Vn&&(Vn.status="fulfilled");var e=Wn;Wn=null,Hn=0,Vn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Kn=z.S;z.S=function(e,t){Oc=ie(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Wn){var r=Wn=[];Un=0,Hn=Ud(),Vn={status:"pending",value:void 0,then:function(e){r.push(e)}}}Un++,t.then(qn,qn)}(0,t),null!==Kn&&Kn(e,t)};var Gn=I(null);function $n(){var e=Gn.current;return null!==e?e:xc.pooledCache}function Jn(e,t){W(Gn,null===t?Gn.current:t.pool)}function Qn(){var e=$n();return null===e?null:{parent:Fn._currentValue,pool:e}}var Xn=Error(l(460)),Yn=Error(l(474)),Zn=Error(l(542)),es={then:function(){}};function ts(e){return"fulfilled"===(e=e.status)||"rejected"===e}function rs(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Tt,Tt),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw ls(e=t.reason),e;default:if("string"===typeof t.status)t.then(Tt,Tt);else{if(null!==(e=xc)&&100<e.shellSuspendCounter)throw Error(l(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ls(e=t.reason),e}throw ns=t,Xn}}function as(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw ns=t,Xn;throw t}}var ns=null;function ss(){if(null===ns)throw Error(l(459));var e=ns;return ns=null,e}function ls(e){if(e===Xn||e===Zn)throw Error(l(483))}var os=null,is=0;function cs(e){var t=is;return is+=1,null===os&&(os=[]),rs(os,e,t)}function ds(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function us(e,t){if(t.$$typeof===x)throw Error(l(525));throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ms(e){function t(t,r){if(e){var a=t.deletions;null===a?(t.deletions=[r],t.flags|=16):a.push(r)}}function r(r,a){if(!e)return null;for(;null!==a;)t(r,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function n(e,t){return(e=Ia(e,t)).index=0,e.sibling=null,e}function s(t,r,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<r?(t.flags|=67108866,r):a:(t.flags|=67108866,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function i(e,t,r,a){return null===t||6!==t.tag?((t=Ha(r,e.mode,a)).return=e,t):((t=n(t,r)).return=e,t)}function c(e,t,r,a){var s=r.type;return s===g?u(e,t,r.props.children,a,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===C&&as(s)===t.type)?(ds(t=n(t,r.props),r),t.return=e,t):(ds(t=Wa(r.type,r.key,r.props,null,e.mode,a),r),t.return=e,t)}function d(e,t,r,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=qa(r,e.mode,a)).return=e,t):((t=n(t,r.children||[])).return=e,t)}function u(e,t,r,a,s){return null===t||7!==t.tag?((t=Ua(r,e.mode,a,s)).return=e,t):((t=n(t,r)).return=e,t)}function m(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ha(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case h:return ds(r=Wa(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case f:return(t=qa(t,e.mode,r)).return=e,t;case C:return m(e,t=as(t),r)}if(O(t)||L(t))return(t=Ua(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return m(e,cs(t),r);if(t.$$typeof===j)return m(e,On(e,t),r);us(e,t)}return null}function p(e,t,r,a){var n=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==n?null:i(e,t,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case h:return r.key===n?c(e,t,r,a):null;case f:return r.key===n?d(e,t,r,a):null;case C:return p(e,t,r=as(r),a)}if(O(r)||L(r))return null!==n?null:u(e,t,r,a,null);if("function"===typeof r.then)return p(e,t,cs(r),a);if(r.$$typeof===j)return p(e,t,On(e,r),a);us(e,r)}return null}function x(e,t,r,a,n){if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return i(t,e=e.get(r)||null,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case h:return c(t,e=e.get(null===a.key?r:a.key)||null,a,n);case f:return d(t,e=e.get(null===a.key?r:a.key)||null,a,n);case C:return x(e,t,r,a=as(a),n)}if(O(a)||L(a))return u(t,e=e.get(r)||null,a,n,null);if("function"===typeof a.then)return x(e,t,r,cs(a),n);if(a.$$typeof===j)return x(e,t,r,On(t,a),n);us(t,a)}return null}function b(i,c,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case h:e:{for(var v=d.key;null!==c;){if(c.key===v){if((v=d.type)===g){if(7===c.tag){r(i,c.sibling),(u=n(c,d.props.children)).return=i,i=u;break e}}else if(c.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===C&&as(v)===c.type){r(i,c.sibling),ds(u=n(c,d.props),d),u.return=i,i=u;break e}r(i,c);break}t(i,c),c=c.sibling}d.type===g?((u=Ua(d.props.children,i.mode,u,d.key)).return=i,i=u):(ds(u=Wa(d.type,d.key,d.props,null,i.mode,u),d),u.return=i,i=u)}return o(i);case f:e:{for(v=d.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){r(i,c.sibling),(u=n(c,d.children||[])).return=i,i=u;break e}r(i,c);break}t(i,c),c=c.sibling}(u=qa(d,i.mode,u)).return=i,i=u}return o(i);case C:return b(i,c,d=as(d),u)}if(O(d))return function(n,l,o,i){for(var c=null,d=null,u=l,h=l=0,f=null;null!==u&&h<o.length;h++){u.index>h?(f=u,u=null):f=u.sibling;var g=p(n,u,o[h],i);if(null===g){null===u&&(u=f);break}e&&u&&null===g.alternate&&t(n,u),l=s(g,l,h),null===d?c=g:d.sibling=g,d=g,u=f}if(h===o.length)return r(n,u),un&&an(n,h),c;if(null===u){for(;h<o.length;h++)null!==(u=m(n,o[h],i))&&(l=s(u,l,h),null===d?c=u:d.sibling=u,d=u);return un&&an(n,h),c}for(u=a(u);h<o.length;h++)null!==(f=x(u,n,h,o[h],i))&&(e&&null!==f.alternate&&u.delete(null===f.key?h:f.key),l=s(f,l,h),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach(function(e){return t(n,e)}),un&&an(n,h),c}(i,c,d,u);if(L(d)){if("function"!==typeof(v=L(d)))throw Error(l(150));return function(n,o,i,c){if(null==i)throw Error(l(151));for(var d=null,u=null,h=o,f=o=0,g=null,b=i.next();null!==h&&!b.done;f++,b=i.next()){h.index>f?(g=h,h=null):g=h.sibling;var v=p(n,h,b.value,c);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(n,h),o=s(v,o,f),null===u?d=v:u.sibling=v,u=v,h=g}if(b.done)return r(n,h),un&&an(n,f),d;if(null===h){for(;!b.done;f++,b=i.next())null!==(b=m(n,b.value,c))&&(o=s(b,o,f),null===u?d=b:u.sibling=b,u=b);return un&&an(n,f),d}for(h=a(h);!b.done;f++,b=i.next())null!==(b=x(h,n,f,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?f:b.key),o=s(b,o,f),null===u?d=b:u.sibling=b,u=b);return e&&h.forEach(function(e){return t(n,e)}),un&&an(n,f),d}(i,c,d=v.call(d),u)}if("function"===typeof d.then)return b(i,c,cs(d),u);if(d.$$typeof===j)return b(i,c,On(i,d),u);us(i,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(r(i,c.sibling),(u=n(c,d)).return=i,i=u):(r(i,c),(u=Ha(d,i.mode,u)).return=i,i=u),o(i)):r(i,c)}return function(e,t,r,a){try{is=0;var n=b(e,t,r,a);return os=null,n}catch(l){if(l===Xn||l===Zn)throw l;var s=Ma(29,l,null,e.mode);return s.lanes=a,s.return=e,s}}}var ps=ms(!0),xs=ms(!1),hs=!1;function fs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vs(e,t,r){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&pc)){var n=a.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=za(e),Oa(e,null,r),t}return La(e,a,t,r),za(e)}function ys(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,ze(e,r)}}function js(e,t){var r=e.updateQueue,a=e.alternate;if(null!==a&&r===(a=a.updateQueue)){var n=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var l={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===s?n=s=l:s=s.next=l,r=r.next}while(null!==r);null===s?n=s=t:s=s.next=t}else n=s=t;return r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Ns=!1;function ws(){if(Ns){if(null!==Vn)throw Vn}}function ks(e,t,r,a){Ns=!1;var n=e.updateQueue;hs=!1;var s=n.firstBaseUpdate,l=n.lastBaseUpdate,o=n.shared.pending;if(null!==o){n.shared.pending=null;var i=o,c=i.next;i.next=null,null===l?s=c:l.next=c,l=i;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=i))}if(null!==s){var u=n.baseState;for(l=0,d=c=i=null,o=s;;){var m=-536870913&o.lane,x=m!==o.lane;if(x?(fc&m)===m:(a&m)===m){0!==m&&m===Hn&&(Ns=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var h=e,f=o;m=t;var g=r;switch(f.tag){case 1:if("function"===typeof(h=f.payload)){u=h.call(g,u,m);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(m="function"===typeof(h=f.payload)?h.call(g,u,m):h)||void 0===m)break e;u=p({},u,m);break e;case 2:hs=!0}}null!==(m=o.callback)&&(e.flags|=64,x&&(e.flags|=8192),null===(x=n.callbacks)?n.callbacks=[m]:x.push(m))}else x={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=x,i=u):d=d.next=x,l|=m;if(null===(o=o.next)){if(null===(o=n.shared.pending))break;o=(x=o).next,x.next=null,n.lastBaseUpdate=x,n.shared.pending=null}}null===d&&(i=u),n.baseState=i,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null===s&&(n.shared.lanes=0),kc|=l,e.lanes=l,e.memoizedState=u}}function Ss(e,t){if("function"!==typeof e)throw Error(l(191,e));e.call(t)}function Cs(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)Ss(r[e],t)}var Es=I(null),_s=I(0);function As(e,t){W(_s,e=Nc),W(Es,t),Nc=e|t.baseLanes}function Ls(){W(_s,Nc),W(Es,Es.current)}function Rs(){Nc=_s.current,B(Es),B(_s)}var Ts=I(null),Os=null;function zs(e){var t=e.alternate;W(Is,1&Is.current),W(Ts,e),null===Os&&(null===t||null!==Es.current||null!==t.memoizedState)&&(Os=e)}function Ps(e){W(Is,Is.current),W(Ts,e),null===Os&&(Os=e)}function Ds(e){22===e.tag?(W(Is,Is.current),W(Ts,e),null===Os&&(Os=e)):Ms()}function Ms(){W(Is,Is.current),W(Ts,Ts.current)}function Fs(e){B(Ts),Os===e&&(Os=null),B(Is)}var Is=I(0);function Bs(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||Ru(r)||Tu(r)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ws=0,Us=null,Hs=null,Vs=null,qs=!1,Ks=!1,Gs=!1,$s=0,Js=0,Qs=null,Xs=0;function Ys(){throw Error(l(321))}function Zs(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xr(e[r],t[r]))return!1;return!0}function el(e,t,r,a,n,s){return Ws=s,Us=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=null===e||null===e.memoizedState?fo:go,Gs=!1,s=r(a,n),Gs=!1,Ks&&(s=rl(t,r,a,n)),tl(e),s}function tl(e){z.H=ho;var t=null!==Hs&&null!==Hs.next;if(Ws=0,Vs=Hs=Us=null,qs=!1,Js=0,Qs=null,t)throw Error(l(300));null===e||Oo||null!==(e=e.dependencies)&&Ln(e)&&(Oo=!0)}function rl(e,t,r,a){Us=e;var n=0;do{if(Ks&&(Qs=null),Js=0,Ks=!1,25<=n)throw Error(l(301));if(n+=1,Vs=Hs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}z.H=bo,s=t(r,a)}while(Ks);return s}function al(){var e=z.H,t=e.useState()[0];return t="function"===typeof t.then?cl(t):t,e=e.useState()[0],(null!==Hs?Hs.memoizedState:null)!==e&&(Us.flags|=1024),t}function nl(){var e=0!==$s;return $s=0,e}function sl(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function ll(e){if(qs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}qs=!1}Ws=0,Vs=Hs=Us=null,Ks=!1,Js=$s=0,Qs=null}function ol(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vs?Us.memoizedState=Vs=e:Vs=Vs.next=e,Vs}function il(){if(null===Hs){var e=Us.alternate;e=null!==e?e.memoizedState:null}else e=Hs.next;var t=null===Vs?Us.memoizedState:Vs.next;if(null!==t)Vs=t,Hs=e;else{if(null===e){if(null===Us.alternate)throw Error(l(467));throw Error(l(310))}e={memoizedState:(Hs=e).memoizedState,baseState:Hs.baseState,baseQueue:Hs.baseQueue,queue:Hs.queue,next:null},null===Vs?Us.memoizedState=Vs=e:Vs=Vs.next=e}return Vs}function cl(e){var t=Js;return Js+=1,null===Qs&&(Qs=[]),e=rs(Qs,e,t),t=Us,null===(null===Vs?t.memoizedState:Vs.next)&&(t=t.alternate,z.H=null===t||null===t.memoizedState?fo:go),e}function dl(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return cl(e);if(e.$$typeof===j)return Tn(e)}throw Error(l(438,String(e)))}function ul(e){var t=null,r=Us.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var a=Us.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},Us.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),a=0;a<e;a++)r[a]=_;return t.index++,r}function ml(e,t){return"function"===typeof t?t(e):t}function pl(e){return xl(il(),Hs,e)}function xl(e,t,r){var a=e.queue;if(null===a)throw Error(l(311));a.lastRenderedReducer=r;var n=e.baseQueue,s=a.pending;if(null!==s){if(null!==n){var o=n.next;n.next=s.next,s.next=o}t.baseQueue=n=s,a.pending=null}if(s=e.baseState,null===n)e.memoizedState=s;else{var i=o=null,c=null,d=t=n.next,u=!1;do{var m=-536870913&d.lane;if(m!==d.lane?(fc&m)===m:(Ws&m)===m){var p=d.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===Hn&&(u=!0);else{if((Ws&p)===p){d=d.next,p===Hn&&(u=!0);continue}m={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(i=c=m,o=s):c=c.next=m,Us.lanes|=p,kc|=p}m=d.action,Gs&&r(s,m),s=d.hasEagerState?d.eagerState:r(s,m)}else p={lane:m,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(i=c=p,o=s):c=c.next=p,Us.lanes|=m,kc|=m;d=d.next}while(null!==d&&d!==t);if(null===c?o=s:c.next=i,!Xr(s,e.memoizedState)&&(Oo=!0,u&&null!==(r=Vn)))throw r;e.memoizedState=s,e.baseState=o,e.baseQueue=c,a.lastRenderedState=s}return null===n&&(a.lanes=0),[e.memoizedState,a.dispatch]}function hl(e){var t=il(),r=t.queue;if(null===r)throw Error(l(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,s=t.memoizedState;if(null!==n){r.pending=null;var o=n=n.next;do{s=e(s,o.action),o=o.next}while(o!==n);Xr(s,t.memoizedState)||(Oo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,a]}function fl(e,t,r){var a=Us,n=il(),s=un;if(s){if(void 0===r)throw Error(l(407));r=r()}else r=t();var o=!Xr((Hs||n).memoizedState,r);if(o&&(n.memoizedState=r,Oo=!0),n=n.queue,Wl(vl.bind(null,a,n,e),[e]),n.getSnapshot!==t||o||null!==Vs&&1&Vs.memoizedState.tag){if(a.flags|=2048,Dl(9,{destroy:void 0},bl.bind(null,a,n,r,t),null),null===xc)throw Error(l(349));s||0!==(127&Ws)||gl(a,t,r)}return r}function gl(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=Us.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Us.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function bl(e,t,r,a){t.value=r,t.getSnapshot=a,yl(t)&&jl(e)}function vl(e,t,r){return r(function(){yl(t)&&jl(e)})}function yl(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Xr(e,r)}catch(a){return!0}}function jl(e){var t=Ta(e,2);null!==t&&$c(t,e,2)}function Nl(e){var t=ol();if("function"===typeof e){var r=e;if(e=r(),Gs){ve(!0);try{r()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:e},t}function wl(e,t,r,a){return e.baseState=r,xl(e,Hs,"function"===typeof a?a:ml)}function kl(e,t,r,a,n){if(mo(e))throw Error(l(485));if(null!==(e=t.action)){var s={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==z.T?r(!0):s.isTransition=!1,a(s),null===(r=t.pending)?(s.next=t.pending=s,Sl(t,s)):(s.next=r.next,t.pending=r.next=s)}}function Sl(e,t){var r=t.action,a=t.payload,n=e.state;if(t.isTransition){var s=z.T,l={};z.T=l;try{var o=r(n,a),i=z.S;null!==i&&i(l,o),Cl(e,t,o)}catch(c){_l(e,t,c)}finally{null!==s&&null!==l.types&&(s.types=l.types),z.T=s}}else try{Cl(e,t,s=r(n,a))}catch(d){_l(e,t,d)}}function Cl(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then(function(r){El(e,t,r)},function(r){return _l(e,t,r)}):El(e,t,r)}function El(e,t,r){t.status="fulfilled",t.value=r,Al(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,Sl(e,r)))}function _l(e,t,r){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=r,Al(t),t=t.next}while(t!==a)}e.action=null}function Al(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ll(e,t){return t}function Rl(e,t){if(un){var r=xc.formState;if(null!==r){e:{var a=Us;if(un){if(dn){t:{for(var n=dn,s=pn;8!==n.nodeType;){if(!s){n=null;break t}if(null===(n=Ou(n.nextSibling))){n=null;break t}}n="F!"===(s=n.data)||"F"===s?n:null}if(n){dn=Ou(n.nextSibling),a="F!"===n.data;break e}}hn(a)}a=!1}a&&(t=r[0])}}return(r=ol()).memoizedState=r.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:t},r.queue=a,r=io.bind(null,Us,a),a.dispatch=r,a=Nl(!1),s=uo.bind(null,Us,!1,a.queue),n={state:t,dispatch:null,action:e,pending:null},(a=ol()).queue=n,r=kl.bind(null,Us,n,s,r),n.dispatch=r,a.memoizedState=e,[t,r,!1]}function Tl(e){return Ol(il(),Hs,e)}function Ol(e,t,r){if(t=xl(e,t,Ll)[0],e=pl(ml)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var a=cl(t)}catch(l){if(l===Xn)throw Zn;throw l}else a=t;var n=(t=il()).queue,s=n.dispatch;return r!==t.memoizedState&&(Us.flags|=2048,Dl(9,{destroy:void 0},zl.bind(null,n,r),null)),[a,s,e]}function zl(e,t){e.action=t}function Pl(e){var t=il(),r=Hs;if(null!==r)return Ol(t,r,e);il(),t=t.memoizedState;var a=(r=il()).queue.dispatch;return r.memoizedState=e,[t,a,!1]}function Dl(e,t,r,a){return e={tag:e,create:r,deps:a,inst:t,next:null},null===(t=Us.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Us.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e),e}function Ml(){return il().memoizedState}function Fl(e,t,r,a){var n=ol();Us.flags|=e,n.memoizedState=Dl(1|t,{destroy:void 0},r,void 0===a?null:a)}function Il(e,t,r,a){var n=il();a=void 0===a?null:a;var s=n.memoizedState.inst;null!==Hs&&null!==a&&Zs(a,Hs.memoizedState.deps)?n.memoizedState=Dl(t,s,r,a):(Us.flags|=e,n.memoizedState=Dl(1|t,s,r,a))}function Bl(e,t){Fl(8390656,8,e,t)}function Wl(e,t){Il(2048,8,e,t)}function Ul(e){var t=il().memoizedState;return function(e){Us.flags|=4;var t=Us.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Us.updateQueue=t,t.events=[e];else{var r=t.events;null===r?t.events=[e]:r.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Hl(e,t){return Il(4,2,e,t)}function Vl(e,t){return Il(4,4,e,t)}function ql(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Kl(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,Il(4,4,ql.bind(null,t,e),r)}function Gl(){}function $l(e,t){var r=il();t=void 0===t?null:t;var a=r.memoizedState;return null!==t&&Zs(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function Jl(e,t){var r=il();t=void 0===t?null:t;var a=r.memoizedState;if(null!==t&&Zs(t,a[1]))return a[0];if(a=e(),Gs){ve(!0);try{e()}finally{ve(!1)}}return r.memoizedState=[a,t],a}function Ql(e,t,r){return void 0===r||0!==(1073741824&Ws)&&0===(261930&fc)?e.memoizedState=t:(e.memoizedState=r,e=Gc(),Us.lanes|=e,kc|=e,r)}function Xl(e,t,r,a){return Xr(r,t)?r:null!==Es.current?(e=Ql(e,r,a),Xr(e,t)||(Oo=!0),e):0===(42&Ws)||0!==(1073741824&Ws)&&0===(261930&fc)?(Oo=!0,e.memoizedState=r):(e=Gc(),Us.lanes|=e,kc|=e,t)}function Yl(e,t,r,a,n){var s=P.p;P.p=0!==s&&8>s?s:8;var l=z.T,o={};z.T=o,uo(e,!1,t,r);try{var i=n(),c=z.S;if(null!==c&&c(o,i),null!==i&&"object"===typeof i&&"function"===typeof i.then){var d=function(e,t){var r=[],a={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)},function(e){for(a.status="rejected",a.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)}),a}(i,a);co(e,t,d,Kc())}else co(e,t,a,Kc())}catch(u){co(e,t,{then:function(){},status:"rejected",reason:u},Kc())}finally{P.p=s,null!==l&&null!==o.types&&(l.types=o.types),z.T=l}}function Zl(){}function eo(e,t,r,a){if(5!==e.tag)throw Error(l(476));var n=to(e).queue;Yl(e,n,t,D,null===r?Zl:function(){return ro(e),r(a)})}function to(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:D},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ro(e){var t=to(e);null===t.next&&(t=e.alternate.memoizedState),co(e,t.next.queue,{},Kc())}function ao(){return Tn(dm)}function no(){return il().memoizedState}function so(){return il().memoizedState}function lo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Kc(),a=vs(t,e=bs(r),r);return null!==a&&($c(a,t,r),ys(a,t,r)),t={cache:In()},void(e.payload=t)}t=t.return}}function oo(e,t,r){var a=Kc();r={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},mo(e)?po(t,r):null!==(r=Ra(e,t,r,a))&&($c(r,e,a),xo(r,t,a))}function io(e,t,r){co(e,t,r,Kc())}function co(e,t,r,a){var n={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(mo(e))po(t,n);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,o=s(l,r);if(n.hasEagerState=!0,n.eagerState=o,Xr(o,l))return La(e,t,n,0),null===xc&&Aa(),!1}catch(i){}if(null!==(r=Ra(e,t,n,a)))return $c(r,e,a),xo(r,t,a),!0}return!1}function uo(e,t,r,a){if(a={lane:2,revertLane:Ud(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mo(e)){if(t)throw Error(l(479))}else null!==(t=Ra(e,r,a,2))&&$c(t,e,2)}function mo(e){var t=e.alternate;return e===Us||null!==t&&t===Us}function po(e,t){Ks=qs=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function xo(e,t,r){if(0!==(4194048&r)){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,ze(e,r)}}var ho={readContext:Tn,use:dl,useCallback:Ys,useContext:Ys,useEffect:Ys,useImperativeHandle:Ys,useLayoutEffect:Ys,useInsertionEffect:Ys,useMemo:Ys,useReducer:Ys,useRef:Ys,useState:Ys,useDebugValue:Ys,useDeferredValue:Ys,useTransition:Ys,useSyncExternalStore:Ys,useId:Ys,useHostTransitionStatus:Ys,useFormState:Ys,useActionState:Ys,useOptimistic:Ys,useMemoCache:Ys,useCacheRefresh:Ys};ho.useEffectEvent=Ys;var fo={readContext:Tn,use:dl,useCallback:function(e,t){return ol().memoizedState=[e,void 0===t?null:t],e},useContext:Tn,useEffect:Bl,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,Fl(4194308,4,ql.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Fl(4194308,4,e,t)},useInsertionEffect:function(e,t){Fl(4,2,e,t)},useMemo:function(e,t){var r=ol();t=void 0===t?null:t;var a=e();if(Gs){ve(!0);try{e()}finally{ve(!1)}}return r.memoizedState=[a,t],a},useReducer:function(e,t,r){var a=ol();if(void 0!==r){var n=r(t);if(Gs){ve(!0);try{r(t)}finally{ve(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=oo.bind(null,Us,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},ol().memoizedState=e},useState:function(e){var t=(e=Nl(e)).queue,r=io.bind(null,Us,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Gl,useDeferredValue:function(e,t){return Ql(ol(),e,t)},useTransition:function(){var e=Nl(!1);return e=Yl.bind(null,Us,e.queue,!0,!1),ol().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var a=Us,n=ol();if(un){if(void 0===r)throw Error(l(407));r=r()}else{if(r=t(),null===xc)throw Error(l(349));0!==(127&fc)||gl(a,t,r)}n.memoizedState=r;var s={value:r,getSnapshot:t};return n.queue=s,Bl(vl.bind(null,a,s,e),[e]),a.flags|=2048,Dl(9,{destroy:void 0},bl.bind(null,a,s,r,t),null),r},useId:function(){var e=ol(),t=xc.identifierPrefix;if(un){var r=rn;t="_"+t+"R_"+(r=(tn&~(1<<32-ye(tn)-1)).toString(32)+r),0<(r=$s++)&&(t+="H"+r.toString(32)),t+="_"}else t="_"+t+"r_"+(r=Xs++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ao,useFormState:Rl,useActionState:Rl,useOptimistic:function(e){var t=ol();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=uo.bind(null,Us,!0,r),r.dispatch=t,[e,t]},useMemoCache:ul,useCacheRefresh:function(){return ol().memoizedState=lo.bind(null,Us)},useEffectEvent:function(e){var t=ol(),r={impl:e};return t.memoizedState=r,function(){if(0!==(2&pc))throw Error(l(440));return r.impl.apply(void 0,arguments)}}},go={readContext:Tn,use:dl,useCallback:$l,useContext:Tn,useEffect:Wl,useImperativeHandle:Kl,useInsertionEffect:Hl,useLayoutEffect:Vl,useMemo:Jl,useReducer:pl,useRef:Ml,useState:function(){return pl(ml)},useDebugValue:Gl,useDeferredValue:function(e,t){return Xl(il(),Hs.memoizedState,e,t)},useTransition:function(){var e=pl(ml)[0],t=il().memoizedState;return["boolean"===typeof e?e:cl(e),t]},useSyncExternalStore:fl,useId:no,useHostTransitionStatus:ao,useFormState:Tl,useActionState:Tl,useOptimistic:function(e,t){return wl(il(),0,e,t)},useMemoCache:ul,useCacheRefresh:so};go.useEffectEvent=Ul;var bo={readContext:Tn,use:dl,useCallback:$l,useContext:Tn,useEffect:Wl,useImperativeHandle:Kl,useInsertionEffect:Hl,useLayoutEffect:Vl,useMemo:Jl,useReducer:hl,useRef:Ml,useState:function(){return hl(ml)},useDebugValue:Gl,useDeferredValue:function(e,t){var r=il();return null===Hs?Ql(r,e,t):Xl(r,Hs.memoizedState,e,t)},useTransition:function(){var e=hl(ml)[0],t=il().memoizedState;return["boolean"===typeof e?e:cl(e),t]},useSyncExternalStore:fl,useId:no,useHostTransitionStatus:ao,useFormState:Pl,useActionState:Pl,useOptimistic:function(e,t){var r=il();return null!==Hs?wl(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ul,useCacheRefresh:so};function vo(e,t,r,a){r=null===(r=r(a,t=e.memoizedState))||void 0===r?t:p({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}bo.useEffectEvent=Ul;var yo={enqueueSetState:function(e,t,r){e=e._reactInternals;var a=Kc(),n=bs(a);n.payload=t,void 0!==r&&null!==r&&(n.callback=r),null!==(t=vs(e,n,a))&&($c(t,e,a),ys(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=Kc(),n=bs(a);n.tag=1,n.payload=t,void 0!==r&&null!==r&&(n.callback=r),null!==(t=vs(e,n,a))&&($c(t,e,a),ys(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Kc(),a=bs(r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=vs(e,a,r))&&($c(t,e,r),ys(t,e,r))}};function jo(e,t,r,a,n,s,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,l):!t.prototype||!t.prototype.isPureReactComponent||(!Yr(r,a)||!Yr(n,s))}function No(e,t,r,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function wo(e,t){var r=t;if("ref"in t)for(var a in r={},t)"ref"!==a&&(r[a]=t[a]);if(e=e.defaultProps)for(var n in r===t&&(r=p({},r)),e)void 0===r[n]&&(r[n]=e[n]);return r}function ko(e){Sa(e)}function So(e){console.error(e)}function Co(e){Sa(e)}function Eo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function _o(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Ao(e,t,r){return(r=bs(r)).tag=3,r.payload={element:null},r.callback=function(){Eo(e,t)},r}function Lo(e){return(e=bs(e)).tag=3,e}function Ro(e,t,r,a){var n=r.type.getDerivedStateFromError;if("function"===typeof n){var s=a.value;e.payload=function(){return n(s)},e.callback=function(){_o(t,r,a)}}var l=r.stateNode;null!==l&&"function"===typeof l.componentDidCatch&&(e.callback=function(){_o(t,r,a),"function"!==typeof n&&(null===Dc?Dc=new Set([this]):Dc.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var To=Error(l(461)),Oo=!1;function zo(e,t,r,a){t.child=null===e?xs(t,null,r,a):ps(t,e.child,r,a)}function Po(e,t,r,a,n){r=r.render;var s=t.ref;if("ref"in a){var l={};for(var o in a)"ref"!==o&&(l[o]=a[o])}else l=a;return Rn(t),a=el(e,t,r,l,s,n),o=nl(),null===e||Oo?(un&&o&&sn(t),t.flags|=1,zo(e,t,a,n),t.child):(sl(e,t,n),ni(e,t,n))}function Do(e,t,r,a,n){if(null===e){var s=r.type;return"function"!==typeof s||Fa(s)||void 0!==s.defaultProps||null!==r.compare?((e=Wa(r.type,null,a,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Mo(e,t,s,a,n))}if(s=e.child,!si(e,n)){var l=s.memoizedProps;if((r=null!==(r=r.compare)?r:Yr)(l,a)&&e.ref===t.ref)return ni(e,t,n)}return t.flags|=1,(e=Ia(s,a)).ref=t.ref,e.return=t,t.child=e}function Mo(e,t,r,a,n){if(null!==e){var s=e.memoizedProps;if(Yr(s,a)&&e.ref===t.ref){if(Oo=!1,t.pendingProps=a=s,!si(e,n))return t.lanes=e.lanes,ni(e,t,n);0!==(131072&e.flags)&&(Oo=!0)}}return Vo(e,t,r,a,n)}function Fo(e,t,r,a){var n=a.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===a.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|r:r,null!==e){for(a=t.child=e.child,n=0;null!==a;)n=n|a.lanes|a.childLanes,a=a.sibling;a=n&~s}else a=0,t.child=null;return Bo(e,t,s,r,a)}if(0===(536870912&r))return a=t.lanes=536870912,Bo(e,t,null!==s?s.baseLanes|r:r,r,a);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Jn(0,null!==s?s.cachePool:null),null!==s?As(t,s):Ls(),Ds(t)}else null!==s?(Jn(0,s.cachePool),As(t,s),Ms(),t.memoizedState=null):(null!==e&&Jn(0,null),Ls(),Ms());return zo(e,t,n,r),t.child}function Io(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bo(e,t,r,a,n){var s=$n();return s=null===s?null:{parent:Fn._currentValue,pool:s},t.memoizedState={baseLanes:r,cachePool:s},null!==e&&Jn(0,null),Ls(),Ds(t),null!==e&&An(e,t,a,!0),t.childLanes=n,null}function Wo(e,t){return(t=Zo({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Uo(e,t,r){return ps(t,e.child,null,r),(e=Wo(t,t.pendingProps)).flags|=2,Fs(t),t.memoizedState=null,e}function Ho(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(l(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Vo(e,t,r,a,n){return Rn(t),r=el(e,t,r,a,void 0,n),a=nl(),null===e||Oo?(un&&a&&sn(t),t.flags|=1,zo(e,t,r,n),t.child):(sl(e,t,n),ni(e,t,n))}function qo(e,t,r,a,n,s){return Rn(t),t.updateQueue=null,r=rl(t,a,r,n),tl(e),a=nl(),null===e||Oo?(un&&a&&sn(t),t.flags|=1,zo(e,t,r,s),t.child):(sl(e,t,s),ni(e,t,s))}function Ko(e,t,r,a,n){if(Rn(t),null===t.stateNode){var s=Pa,l=r.contextType;"object"===typeof l&&null!==l&&(s=Tn(l)),s=new r(a,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=yo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=a,s.state=t.memoizedState,s.refs={},fs(t),l=r.contextType,s.context="object"===typeof l&&null!==l?Tn(l):Pa,s.state=t.memoizedState,"function"===typeof(l=r.getDerivedStateFromProps)&&(vo(t,r,l,a),s.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(l=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),l!==s.state&&yo.enqueueReplaceState(s,s.state,null),ks(t,a,s,n),ws(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,i=wo(r,o);s.props=i;var c=s.context,d=r.contextType;l=Pa,"object"===typeof d&&null!==d&&(l=Tn(d));var u=r.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==l)&&No(t,s,a,l),hs=!1;var m=t.memoizedState;s.state=m,ks(t,a,s,n),ws(),c=t.memoizedState,o||m!==c||hs?("function"===typeof u&&(vo(t,r,u,a),c=t.memoizedState),(i=hs||jo(t,r,i,a,m,c,l))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),s.props=a,s.state=c,s.context=l,a=i):("function"===typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,gs(e,t),d=wo(r,l=t.memoizedProps),s.props=d,u=t.pendingProps,m=s.context,c=r.contextType,i=Pa,"object"===typeof c&&null!==c&&(i=Tn(c)),(c="function"===typeof(o=r.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(l!==u||m!==i)&&No(t,s,a,i),hs=!1,m=t.memoizedState,s.state=m,ks(t,a,s,n),ws();var p=t.memoizedState;l!==u||m!==p||hs||null!==e&&null!==e.dependencies&&Ln(e.dependencies)?("function"===typeof o&&(vo(t,r,o,a),p=t.memoizedState),(d=hs||jo(t,r,d,a,m,p,i)||null!==e&&null!==e.dependencies&&Ln(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(a,p,i),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,p,i)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),s.props=a,s.state=p,s.context=i,a=d):("function"!==typeof s.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,Ho(e,t),a=0!==(128&t.flags),s||a?(s=t.stateNode,r=a&&"function"!==typeof r.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&a?(t.child=ps(t,e.child,null,n),t.child=ps(t,null,r,n)):zo(e,t,r,n),t.memoizedState=s.state,e=t.child):e=ni(e,t,n),e}function Go(e,t,r,a){return vn(),t.flags|=256,zo(e,t,r,a),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jo(e){return{baseLanes:e,cachePool:Qn()}}function Qo(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=Ec),e}function Xo(e,t,r){var a,n=t.pendingProps,s=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&Is.current)),a&&(s=!0,t.flags&=-129),a=0!==(32&t.flags),t.flags&=-33,null===e){if(un){if(s?zs(t):Ms(),(e=dn)?null!==(e=null!==(e=Lu(e,pn))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==en?{id:tn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},(r=Va(e)).return=t,t.child=r,cn=t,dn=null):e=null,null===e)throw hn(t);return Tu(e)?t.lanes=32:t.lanes=536870912,null}var i=n.children;return n=n.fallback,s?(Ms(),i=Zo({mode:"hidden",children:i},s=t.mode),n=Ua(n,s,r,null),i.return=t,n.return=t,i.sibling=n,t.child=i,(n=t.child).memoizedState=Jo(r),n.childLanes=Qo(e,a,r),t.memoizedState=$o,Io(null,n)):(zs(t),Yo(t,i))}var c=e.memoizedState;if(null!==c&&null!==(i=c.dehydrated)){if(o)256&t.flags?(zs(t),t.flags&=-257,t=ei(e,t,r)):null!==t.memoizedState?(Ms(),t.child=e.child,t.flags|=128,t=null):(Ms(),i=n.fallback,s=t.mode,n=Zo({mode:"visible",children:n.children},s),(i=Ua(i,s,r,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,ps(t,e.child,null,r),(n=t.child).memoizedState=Jo(r),n.childLanes=Qo(e,a,r),t.memoizedState=$o,t=Io(null,n));else if(zs(t),Tu(i)){if(a=i.nextSibling&&i.nextSibling.dataset)var d=a.dgst;a=d,(n=Error(l(419))).stack="",n.digest=a,jn({value:n,source:null,stack:null}),t=ei(e,t,r)}else if(Oo||An(e,t,r,!1),a=0!==(r&e.childLanes),Oo||a){if(null!==(a=xc)&&(0!==(n=Pe(a,r))&&n!==c.retryLane))throw c.retryLane=n,Ta(e,n),$c(a,e,n),To;Ru(i)||ld(),t=ei(e,t,r)}else Ru(i)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,dn=Ou(i.nextSibling),cn=t,un=!0,mn=null,pn=!1,null!==e&&on(t,e),(t=Yo(t,n.children)).flags|=4096);return t}return s?(Ms(),i=n.fallback,s=t.mode,d=(c=e.child).sibling,(n=Ia(c,{mode:"hidden",children:n.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?i=Ia(d,i):(i=Ua(i,s,r,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,Io(null,n),n=t.child,null===(i=e.child.memoizedState)?i=Jo(r):(null!==(s=i.cachePool)?(c=Fn._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Qn(),i={baseLanes:i.baseLanes|r,cachePool:s}),n.memoizedState=i,n.childLanes=Qo(e,a,r),t.memoizedState=$o,Io(e.child,n)):(zs(t),e=(r=e.child).sibling,(r=Ia(r,{mode:"visible",children:n.children})).return=t,r.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=r,t.memoizedState=null,r)}function Yo(e,t){return(t=Zo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zo(e,t){return(e=Ma(22,e,null,t)).lanes=0,e}function ei(e,t,r){return ps(t,e.child,null,r),(e=Yo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ti(e,t,r){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),En(e.return,t,r)}function ri(e,t,r,a,n,s){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n,treeForkCount:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=r,l.tailMode=n,l.treeForkCount=s)}function ai(e,t,r){var a=t.pendingProps,n=a.revealOrder,s=a.tail;a=a.children;var l=Is.current,o=0!==(2&l);if(o?(l=1&l|2,t.flags|=128):l&=1,W(Is,l),zo(e,t,a,r),a=un?Xa:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ti(e,r,t);else if(19===e.tag)ti(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(r=t.child,n=null;null!==r;)null!==(e=r.alternate)&&null===Bs(e)&&(n=r),r=r.sibling;null===(r=n)?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),ri(t,!1,n,r,s,a);break;case"backwards":case"unstable_legacy-backwards":for(r=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===Bs(e)){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}ri(t,!0,r,null,s,a);break;case"together":ri(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ni(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),kc|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(An(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(r=Ia(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ia(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function si(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ln(e))}function li(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Oo=!0;else{if(!si(e,r)&&0===(128&t.flags))return Oo=!1,function(e,t,r){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),Sn(0,Fn,e.memoizedState.cache),vn();break;case 27:case 5:Q(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:Sn(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ps(t),null;break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(zs(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Xo(e,t,r):(zs(t),null!==(e=ni(e,t,r))?e.sibling:null);zs(t);break;case 19:var n=0!==(128&e.flags);if((a=0!==(r&t.childLanes))||(An(e,t,r,!1),a=0!==(r&t.childLanes)),n){if(a)return ai(e,t,r);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),W(Is,Is.current),a)break;return null;case 22:return t.lanes=0,Fo(e,t,r,t.pendingProps);case 24:Sn(0,Fn,e.memoizedState.cache)}return ni(e,t,r)}(e,t,r);Oo=0!==(131072&e.flags)}else Oo=!1,un&&0!==(1048576&t.flags)&&nn(t,Xa,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=as(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var n=e.$$typeof;if(n===N){t.tag=11,t=Po(null,t,e,a,r);break e}if(n===S){t.tag=14,t=Do(null,t,e,a,r);break e}}throw t=T(e)||e,Error(l(306,t,""))}Fa(e)?(a=wo(e,a),t.tag=1,t=Ko(null,t,e,a,r)):(t.tag=0,t=Vo(null,t,e,a,r))}return t;case 0:return Vo(e,t,t.type,t.pendingProps,r);case 1:return Ko(e,t,a=t.type,n=wo(a,t.pendingProps),r);case 3:e:{if($(t,t.stateNode.containerInfo),null===e)throw Error(l(387));a=t.pendingProps;var s=t.memoizedState;n=s.element,gs(e,t),ks(t,a,null,r);var o=t.memoizedState;if(a=o.cache,Sn(0,Fn,a),a!==s.cache&&_n(t,[Fn],r,!0),ws(),a=o.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Go(e,t,a,r);break e}if(a!==n){jn(n=Ga(Error(l(424)),t)),t=Go(e,t,a,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(dn=Ou(e.firstChild),cn=t,un=!0,mn=null,pn=!0,r=xs(t,null,a,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(vn(),a===n){t=ni(e,t,r);break e}zo(e,t,a,r)}t=t.child}return t;case 26:return Ho(e,t),null===e?(r=qu(t.type,null,t.pendingProps,null))?t.memoizedState=r:un||(r=t.type,e=t.pendingProps,(a=fu(K.current).createElement(r))[We]=t,a[Ue]=e,mu(a,r,e),et(a),t.stateNode=a):t.memoizedState=qu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&un&&(a=t.stateNode=Mu(t.type,t.pendingProps,K.current),cn=t,pn=!0,n=dn,Cu(t.type)?(zu=n,dn=Ou(a.firstChild)):dn=n),zo(e,t,t.pendingProps.children,r),Ho(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&un&&((n=a=dn)&&(null!==(a=function(e,t,r,a){for(;1===e.nodeType;){var n=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[$e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==n.rel||e.getAttribute("href")!==(null==n.href||""===n.href?null:n.href)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin)||e.getAttribute("title")!==(null==n.title?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==n.src?null:n.src)||e.getAttribute("type")!==(null==n.type?null:n.type)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==n.name?null:""+n.name;if("hidden"===n.type&&e.getAttribute("name")===s)return e}if(null===(e=Ou(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,pn))?(t.stateNode=a,cn=t,dn=Ou(a.firstChild),pn=!1,n=!0):n=!1),n||hn(t)),Q(t),n=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,a=s.children,vu(n,s)?a=null:null!==o&&vu(n,o)&&(t.flags|=32),null!==t.memoizedState&&(n=el(e,t,al,null,null,r),dm._currentValue=n),Ho(e,t),zo(e,t,a,r),t.child;case 6:return null===e&&un&&((e=r=dn)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=Ou(e.nextSibling)))return null}return e}(r,t.pendingProps,pn))?(t.stateNode=r,cn=t,dn=null,e=!0):e=!1),e||hn(t)),null;case 13:return Xo(e,t,r);case 4:return $(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=ps(t,null,a,r):zo(e,t,a,r),t.child;case 11:return Po(e,t,t.type,t.pendingProps,r);case 7:return zo(e,t,t.pendingProps,r),t.child;case 8:case 12:return zo(e,t,t.pendingProps.children,r),t.child;case 10:return a=t.pendingProps,Sn(0,t.type,a.value),zo(e,t,a.children,r),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,Rn(t),a=a(n=Tn(n)),t.flags|=1,zo(e,t,a,r),t.child;case 14:return Do(e,t,t.type,t.pendingProps,r);case 15:return Mo(e,t,t.type,t.pendingProps,r);case 19:return ai(e,t,r);case 31:return function(e,t,r){var a=t.pendingProps,n=0!==(128&t.flags);if(t.flags&=-129,null===e){if(un){if("hidden"===a.mode)return e=Wo(t,a),t.lanes=536870912,Io(null,e);if(Ps(t),(e=dn)?null!==(e=null!==(e=Lu(e,pn))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==en?{id:tn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},(r=Va(e)).return=t,t.child=r,cn=t,dn=null):e=null,null===e)throw hn(t);return t.lanes=536870912,null}return Wo(t,a)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if(Ps(t),n)if(256&t.flags)t.flags&=-257,t=Uo(e,t,r);else{if(null===t.memoizedState)throw Error(l(558));t.child=e.child,t.flags|=128,t=null}else if(Oo||An(e,t,r,!1),n=0!==(r&e.childLanes),Oo||n){if(null!==(a=xc)&&0!==(o=Pe(a,r))&&o!==s.retryLane)throw s.retryLane=o,Ta(e,o),$c(a,e,o),To;ld(),t=Uo(e,t,r)}else e=s.treeContext,dn=Ou(o.nextSibling),cn=t,un=!0,mn=null,pn=!1,null!==e&&on(t,e),(t=Wo(t,a)).flags|=4096;return t}return(e=Ia(e.child,{mode:a.mode,children:a.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,r);case 22:return Fo(e,t,r,t.pendingProps);case 24:return Rn(t),a=Tn(Fn),null===e?(null===(n=$n())&&(n=xc,s=In(),n.pooledCache=s,s.refCount++,null!==s&&(n.pooledCacheLanes|=r),n=s),t.memoizedState={parent:a,cache:n},fs(t),Sn(0,Fn,n)):(0!==(e.lanes&r)&&(gs(e,t),ks(t,null,null,r),ws()),n=e.memoizedState,s=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=n),Sn(0,Fn,a)):(a=s.cache,Sn(0,Fn,a),a!==n.cache&&_n(t,[Fn],r,!0))),zo(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function oi(e){e.flags|=4}function ii(e,t,r,a,n){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&n)===n)if(e.stateNode.complete)e.flags|=8192;else{if(!ad())throw ns=es,Yn;e.flags|=8192}}else e.flags&=-16777217}function ci(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!nm(t)){if(!ad())throw ns=es,Yn;e.flags|=8192}}function di(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Le():536870912,e.lanes|=t,_c|=t)}function ui(e,t){if(!un)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;null!==r;)null!==r.alternate&&(a=r),r=r.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function mi(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,a=0;if(t)for(var n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=65011712&n.subtreeFlags,a|=65011712&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function pi(e,t,r){var a=t.pendingProps;switch(ln(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return mi(t),null;case 3:return r=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Cn(Fn),J(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(bn(t)?oi(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,yn())),mi(t),null;case 26:var n=t.type,s=t.memoizedState;return null===e?(oi(t),null!==s?(mi(t),ci(t,s)):(mi(t),ii(t,n,0,0,r))):s?s!==e.memoizedState?(oi(t),mi(t),ci(t,s)):(mi(t),t.flags&=-16777217):((e=e.memoizedProps)!==a&&oi(t),mi(t),ii(t,n,0,0,r)),null;case 27:if(X(t),r=K.current,n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&oi(t);else{if(!a){if(null===t.stateNode)throw Error(l(166));return mi(t),null}e=V.current,bn(t)?fn(t):(e=Mu(n,a,r),t.stateNode=e,oi(t))}return mi(t),null;case 5:if(X(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&oi(t);else{if(!a){if(null===t.stateNode)throw Error(l(166));return mi(t),null}if(s=V.current,bn(t))fn(t);else{var o=fu(K.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof a.is?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s="string"===typeof a.is?o.createElement(n,{is:a.is}):o.createElement(n)}}s[We]=t,s[Ue]=a;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(mu(s,n,a),n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&oi(t)}}return mi(t),ii(t,t.type,null===e||e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&oi(t);else{if("string"!==typeof a&&null===t.stateNode)throw Error(l(166));if(e=K.current,bn(t)){if(e=t.stateNode,r=t.memoizedProps,a=null,null!==(n=cn))switch(n.tag){case 27:case 5:a=n.memoizedProps}e[We]=t,(e=!!(e.nodeValue===r||null!==a&&!0===a.suppressHydrationWarning||cu(e.nodeValue,r)))||hn(t,!0)}else(e=fu(e).createTextNode(a))[We]=t,t.stateNode=e}return mi(t),null;case 31:if(r=t.memoizedState,null===e||null!==e.memoizedState){if(a=bn(t),null!==r){if(null===e){if(!a)throw Error(l(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(l(557));e[We]=t}else vn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;mi(t),e=!1}else r=yn(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return 256&t.flags?(Fs(t),t):(Fs(t),null);if(0!==(128&t.flags))throw Error(l(558))}return mi(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(n=bn(t),null!==a&&null!==a.dehydrated){if(null===e){if(!n)throw Error(l(318));if(!(n=null!==(n=t.memoizedState)?n.dehydrated:null))throw Error(l(317));n[We]=t}else vn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;mi(t),n=!1}else n=yn(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return 256&t.flags?(Fs(t),t):(Fs(t),null)}return Fs(t),0!==(128&t.flags)?(t.lanes=r,t):(r=null!==a,e=null!==e&&null!==e.memoizedState,r&&(n=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(n=a.alternate.memoizedState.cachePool.pool),s=null,null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(s=a.memoizedState.cachePool.pool),s!==n&&(a.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),di(t,t.updateQueue),mi(t),null);case 4:return J(),null===e&&Zd(t.stateNode.containerInfo),mi(t),null;case 10:return Cn(t.type),mi(t),null;case 19:if(B(Is),null===(a=t.memoizedState))return mi(t),null;if(n=0!==(128&t.flags),null===(s=a.rendering))if(n)ui(a,!1);else{if(0!==wc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Bs(e))){for(t.flags|=128,ui(a,!1),e=s.updateQueue,t.updateQueue=e,di(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)Ba(r,e),r=r.sibling;return W(Is,1&Is.current|2),un&&an(t,a.treeForkCount),t.child}e=e.sibling}null!==a.tail&&ie()>zc&&(t.flags|=128,n=!0,ui(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=Bs(s))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,di(t,e),ui(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!un)return mi(t),null}else 2*ie()-a.renderingStartTime>zc&&536870912!==r&&(t.flags|=128,n=!0,ui(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=a.last)?e.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ie(),e.sibling=null,r=Is.current,W(Is,n?1&r|2:1&r),un&&an(t,a.treeForkCount),e):(mi(t),null);case 22:case 23:return Fs(t),Rs(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?0!==(536870912&r)&&0===(128&t.flags)&&(mi(t),6&t.subtreeFlags&&(t.flags|=8192)):mi(t),null!==(r=t.updateQueue)&&di(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==r&&(t.flags|=2048),null!==e&&B(Gn),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Cn(Fn),mi(t),null;case 25:case 30:return null}throw Error(l(156,t.tag))}function xi(e,t){switch(ln(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Cn(Fn),J(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(null!==t.memoizedState){if(Fs(t),null===t.alternate)throw Error(l(340));vn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Fs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));vn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(Is),null;case 4:return J(),null;case 10:return Cn(t.type),null;case 22:case 23:return Fs(t),Rs(),null!==e&&B(Gn),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Cn(Fn),null;default:return null}}function hi(e,t){switch(ln(t),t.tag){case 3:Cn(Fn),J();break;case 26:case 27:case 5:X(t);break;case 4:J();break;case 31:null!==t.memoizedState&&Fs(t);break;case 13:Fs(t);break;case 19:B(Is);break;case 10:Cn(t.type);break;case 22:case 23:Fs(t),Rs(),null!==e&&B(Gn);break;case 24:Cn(Fn)}}function fi(e,t){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var n=a.next;r=n;do{if((r.tag&e)===e){a=void 0;var s=r.create,l=r.inst;a=s(),l.destroy=a}r=r.next}while(r!==n)}}catch(o){wd(t,t.return,o)}}function gi(e,t,r){try{var a=t.updateQueue,n=null!==a?a.lastEffect:null;if(null!==n){var s=n.next;a=s;do{if((a.tag&e)===e){var l=a.inst,o=l.destroy;if(void 0!==o){l.destroy=void 0,n=t;var i=r,c=o;try{c()}catch(d){wd(n,i,d)}}}a=a.next}while(a!==s)}}catch(d){wd(t,t.return,d)}}function bi(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{Cs(t,r)}catch(a){wd(e,e.return,a)}}}function vi(e,t,r){r.props=wo(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(a){wd(e,t,a)}}function yi(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"===typeof r?e.refCleanup=r(a):r.current=a}}catch(n){wd(e,t,n)}}function ji(e,t){var r=e.ref,a=e.refCleanup;if(null!==r)if("function"===typeof a)try{a()}catch(n){wd(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(s){wd(e,t,s)}else r.current=null}function Ni(e){var t=e.type,r=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&a.focus();break e;case"img":r.src?a.src=r.src:r.srcSet&&(a.srcset=r.srcSet)}}catch(n){wd(e,e.return,n)}}function wi(e,t,r){try{var a=e.stateNode;!function(e,t,r,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,s=null,o=null,i=null,c=null,d=null,u=null;for(x in r){var m=r[x];if(r.hasOwnProperty(x)&&null!=m)switch(x){case"checked":case"value":break;case"defaultValue":c=m;default:a.hasOwnProperty(x)||du(e,t,x,null,a,m)}}for(var p in a){var x=a[p];if(m=r[p],a.hasOwnProperty(p)&&(null!=x||null!=m))switch(p){case"type":s=x;break;case"name":n=x;break;case"checked":d=x;break;case"defaultChecked":u=x;break;case"value":o=x;break;case"defaultValue":i=x;break;case"children":case"dangerouslySetInnerHTML":if(null!=x)throw Error(l(137,t));break;default:x!==m&&du(e,t,p,x,a,m)}}return void bt(e,o,i,c,d,u,s,n);case"select":for(s in x=o=i=p=null,r)if(c=r[s],r.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":x=c;default:a.hasOwnProperty(s)||du(e,t,s,null,a,c)}for(n in a)if(s=a[n],c=r[n],a.hasOwnProperty(n)&&(null!=s||null!=c))switch(n){case"value":p=s;break;case"defaultValue":i=s;break;case"multiple":o=s;default:s!==c&&du(e,t,n,s,a,c)}return t=i,r=o,a=x,void(null!=p?jt(e,!!r,p,!1):!!a!==!!r&&(null!=t?jt(e,!!r,t,!0):jt(e,!!r,r?[]:"",!1)));case"textarea":for(i in x=p=null,r)if(n=r[i],r.hasOwnProperty(i)&&null!=n&&!a.hasOwnProperty(i))switch(i){case"value":case"children":break;default:du(e,t,i,null,a,n)}for(o in a)if(n=a[o],s=r[o],a.hasOwnProperty(o)&&(null!=n||null!=s))switch(o){case"value":p=n;break;case"defaultValue":x=n;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=n)throw Error(l(91));break;default:n!==s&&du(e,t,o,n,a,s)}return void Nt(e,p,x);case"option":for(var h in r)if(p=r[h],r.hasOwnProperty(h)&&null!=p&&!a.hasOwnProperty(h))if("selected"===h)e.selected=!1;else du(e,t,h,null,a,p);for(c in a)if(p=a[c],x=r[c],a.hasOwnProperty(c)&&p!==x&&(null!=p||null!=x))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else du(e,t,c,p,a,x);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var f in r)p=r[f],r.hasOwnProperty(f)&&null!=p&&!a.hasOwnProperty(f)&&du(e,t,f,null,a,p);for(d in a)if(p=a[d],x=r[d],a.hasOwnProperty(d)&&p!==x&&(null!=p||null!=x))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(l(137,t));break;default:du(e,t,d,p,a,x)}return;default:if(_t(t)){for(var g in r)p=r[g],r.hasOwnProperty(g)&&void 0!==p&&!a.hasOwnProperty(g)&&uu(e,t,g,void 0,a,p);for(u in a)p=a[u],x=r[u],!a.hasOwnProperty(u)||p===x||void 0===p&&void 0===x||uu(e,t,u,p,a,x);return}}for(var b in r)p=r[b],r.hasOwnProperty(b)&&null!=p&&!a.hasOwnProperty(b)&&du(e,t,b,null,a,p);for(m in a)p=a[m],x=r[m],!a.hasOwnProperty(m)||p===x||null==p&&null==x||du(e,t,m,p,a,x)}(a,e.type,r,t),a[Ue]=t}catch(n){wd(e,e.return,n)}}function ki(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cu(e.type)||4===e.tag}function Si(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ki(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ci(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Tt));else if(4!==a&&(27===a&&Cu(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(Ci(e,t,r),e=e.sibling;null!==e;)Ci(e,t,r),e=e.sibling}function Ei(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==a&&(27===a&&Cu(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(Ei(e,t,r),e=e.sibling;null!==e;)Ei(e,t,r),e=e.sibling}function _i(e){var t=e.stateNode,r=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);mu(t,a,r),t[We]=e,t[Ue]=r}catch(s){wd(e,e.return,s)}}var Ai=!1,Li=!1,Ri=!1,Ti="function"===typeof WeakSet?WeakSet:Set,Oi=null;function zi(e,t,r){var a=r.flags;switch(r.tag){case 0:case 11:case 15:$i(e,r),4&a&&fi(5,r);break;case 1:if($i(e,r),4&a)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(l){wd(r,r.return,l)}else{var n=wo(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){wd(r,r.return,o)}}64&a&&bi(r),512&a&&yi(r,r.return);break;case 3:if($i(e,r),64&a&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{Cs(e,t)}catch(l){wd(r,r.return,l)}}break;case 27:null===t&&4&a&&_i(r);case 26:case 5:$i(e,r),null===t&&4&a&&Ni(r),512&a&&yi(r,r.return);break;case 12:$i(e,r);break;case 31:$i(e,r),4&a&&Bi(e,r);break;case 13:$i(e,r),4&a&&Wi(e,r),64&a&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==r.readyState)t();else{var a=function(){t(),r.removeEventListener("DOMContentLoaded",a)};r.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,r=Ed.bind(null,r))));break;case 22:if(!(a=null!==r.memoizedState||Ai)){t=null!==t&&null!==t.memoizedState||Li,n=Ai;var s=Li;Ai=a,(Li=t)&&!s?Qi(e,r,0!==(8772&r.subtreeFlags)):$i(e,r),Ai=n,Li=s}break;case 30:break;default:$i(e,r)}}function Pi(e){var t=e.alternate;null!==t&&(e.alternate=null,Pi(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Je(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Di=null,Mi=!1;function Fi(e,t,r){for(r=r.child;null!==r;)Ii(e,t,r),r=r.sibling}function Ii(e,t,r){if(be&&"function"===typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(ge,r)}catch(s){}switch(r.tag){case 26:Li||ji(r,t),Fi(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:Li||ji(r,t);var a=Di,n=Mi;Cu(r.type)&&(Di=r.stateNode,Mi=!1),Fi(e,t,r),Fu(r.stateNode),Di=a,Mi=n;break;case 5:Li||ji(r,t);case 6:if(a=Di,n=Mi,Di=null,Fi(e,t,r),Mi=n,null!==(Di=a))if(Mi)try{(9===Di.nodeType?Di.body:"HTML"===Di.nodeName?Di.ownerDocument.body:Di).removeChild(r.stateNode)}catch(l){wd(r,t,l)}else try{Di.removeChild(r.stateNode)}catch(l){wd(r,t,l)}break;case 18:null!==Di&&(Mi?(Eu(9===(e=Di).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Vm(e)):Eu(Di,r.stateNode));break;case 4:a=Di,n=Mi,Di=r.stateNode.containerInfo,Mi=!0,Fi(e,t,r),Di=a,Mi=n;break;case 0:case 11:case 14:case 15:gi(2,r,t),Li||gi(4,r,t),Fi(e,t,r);break;case 1:Li||(ji(r,t),"function"===typeof(a=r.stateNode).componentWillUnmount&&vi(r,t,a)),Fi(e,t,r);break;case 21:Fi(e,t,r);break;case 22:Li=(a=Li)||null!==r.memoizedState,Fi(e,t,r),Li=a;break;default:Fi(e,t,r)}}function Bi(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vm(e)}catch(r){wd(t,t.return,r)}}}function Wi(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vm(e)}catch(r){wd(t,t.return,r)}}function Ui(e,t){var r=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ti),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ti),t;default:throw Error(l(435,e.tag))}}(e);t.forEach(function(t){if(!r.has(t)){r.add(t);var a=_d.bind(null,e,t);t.then(a,a)}})}function Hi(e,t){var r=t.deletions;if(null!==r)for(var a=0;a<r.length;a++){var n=r[a],s=e,o=t,i=o;e:for(;null!==i;){switch(i.tag){case 27:if(Cu(i.type)){Di=i.stateNode,Mi=!1;break e}break;case 5:Di=i.stateNode,Mi=!1;break e;case 3:case 4:Di=i.stateNode.containerInfo,Mi=!0;break e}i=i.return}if(null===Di)throw Error(l(160));Ii(s,o,n),Di=null,Mi=!1,null!==(s=n.alternate)&&(s.return=null),n.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)qi(t,e),t=t.sibling}var Vi=null;function qi(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hi(t,e),Ki(e),4&a&&(gi(3,e,e.return),fi(3,e),gi(5,e,e.return));break;case 1:Hi(t,e),Ki(e),512&a&&(Li||null===r||ji(r,r.return)),64&a&&Ai&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?a:r.concat(a))));break;case 26:var n=Vi;if(Hi(t,e),Ki(e),512&a&&(Li||null===r||ji(r,r.return)),4&a){var s=null!==r?r.memoizedState:null;if(a=e.memoizedState,null===r)if(null===a)if(null===e.stateNode){e:{a=e.type,r=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":(!(s=n.getElementsByTagName("title")[0])||s[$e]||s[We]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=n.createElement(a),n.head.insertBefore(s,n.querySelector("head > title"))),mu(s,a,r),s[We]=e,et(s),a=s;break e;case"link":var o=rm("link","href",n).get(a+(r.href||""));if(o)for(var i=0;i<o.length;i++)if((s=o[i]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&s.getAttribute("rel")===(null==r.rel?null:r.rel)&&s.getAttribute("title")===(null==r.title?null:r.title)&&s.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){o.splice(i,1);break t}mu(s=n.createElement(a),a,r),n.head.appendChild(s);break;case"meta":if(o=rm("meta","content",n).get(a+(r.content||"")))for(i=0;i<o.length;i++)if((s=o[i]).getAttribute("content")===(null==r.content?null:""+r.content)&&s.getAttribute("name")===(null==r.name?null:r.name)&&s.getAttribute("property")===(null==r.property?null:r.property)&&s.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&s.getAttribute("charset")===(null==r.charSet?null:r.charSet)){o.splice(i,1);break t}mu(s=n.createElement(a),a,r),n.head.appendChild(s);break;default:throw Error(l(468,a))}s[We]=e,et(s),a=s}e.stateNode=a}else am(n,e.type,e.stateNode);else e.stateNode=Xu(n,a,e.memoizedProps);else s!==a?(null===s?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):s.count--,null===a?am(n,e.type,e.stateNode):Xu(n,a,e.memoizedProps)):null===a&&null!==e.stateNode&&wi(e,e.memoizedProps,r.memoizedProps)}break;case 27:Hi(t,e),Ki(e),512&a&&(Li||null===r||ji(r,r.return)),null!==r&&4&a&&wi(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Hi(t,e),Ki(e),512&a&&(Li||null===r||ji(r,r.return)),32&e.flags){n=e.stateNode;try{kt(n,"")}catch(h){wd(e,e.return,h)}}4&a&&null!=e.stateNode&&wi(e,n=e.memoizedProps,null!==r?r.memoizedProps:n),1024&a&&(Ri=!0);break;case 6:if(Hi(t,e),Ki(e),4&a){if(null===e.stateNode)throw Error(l(162));a=e.memoizedProps,r=e.stateNode;try{r.nodeValue=a}catch(h){wd(e,e.return,h)}}break;case 3:if(tm=null,n=Vi,Vi=Wu(t.containerInfo),Hi(t,e),Vi=n,Ki(e),4&a&&null!==r&&r.memoizedState.isDehydrated)try{Vm(t.containerInfo)}catch(h){wd(e,e.return,h)}Ri&&(Ri=!1,Gi(e));break;case 4:a=Vi,Vi=Wu(e.stateNode.containerInfo),Hi(t,e),Ki(e),Vi=a;break;case 12:default:Hi(t,e),Ki(e);break;case 31:case 19:Hi(t,e),Ki(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Ui(e,a)));break;case 13:Hi(t,e),Ki(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(Tc=ie()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Ui(e,a)));break;case 22:n=null!==e.memoizedState;var c=null!==r&&null!==r.memoizedState,d=Ai,u=Li;if(Ai=d||n,Li=u||c,Hi(t,e),Li=u,Ai=d,Ki(e),8192&a)e:for(t=e.stateNode,t._visibility=n?-2&t._visibility:1|t._visibility,n&&(null===r||c||Ai||Li||Ji(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){c=r=t;try{if(s=c.stateNode,n)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{i=c.stateNode;var m=c.memoizedProps.style,p=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;i.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(h){wd(c,c.return,h)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=n?"":c.memoizedProps}catch(h){wd(c,c.return,h)}}}else if(18===t.tag){if(null===r){c=t;try{var x=c.stateNode;n?_u(x,!0):_u(c.stateNode,!1)}catch(h){wd(c,c.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(r=a.retryQueue)&&(a.retryQueue=null,Ui(e,r))));case 30:case 21:}}function Ki(e){var t=e.flags;if(2&t){try{for(var r,a=e.return;null!==a;){if(ki(a)){r=a;break}a=a.return}if(null==r)throw Error(l(160));switch(r.tag){case 27:var n=r.stateNode;Ei(e,Si(e),n);break;case 5:var s=r.stateNode;32&r.flags&&(kt(s,""),r.flags&=-33),Ei(e,Si(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;Ci(e,Si(e),o);break;default:throw Error(l(161))}}catch(i){wd(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gi(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gi(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function $i(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)zi(e,t.alternate,t),t=t.sibling}function Ji(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:gi(4,t,t.return),Ji(t);break;case 1:ji(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&vi(t,t.return,r),Ji(t);break;case 27:Fu(t.stateNode);case 26:case 5:ji(t,t.return),Ji(t);break;case 22:null===t.memoizedState&&Ji(t);break;default:Ji(t)}e=e.sibling}}function Qi(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,n=e,s=t,l=s.flags;switch(s.tag){case 0:case 11:case 15:Qi(n,s,r),fi(4,s);break;case 1:if(Qi(n,s,r),"function"===typeof(n=(a=s).stateNode).componentDidMount)try{n.componentDidMount()}catch(c){wd(a,a.return,c)}if(null!==(n=(a=s).updateQueue)){var o=a.stateNode;try{var i=n.shared.hiddenCallbacks;if(null!==i)for(n.shared.hiddenCallbacks=null,n=0;n<i.length;n++)Ss(i[n],o)}catch(c){wd(a,a.return,c)}}r&&64&l&&bi(s),yi(s,s.return);break;case 27:_i(s);case 26:case 5:Qi(n,s,r),r&&null===a&&4&l&&Ni(s),yi(s,s.return);break;case 12:Qi(n,s,r);break;case 31:Qi(n,s,r),r&&4&l&&Bi(n,s);break;case 13:Qi(n,s,r),r&&4&l&&Wi(n,s);break;case 22:null===s.memoizedState&&Qi(n,s,r),yi(s,s.return);break;case 30:break;default:Qi(n,s,r)}t=t.sibling}}function Xi(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Bn(r))}function Yi(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bn(e))}function Zi(e,t,r,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,r,a),t=t.sibling}function ec(e,t,r,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Zi(e,t,r,a),2048&n&&fi(9,t);break;case 1:case 31:case 13:default:Zi(e,t,r,a);break;case 3:Zi(e,t,r,a),2048&n&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bn(e)));break;case 12:if(2048&n){Zi(e,t,r,a),e=t.stateNode;try{var s=t.memoizedProps,l=s.id,o=s.onPostCommit;"function"===typeof o&&o(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(i){wd(t,t.return,i)}}else Zi(e,t,r,a);break;case 23:break;case 22:s=t.stateNode,l=t.alternate,null!==t.memoizedState?2&s._visibility?Zi(e,t,r,a):rc(e,t):2&s._visibility?Zi(e,t,r,a):(s._visibility|=2,tc(e,t,r,a,0!==(10256&t.subtreeFlags)||!1)),2048&n&&Xi(l,t);break;case 24:Zi(e,t,r,a),2048&n&&Yi(t.alternate,t)}}function tc(e,t,r,a,n){for(n=n&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,l=t,o=r,i=a,c=l.flags;switch(l.tag){case 0:case 11:case 15:tc(s,l,o,i,n),fi(8,l);break;case 23:break;case 22:var d=l.stateNode;null!==l.memoizedState?2&d._visibility?tc(s,l,o,i,n):rc(s,l):(d._visibility|=2,tc(s,l,o,i,n)),n&&2048&c&&Xi(l.alternate,l);break;case 24:tc(s,l,o,i,n),n&&2048&c&&Yi(l.alternate,l);break;default:tc(s,l,o,i,n)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,a=t,n=a.flags;switch(a.tag){case 22:rc(r,a),2048&n&&Xi(a.alternate,a);break;case 24:rc(r,a),2048&n&&Yi(a.alternate,a);break;default:rc(r,a)}t=t.sibling}}var ac=8192;function nc(e,t,r){if(e.subtreeFlags&ac)for(e=e.child;null!==e;)sc(e,t,r),e=e.sibling}function sc(e,t,r){switch(e.tag){case 26:nc(e,t,r),e.flags&ac&&null!==e.memoizedState&&function(e,t,r,a){if("stylesheet"===r.type&&("string"!==typeof a.media||!1!==matchMedia(a.media).matches)&&0===(4&r.state.loading)){if(null===r.instance){var n=Ku(a.href),s=t.querySelector(Gu(n));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=lm.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=s,void et(s);s=t.ownerDocument||t,a=$u(a),(n=Iu.get(n))&&Zu(a,n),et(s=s.createElement("link"));var l=s;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),mu(s,"link",a),r.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&0===(3&r.state.loading)&&(e.count++,r=lm.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}(r,Vi,e.memoizedState,e.memoizedProps);break;case 5:default:nc(e,t,r);break;case 3:case 4:var a=Vi;Vi=Wu(e.stateNode.containerInfo),nc(e,t,r),Vi=a;break;case 22:null===e.memoizedState&&(null!==(a=e.alternate)&&null!==a.memoizedState?(a=ac,ac=16777216,nc(e,t,r),ac=a):nc(e,t,r))}}function lc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function oc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var a=t[r];Oi=a,dc(a,e)}lc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)ic(e),e=e.sibling}function ic(e){switch(e.tag){case 0:case 11:case 15:oc(e),2048&e.flags&&gi(9,e,e.return);break;case 3:case 12:default:oc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):oc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var a=t[r];Oi=a,dc(a,e)}lc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:gi(8,t,t.return),cc(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function dc(e,t){for(;null!==Oi;){var r=Oi;switch(r.tag){case 0:case 11:case 15:gi(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var a=r.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Bn(r.memoizedState.cache)}if(null!==(a=r.child))a.return=r,Oi=a;else e:for(r=e;null!==Oi;){var n=(a=Oi).sibling,s=a.return;if(Pi(a),a===r){Oi=null;break e}if(null!==n){n.return=s,Oi=n;break e}Oi=s}}}var uc={getCacheForType:function(e){var t=Tn(Fn),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Tn(Fn).controller.signal}},mc="function"===typeof WeakMap?WeakMap:Map,pc=0,xc=null,hc=null,fc=0,gc=0,bc=null,vc=!1,yc=!1,jc=!1,Nc=0,wc=0,kc=0,Sc=0,Cc=0,Ec=0,_c=0,Ac=null,Lc=null,Rc=!1,Tc=0,Oc=0,zc=1/0,Pc=null,Dc=null,Mc=0,Fc=null,Ic=null,Bc=0,Wc=0,Uc=null,Hc=null,Vc=0,qc=null;function Kc(){return 0!==(2&pc)&&0!==fc?fc&-fc:null!==z.T?Ud():Fe()}function Gc(){if(0===Ec)if(0===(536870912&fc)||un){var e=ke;0===(3932160&(ke<<=1))&&(ke=262144),Ec=e}else Ec=536870912;return null!==(e=Ts.current)&&(e.flags|=32),Ec}function $c(e,t,r){(e!==xc||2!==gc&&9!==gc)&&null===e.cancelPendingCommit||(td(e,0),Yc(e,fc,Ec,!1)),Te(e,r),0!==(2&pc)&&e===xc||(e===xc&&(0===(2&pc)&&(Sc|=r),4===wc&&Yc(e,fc,Ec,!1)),Pd(e))}function Jc(e,t,r){if(0!==(6&pc))throw Error(l(327));for(var a=!r&&0===(127&t)&&0===(t&e.expiredLanes)||_e(e,t),n=a?function(e,t){var r=pc;pc|=2;var a=nd(),n=sd();xc!==e||fc!==t?(Pc=null,zc=ie()+500,td(e,t)):yc=_e(e,t);e:for(;;)try{if(0!==gc&&null!==hc){t=hc;var s=bc;t:switch(gc){case 1:gc=0,bc=null,md(e,t,s,1);break;case 2:case 9:if(ts(s)){gc=0,bc=null,ud(t);break}t=function(){2!==gc&&9!==gc||xc!==e||(gc=7),Pd(e)},s.then(t,t);break e;case 3:gc=7;break e;case 4:gc=5;break e;case 7:ts(s)?(gc=0,bc=null,ud(t)):(gc=0,bc=null,md(e,t,s,7));break;case 5:var o=null;switch(hc.tag){case 26:o=hc.memoizedState;case 5:case 27:var i=hc;if(o?nm(o):i.stateNode.complete){gc=0,bc=null;var c=i.sibling;if(null!==c)hc=c;else{var d=i.return;null!==d?(hc=d,pd(d)):hc=null}break t}}gc=0,bc=null,md(e,t,s,5);break;case 6:gc=0,bc=null,md(e,t,s,6);break;case 8:ed(),wc=6;break e;default:throw Error(l(462))}}cd();break}catch(u){rd(e,u)}return kn=wn=null,z.H=a,z.A=n,pc=r,null!==hc?0:(xc=null,fc=0,Aa(),wc)}(e,t):od(e,t,!0),s=a;;){if(0===n){yc&&!a&&Yc(e,t,0,!1);break}if(r=e.current.alternate,!s||Xc(r)){if(2===n){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var i=e;n=Ac;var c=i.current.memoizedState.isDehydrated;if(c&&(td(i,o).flags|=256),2!==(o=od(i,o,!1))){if(jc&&!c){i.errorRecoveryDisabledLanes|=s,Sc|=s,n=4;break e}s=Lc,Lc=n,null!==s&&(null===Lc?Lc=s:Lc.push.apply(Lc,s))}n=o}if(s=!1,2!==n)continue}}if(1===n){td(e,0),Yc(e,t,0,!0);break}e:{switch(a=e,s=n){case 0:case 1:throw Error(l(345));case 4:if((4194048&t)!==t)break;case 6:Yc(a,t,Ec,!vc);break e;case 2:Lc=null;break;case 3:case 5:break;default:throw Error(l(329))}if((62914560&t)===t&&10<(n=Tc+300-ie())){if(Yc(a,t,Ec,!vc),0!==Ee(a,0,!0))break e;Bc=t,a.timeoutHandle=ju(Qc.bind(null,a,r,Lc,Pc,Rc,t,Ec,Sc,_c,vc,s,"Throttled",-0,0),n)}else Qc(a,r,Lc,Pc,Rc,t,Ec,Sc,_c,vc,s,null,-0,0)}break}n=od(e,t,!1),s=!1}Pd(e)}function Qc(e,t,r,a,n,s,l,o,i,c,d,u,m,p){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||16785408===(16785408&u)){sc(t,s,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tt});var x=(62914560&s)===s?Tc-ie():(4194048&s)===s?Oc-ie():0;if(x=function(e,t){return e.stylesheets&&0===e.count&&im(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var a=setTimeout(function(){if(e.stylesheets&&im(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sm&&(sm=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,r=performance.getEntriesByType("resource"),a=0;a<r.length;a++){var n=r[a],s=n.transferSize,l=n.initiatorType,o=n.duration;if(s&&o&&pu(l)){for(l=0,o=n.responseEnd,a+=1;a<r.length;a++){var i=r[a],c=i.startTime;if(c>o)break;var d=i.transferSize,u=i.initiatorType;d&&pu(u)&&(l+=d*((i=i.responseEnd)<o?1:(o-c)/(i-c)))}if(--a,t+=8*(s+l)/(n.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var n=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&im(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sm?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(n)}}:null}(u,x),null!==x)return Bc=s,e.cancelPendingCommit=x(hd.bind(null,e,t,s,r,a,n,l,o,i,d,u,null,m,p)),void Yc(e,s,l,!c)}hd(e,t,s,r,a,n,l,o,i)}function Xc(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var a=0;a<r.length;a++){var n=r[a],s=n.getSnapshot;n=n.value;try{if(!Xr(s(),n))return!1}catch(l){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yc(e,t,r,a){t&=~Cc,t&=~Sc,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var s=31-ye(n),l=1<<s;a[s]=-1,n&=~l}0!==r&&Oe(e,r,t)}function Zc(){return 0!==(6&pc)||(Dd(0,!1),!1)}function ed(){if(null!==hc){if(0===gc)var e=hc.return;else kn=wn=null,ll(e=hc),os=null,is=0,e=hc;for(;null!==e;)hi(e.alternate,e),e=e.return;hc=null}}function td(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,Nu(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),Bc=0,ed(),xc=e,hc=r=Ia(e.current,null),fc=t,gc=0,bc=null,vc=!1,yc=_e(e,t),jc=!1,_c=Ec=Cc=Sc=kc=wc=0,Lc=Ac=null,Rc=!1,0!==(8&t)&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var n=31-ye(a),s=1<<n;t|=e[n],a&=~s}return Nc=t,Aa(),r}function rd(e,t){Us=null,z.H=ho,t===Xn||t===Zn?(t=ss(),gc=3):t===Yn?(t=ss(),gc=4):gc=t===To?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===hc&&(wc=1,Eo(e,Ga(t,e.current)))}function ad(){var e=Ts.current;return null===e||((4194048&fc)===fc?null===Os:((62914560&fc)===fc||0!==(536870912&fc))&&e===Os)}function nd(){var e=z.H;return z.H=ho,null===e?ho:e}function sd(){var e=z.A;return z.A=uc,e}function ld(){wc=4,vc||(4194048&fc)!==fc&&null!==Ts.current||(yc=!0),0===(134217727&kc)&&0===(134217727&Sc)||null===xc||Yc(xc,fc,Ec,!1)}function od(e,t,r){var a=pc;pc|=2;var n=nd(),s=sd();xc===e&&fc===t||(Pc=null,td(e,t)),t=!1;var l=wc;e:for(;;)try{if(0!==gc&&null!==hc){var o=hc,i=bc;switch(gc){case 8:ed(),l=6;break e;case 3:case 2:case 9:case 6:null===Ts.current&&(t=!0);var c=gc;if(gc=0,bc=null,md(e,o,i,c),r&&yc){l=0;break e}break;default:c=gc,gc=0,bc=null,md(e,o,i,c)}}id(),l=wc;break}catch(d){rd(e,d)}return t&&e.shellSuspendCounter++,kn=wn=null,pc=a,z.H=n,z.A=s,null===hc&&(xc=null,fc=0,Aa()),l}function id(){for(;null!==hc;)dd(hc)}function cd(){for(;null!==hc&&!le();)dd(hc)}function dd(e){var t=li(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?pd(e):hc=t}function ud(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=qo(r,t,t.pendingProps,t.type,void 0,fc);break;case 11:t=qo(r,t,t.pendingProps,t.type.render,t.ref,fc);break;case 5:ll(t);default:hi(r,t),t=li(r,t=hc=Ba(t,Nc),Nc)}e.memoizedProps=e.pendingProps,null===t?pd(e):hc=t}function md(e,t,r,a){kn=wn=null,ll(t),os=null,is=0;var n=t.return;try{if(function(e,t,r,a,n){if(r.flags|=32768,null!==a&&"object"===typeof a&&"function"===typeof a.then){if(null!==(t=r.alternate)&&An(t,r,n,!0),null!==(r=Ts.current)){switch(r.tag){case 31:case 13:return null===Os?ld():null===r.alternate&&0===wc&&(wc=3),r.flags&=-257,r.flags|=65536,r.lanes=n,a===es?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([a]):t.add(a),kd(e,a,n)),!1;case 22:return r.flags|=65536,a===es?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([a]):r.add(a),kd(e,a,n)),!1}throw Error(l(435,r.tag))}return kd(e,a,n),ld(),!1}if(un)return null!==(t=Ts.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==xn&&jn(Ga(e=Error(l(422),{cause:a}),r))):(a!==xn&&jn(Ga(t=Error(l(423),{cause:a}),r)),(e=e.current.alternate).flags|=65536,n&=-n,e.lanes|=n,a=Ga(a,r),js(e,n=Ao(e.stateNode,a,n)),4!==wc&&(wc=2)),!1;var s=Error(l(520),{cause:a});if(s=Ga(s,r),null===Ac?Ac=[s]:Ac.push(s),4!==wc&&(wc=2),null===t)return!0;a=Ga(a,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=n&-n,r.lanes|=e,js(r,e=Ao(r.stateNode,a,e)),!1;case 1:if(t=r.type,s=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Dc||!Dc.has(s))))return r.flags|=65536,n&=-n,r.lanes|=n,Ro(n=Lo(n),e,r,a),js(r,n),!1}r=r.return}while(null!==r);return!1}(e,n,t,r,fc))return wc=1,Eo(e,Ga(r,e.current)),void(hc=null)}catch(s){if(null!==n)throw hc=n,s;return wc=1,Eo(e,Ga(r,e.current)),void(hc=null)}32768&t.flags?(un||1===a?e=!0:yc||0!==(536870912&fc)?e=!1:(vc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=Ts.current)&&13===a.tag&&(a.flags|=16384))),xd(t,e)):pd(t)}function pd(e){var t=e;do{if(0!==(32768&t.flags))return void xd(t,vc);e=t.return;var r=pi(t.alternate,t,Nc);if(null!==r)return void(hc=r);if(null!==(t=t.sibling))return void(hc=t);hc=t=e}while(null!==t);0===wc&&(wc=5)}function xd(e,t){do{var r=xi(e.alternate,e);if(null!==r)return r.flags&=32767,void(hc=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(hc=e);hc=e=r}while(null!==e);wc=6,hc=null}function hd(e,t,r,a,n,s,o,i,c){e.cancelPendingCommit=null;do{yd()}while(0!==Mc);if(0!==(6&pc))throw Error(l(327));if(null!==t){if(t===e.current)throw Error(l(177));if(s=t.lanes|t.childLanes,function(e,t,r,a,n,s){var l=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,i=e.expirationTimes,c=e.hiddenUpdates;for(r=l&~r;0<r;){var d=31-ye(r),u=1<<d;o[d]=0,i[d]=-1;var m=c[d];if(null!==m)for(c[d]=null,d=0;d<m.length;d++){var p=m[d];null!==p&&(p.lane&=-536870913)}r&=~u}0!==a&&Oe(e,a,0),0!==s&&0===n&&0!==e.tag&&(e.suspendedLanes|=s&~(l&~t))}(e,r,s|=_a,o,i,c),e===xc&&(hc=xc=null,fc=0),Ic=t,Fc=e,Bc=r,Wc=s,Uc=n,Hc=a,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ne(me,function(){return jd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||a){a=z.T,z.T=null,n=P.p,P.p=2,o=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,xu=vm,aa(e=ra(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(a&&0!==a.rangeCount){r=a.anchorNode;var n=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{r.nodeType,s.nodeType}catch(f){r=null;break e}var o=0,i=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var x;m!==r||0!==n&&3!==m.nodeType||(i=o+n),m!==s||0!==a&&3!==m.nodeType||(c=o+a),3===m.nodeType&&(o+=m.nodeValue.length),null!==(x=m.firstChild);)p=m,m=x;for(;;){if(m===e)break t;if(p===r&&++d===n&&(i=o),p===s&&++u===a&&(c=o),null!==(x=m.nextSibling))break;p=(m=p).parentNode}m=x}r=-1===i||-1===c?null:{start:i,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(hu={focusedElem:e,selectionRange:r},vm=!1,Oi=t;null!==Oi;)if(e=(t=Oi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Oi=e;else for(;null!==Oi;){switch(s=(t=Oi).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(r=0;r<e.length;r++)(n=e[r]).ref.impl=n.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,r=t,n=s.memoizedProps,s=s.memoizedState,a=r.stateNode;try{var h=wo(r.type,n);e=a.getSnapshotBeforeUpdate(h,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(g){wd(r,r.return,g)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))Au(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Au(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(l(163))}if(null!==(e=t.sibling)){e.return=t.return,Oi=e;break}Oi=t.return}}(e,t)}finally{pc=o,P.p=n,z.T=a}}Mc=1,fd(),gd(),bd()}}function fd(){if(1===Mc){Mc=0;var e=Fc,t=Ic,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=z.T,z.T=null;var a=P.p;P.p=2;var n=pc;pc|=4;try{qi(t,e);var s=hu,l=ra(e.containerInfo),o=s.focusedElem,i=s.selectionRange;if(l!==o&&o&&o.ownerDocument&&ta(o.ownerDocument.documentElement,o)){if(null!==i&&aa(o)){var c=i.start,d=i.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,m=u&&u.defaultView||window;if(m.getSelection){var p=m.getSelection(),x=o.textContent.length,h=Math.min(i.start,x),f=void 0===i.end?h:Math.min(i.end,x);!p.extend&&h>f&&(l=f,f=h,h=l);var g=ea(o,h),b=ea(o,f);if(g&&b&&(1!==p.rangeCount||p.anchorNode!==g.node||p.anchorOffset!==g.offset||p.focusNode!==b.node||p.focusOffset!==b.offset)){var v=u.createRange();v.setStart(g.node,g.offset),p.removeAllRanges(),h>f?(p.addRange(v),p.extend(b.node,b.offset)):(v.setEnd(b.node,b.offset),p.addRange(v))}}}}for(u=[],p=o;p=p.parentNode;)1===p.nodeType&&u.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<u.length;o++){var y=u[o];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}vm=!!xu,hu=xu=null}finally{pc=n,P.p=a,z.T=r}}e.current=t,Mc=2}}function gd(){if(2===Mc){Mc=0;var e=Fc,t=Ic,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=z.T,z.T=null;var a=P.p;P.p=2;var n=pc;pc|=4;try{zi(e,t.alternate,t)}finally{pc=n,P.p=a,z.T=r}}Mc=3}}function bd(){if(4===Mc||3===Mc){Mc=0,oe();var e=Fc,t=Ic,r=Bc,a=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Mc=5:(Mc=0,Ic=Fc=null,vd(e,e.pendingLanes));var n=e.pendingLanes;if(0===n&&(Dc=null),Me(r),t=t.stateNode,be&&"function"===typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(ge,t,void 0,128===(128&t.current.flags))}catch(i){}if(null!==a){t=z.T,n=P.p,P.p=2,z.T=null;try{for(var s=e.onRecoverableError,l=0;l<a.length;l++){var o=a[l];s(o.value,{componentStack:o.stack})}}finally{z.T=t,P.p=n}}0!==(3&Bc)&&yd(),Pd(e),n=e.pendingLanes,0!==(261930&r)&&0!==(42&n)?e===qc?Vc++:(Vc=0,qc=e):Vc=0,Dd(0,!1)}}function vd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bn(t)))}function yd(){return fd(),gd(),bd(),jd()}function jd(){if(5!==Mc)return!1;var e=Fc,t=Wc;Wc=0;var r=Me(Bc),a=z.T,n=P.p;try{P.p=32>r?32:r,z.T=null,r=Uc,Uc=null;var s=Fc,o=Bc;if(Mc=0,Ic=Fc=null,Bc=0,0!==(6&pc))throw Error(l(331));var i=pc;if(pc|=4,ic(s.current),ec(s,s.current,o,r),pc=i,Dd(0,!1),be&&"function"===typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(ge,s)}catch(c){}return!0}finally{P.p=n,z.T=a,vd(e,t)}}function Nd(e,t,r){t=Ga(r,t),null!==(e=vs(e,t=Ao(e.stateNode,t,2),2))&&(Te(e,2),Pd(e))}function wd(e,t,r){if(3===e.tag)Nd(e,e,r);else for(;null!==t;){if(3===t.tag){Nd(t,e,r);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Dc||!Dc.has(a))){e=Ga(r,e),null!==(a=vs(t,r=Lo(2),2))&&(Ro(r,a,t,e),Te(a,2),Pd(a));break}}t=t.return}}function kd(e,t,r){var a=e.pingCache;if(null===a){a=e.pingCache=new mc;var n=new Set;a.set(t,n)}else void 0===(n=a.get(t))&&(n=new Set,a.set(t,n));n.has(r)||(jc=!0,n.add(r),e=Sd.bind(null,e,t,r),t.then(e,e))}function Sd(e,t,r){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,xc===e&&(fc&r)===r&&(4===wc||3===wc&&(62914560&fc)===fc&&300>ie()-Tc?0===(2&pc)&&td(e,0):Cc|=r,_c===fc&&(_c=0)),Pd(e)}function Cd(e,t){0===t&&(t=Le()),null!==(e=Ta(e,t))&&(Te(e,t),Pd(e))}function Ed(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Cd(e,r)}function _d(e,t){var r=0;switch(e.tag){case 31:case 13:var a=e.stateNode,n=e.memoizedState;null!==n&&(r=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(l(314))}null!==a&&a.delete(t),Cd(e,r)}var Ad=null,Ld=null,Rd=!1,Td=!1,Od=!1,zd=0;function Pd(e){e!==Ld&&null===e.next&&(null===Ld?Ad=Ld=e:Ld=Ld.next=e),Td=!0,Rd||(Rd=!0,ku(function(){0!==(6&pc)?ne(de,Md):Fd()}))}function Dd(e,t){if(!Od&&Td){Od=!0;do{for(var r=!1,a=Ad;null!==a;){if(!t)if(0!==e){var n=a.pendingLanes;if(0===n)var s=0;else{var l=a.suspendedLanes,o=a.pingedLanes;s=(1<<31-ye(42|e)+1)-1,s=201326741&(s&=n&~(l&~o))?201326741&s|1:s?2|s:0}0!==s&&(r=!0,Wd(a,s))}else s=fc,0===(3&(s=Ee(a,a===xc?s:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||_e(a,s)||(r=!0,Wd(a,s));a=a.next}}while(r);Od=!1}}function Md(){Fd()}function Fd(){Td=Rd=!1;var e=0;0!==zd&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==yu&&(yu=e,!0);return yu=null,!1}()&&(e=zd);for(var t=ie(),r=null,a=Ad;null!==a;){var n=a.next,s=Id(a,t);0===s?(a.next=null,null===r?Ad=n:r.next=n,null===n&&(Ld=r)):(r=a,(0!==e||0!==(3&s))&&(Td=!0)),a=n}0!==Mc&&5!==Mc||Dd(e,!1),0!==zd&&(zd=0)}function Id(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var l=31-ye(s),o=1<<l,i=n[l];-1===i?0!==(o&r)&&0===(o&a)||(n[l]=Ae(o,t)):i<=t&&(e.expiredLanes|=o),s&=~o}if(r=fc,r=Ee(e,e===(t=xc)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===r||e===t&&(2===gc||9===gc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&se(a),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||_e(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==a&&se(a),Me(r)){case 2:case 8:r=ue;break;case 32:default:r=me;break;case 268435456:r=xe}return a=Bd.bind(null,e),r=ne(r,a),e.callbackPriority=t,e.callbackNode=r,t}return null!==a&&null!==a&&se(a),e.callbackPriority=2,e.callbackNode=null,2}function Bd(e,t){if(0!==Mc&&5!==Mc)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(yd()&&e.callbackNode!==r)return null;var a=fc;return 0===(a=Ee(e,e===xc?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Jc(e,a,t),Id(e,ie()),null!=e.callbackNode&&e.callbackNode===r?Bd.bind(null,e):null)}function Wd(e,t){if(yd())return null;Jc(e,t,!0)}function Ud(){if(0===zd){var e=Hn;0===e&&(e=we,0===(261888&(we<<=1))&&(we=256)),zd=e}return zd}function Hd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function Vd(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var qd=0;qd<wa.length;qd++){var Kd=wa[qd];ka(Kd.toLowerCase(),"on"+(Kd[0].toUpperCase()+Kd.slice(1)))}ka(ha,"onAnimationEnd"),ka(fa,"onAnimationIteration"),ka(ga,"onAnimationStart"),ka("dblclick","onDoubleClick"),ka("focusin","onFocus"),ka("focusout","onBlur"),ka(ba,"onTransitionRun"),ka(va,"onTransitionStart"),ka(ya,"onTransitionCancel"),ka(ja,"onTransitionEnd"),nt("onMouseEnter",["mouseout","mouseover"]),nt("onMouseLeave",["mouseout","mouseover"]),nt("onPointerEnter",["pointerout","pointerover"]),nt("onPointerLeave",["pointerout","pointerover"]),at("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),at("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),at("onBeforeInput",["compositionend","keypress","textInput","paste"]),at("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$d=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gd));function Jd(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var l=a.length-1;0<=l;l--){var o=a[l],i=o.instance,c=o.currentTarget;if(o=o.listener,i!==s&&n.isPropagationStopped())break e;s=o,n.currentTarget=c;try{s(n)}catch(d){Sa(d)}n.currentTarget=null,s=i}else for(l=0;l<a.length;l++){if(i=(o=a[l]).instance,c=o.currentTarget,o=o.listener,i!==s&&n.isPropagationStopped())break e;s=o,n.currentTarget=c;try{s(n)}catch(d){Sa(d)}n.currentTarget=null,s=i}}}}function Qd(e,t){var r=t[Ve];void 0===r&&(r=t[Ve]=new Set);var a=e+"__bubble";r.has(a)||(eu(t,e,2,!1),r.add(a))}function Xd(e,t,r){var a=0;t&&(a|=4),eu(r,e,a,t)}var Yd="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[Yd]){e[Yd]=!0,tt.forEach(function(t){"selectionchange"!==t&&($d.has(t)||Xd(t,!1,e),Xd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Yd]||(t[Yd]=!0,Xd("selectionchange",!1,t))}}function eu(e,t,r,a){switch(Cm(t)){case 2:var n=ym;break;case 8:n=jm;break;default:n=Nm}r=n.bind(null,t,r,e),n=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),a?void 0!==n?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):void 0!==n?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function tu(e,t,r,a,n){var s=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var l=a.tag;if(3===l||4===l){var o=a.stateNode.containerInfo;if(o===n)break;if(4===l)for(l=a.return;null!==l;){var c=l.tag;if((3===c||4===c)&&l.stateNode.containerInfo===n)return;l=l.return}for(;null!==o;){if(null===(l=Qe(o)))return;if(5===(c=l.tag)||6===c||26===c||27===c){a=s=l;continue e}o=o.parentNode}}a=a.return}It(function(){var a=s,n=zt(r),l=[];e:{var o=Na.get(e);if(void 0!==o){var c=rr,d=e;switch(e){case"keypress":if(0===$t(r))break e;case"keydown":case"keyup":c=gr;break;case"focusin":d="focus",c=ir;break;case"focusout":d="blur",c=ir;break;case"beforeblur":case"afterblur":c=ir;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=or;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vr;break;case ha:case fa:case ga:c=cr;break;case ja:c=yr;break;case"scroll":case"scrollend":c=nr;break;case"wheel":c=jr;break;case"copy":case"cut":case"paste":c=dr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=br;break;case"toggle":case"beforetoggle":c=Nr}var u=0!==(4&t),m=!u&&("scroll"===e||"scrollend"===e),p=u?null!==o?o+"Capture":null:o;u=[];for(var x,h=a;null!==h;){var f=h;if(x=f.stateNode,5!==(f=f.tag)&&26!==f&&27!==f||null===x||null===p||null!=(f=Bt(h,p))&&u.push(ru(h,f,x)),m)break;h=h.return}0<u.length&&(o=new c(o,d,null,r,n),l.push({event:o,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===Ot||!(d=r.relatedTarget||r.fromElement)||!Qe(d)&&!d[He])&&(c||o)&&(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=a,null!==(d=(d=r.relatedTarget||r.toElement)?Qe(d):null)&&(m=i(d),u=d.tag,d!==m||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=a),c!==d)){if(u=lr,f="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=br,f="onPointerLeave",p="onPointerEnter",h="pointer"),m=null==c?o:Ye(c),x=null==d?o:Ye(d),(o=new u(f,h+"leave",c,r,n)).target=m,o.relatedTarget=x,f=null,Qe(n)===a&&((u=new u(p,h+"enter",d,r,n)).target=x,u.relatedTarget=m,f=u),m=f,c&&d)e:{for(u=nu,h=d,x=0,f=p=c;f;f=u(f))x++;f=0;for(var g=h;g;g=u(g))f++;for(;0<x-f;)p=u(p),x--;for(;0<f-x;)h=u(h),f--;for(;x--;){if(p===h||null!==h&&p===h.alternate){u=p;break e}p=u(p),h=u(h)}u=null}else u=null;null!==c&&su(l,o,c,u,!1),null!==d&&null!==m&&su(l,m,d,u,!0)}if("select"===(c=(o=a?Ye(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var b=Br;else if(zr(o))if(Wr)b=Qr;else{b=$r;var v=Gr}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?a&&_t(a.elementType)&&(b=Br):b=Jr;switch(b&&(b=b(e,a))?Pr(l,b,r,n):(v&&v(e,o,a),"focusout"===e&&a&&"number"===o.type&&null!=a.memoizedProps.value&&yt(o,"number",o.value)),v=a?Ye(a):window,e){case"focusin":(zr(v)||"true"===v.contentEditable)&&(sa=v,la=a,oa=null);break;case"focusout":oa=la=sa=null;break;case"mousedown":ia=!0;break;case"contextmenu":case"mouseup":case"dragend":ia=!1,ca(l,r,n);break;case"selectionchange":if(na)break;case"keydown":case"keyup":ca(l,r,n)}var y;if(kr)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Tr?Lr(e,r)&&(j="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(j="onCompositionStart");j&&(Er&&"ko"!==r.locale&&(Tr||"onCompositionStart"!==j?"onCompositionEnd"===j&&Tr&&(y=Gt()):(qt="value"in(Vt=n)?Vt.value:Vt.textContent,Tr=!0)),0<(v=au(a,j)).length&&(j=new ur(j,e,null,r,n),l.push({event:j,listeners:v}),y?j.data=y:null!==(y=Rr(r))&&(j.data=y))),(y=Cr?function(e,t){switch(e){case"compositionend":return Rr(t);case"keypress":return 32!==t.which?null:(Ar=!0,_r);case"textInput":return(e=t.data)===_r&&Ar?null:e;default:return null}}(e,r):function(e,t){if(Tr)return"compositionend"===e||!kr&&Lr(e,t)?(e=Gt(),Kt=qt=Vt=null,Tr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Er&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(j=au(a,"onBeforeInput")).length&&(v=new ur("onBeforeInput","beforeinput",null,r,n),l.push({event:v,listeners:j}),v.data=y)),function(e,t,r,a,n){if("submit"===t&&r&&r.stateNode===n){var s=Hd((n[Ue]||null).action),l=a.submitter;l&&null!==(t=(t=l[Ue]||null)?Hd(t.formAction):l.getAttribute("formAction"))&&(s=t,l=null);var o=new rr("action","action",null,a,n);e.push({event:o,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==zd){var e=l?Vd(n,l):new FormData(n);eo(r,{pending:!0,data:e,method:n.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=l?Vd(n,l):new FormData(n),eo(r,{pending:!0,data:e,method:n.method,action:s},s,e))},currentTarget:n}]})}}(l,e,a,r,n)}Jd(l,t)})}function ru(e,t,r){return{instance:e,listener:t,currentTarget:r}}function au(e,t){for(var r=t+"Capture",a=[];null!==e;){var n=e,s=n.stateNode;if(5!==(n=n.tag)&&26!==n&&27!==n||null===s||(null!=(n=Bt(e,r))&&a.unshift(ru(e,n,s)),null!=(n=Bt(e,t))&&a.push(ru(e,n,s))),3===e.tag)return a;e=e.return}return[]}function nu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function su(e,t,r,a,n){for(var s=t._reactName,l=[];null!==r&&r!==a;){var o=r,i=o.alternate,c=o.stateNode;if(o=o.tag,null!==i&&i===a)break;5!==o&&26!==o&&27!==o||null===c||(i=c,n?null!=(c=Bt(r,s))&&l.unshift(ru(r,c,i)):n||null!=(c=Bt(r,s))&&l.push(ru(r,c,i))),r=r.return}0!==l.length&&e.push({event:t,listeners:l})}var lu=/\r\n?/g,ou=/\u0000|\uFFFD/g;function iu(e){return("string"===typeof e?e:""+e).replace(lu,"\n").replace(ou,"")}function cu(e,t){return t=iu(t),iu(e)===t}function du(e,t,r,a,n,s){switch(r){case"children":"string"===typeof a?"body"===t||"textarea"===t&&""===a||kt(e,a):("number"===typeof a||"bigint"===typeof a)&&"body"!==t&&kt(e,""+a);break;case"className":ct(e,"class",a);break;case"tabIndex":ct(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,r,a);break;case"style":Et(e,a,s);break;case"data":if("object"!==t){ct(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==a||"function"===typeof a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(r);break}a=Rt(""+a),e.setAttribute(r,a);break;case"action":case"formAction":if("function"===typeof a){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===r?("input"!==t&&du(e,t,"name",n.name,n,null),du(e,t,"formEncType",n.formEncType,n,null),du(e,t,"formMethod",n.formMethod,n,null),du(e,t,"formTarget",n.formTarget,n,null)):(du(e,t,"encType",n.encType,n,null),du(e,t,"method",n.method,n,null),du(e,t,"target",n.target,n,null))),null==a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(r);break}a=Rt(""+a),e.setAttribute(r,a);break;case"onClick":null!=a&&(e.onclick=Tt);break;case"onScroll":null!=a&&Qd("scroll",e);break;case"onScrollEnd":null!=a&&Qd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(l(61));if(null!=(r=a.__html)){if(null!=n.children)throw Error(l(60));e.innerHTML=r}}break;case"multiple":e.multiple=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"muted":e.muted=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"===typeof a||"boolean"===typeof a||"symbol"===typeof a){e.removeAttribute("xlink:href");break}r=Rt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(r,""+a):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===a?e.setAttribute(r,""):!1!==a&&null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(r,a):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&!isNaN(a)&&1<=a?e.setAttribute(r,a):e.removeAttribute(r);break;case"rowSpan":case"start":null==a||"function"===typeof a||"symbol"===typeof a||isNaN(a)?e.removeAttribute(r):e.setAttribute(r,a);break;case"popover":Qd("beforetoggle",e),Qd("toggle",e),it(e,"popover",a);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":it(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&it(e,r=At.get(r)||r,a)}}function uu(e,t,r,a,n,s){switch(r){case"style":Et(e,a,s);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(l(61));if(null!=(r=a.__html)){if(null!=n.children)throw Error(l(60));e.innerHTML=r}}break;case"children":"string"===typeof a?kt(e,a):("number"===typeof a||"bigint"===typeof a)&&kt(e,""+a);break;case"onScroll":null!=a&&Qd("scroll",e);break;case"onScrollEnd":null!=a&&Qd("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Tt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:rt.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(n=r.endsWith("Capture"),t=r.slice(2,n?r.length-7:void 0),"function"===typeof(s=null!=(s=e[Ue]||null)?s[r]:null)&&e.removeEventListener(t,s,n),"function"!==typeof a)?r in e?e[r]=a:!0===a?e.setAttribute(r,""):it(e,r,a):("function"!==typeof s&&null!==s&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,a,n)))}}function mu(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qd("error",e),Qd("load",e);var a,n=!1,s=!1;for(a in r)if(r.hasOwnProperty(a)){var o=r[a];if(null!=o)switch(a){case"src":n=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:du(e,t,a,o,r,null)}}return s&&du(e,t,"srcSet",r.srcSet,r,null),void(n&&du(e,t,"src",r.src,r,null));case"input":Qd("invalid",e);var i=a=o=s=null,c=null,d=null;for(n in r)if(r.hasOwnProperty(n)){var u=r[n];if(null!=u)switch(n){case"name":s=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":a=u;break;case"defaultValue":i=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(l(137,t));break;default:du(e,t,n,u,r,null)}}return void vt(e,a,i,c,d,o,s,!1);case"select":for(s in Qd("invalid",e),n=o=a=null,r)if(r.hasOwnProperty(s)&&null!=(i=r[s]))switch(s){case"value":a=i;break;case"defaultValue":o=i;break;case"multiple":n=i;default:du(e,t,s,i,r,null)}return t=a,r=o,e.multiple=!!n,void(null!=t?jt(e,!!n,t,!1):null!=r&&jt(e,!!n,r,!0));case"textarea":for(o in Qd("invalid",e),a=s=n=null,r)if(r.hasOwnProperty(o)&&null!=(i=r[o]))switch(o){case"value":n=i;break;case"defaultValue":s=i;break;case"children":a=i;break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(l(91));break;default:du(e,t,o,i,r,null)}return void wt(e,n,s,a);case"option":for(c in r)if(r.hasOwnProperty(c)&&null!=(n=r[c]))if("selected"===c)e.selected=n&&"function"!==typeof n&&"symbol"!==typeof n;else du(e,t,c,n,r,null);return;case"dialog":Qd("beforetoggle",e),Qd("toggle",e),Qd("cancel",e),Qd("close",e);break;case"iframe":case"object":Qd("load",e);break;case"video":case"audio":for(n=0;n<Gd.length;n++)Qd(Gd[n],e);break;case"image":Qd("error",e),Qd("load",e);break;case"details":Qd("toggle",e);break;case"embed":case"source":case"link":Qd("error",e),Qd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in r)if(r.hasOwnProperty(d)&&null!=(n=r[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:du(e,t,d,n,r,null)}return;default:if(_t(t)){for(u in r)r.hasOwnProperty(u)&&(void 0!==(n=r[u])&&uu(e,t,u,n,r,void 0));return}}for(i in r)r.hasOwnProperty(i)&&(null!=(n=r[i])&&du(e,t,i,n,r,null))}function pu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var xu=null,hu=null;function fu(e){return 9===e.nodeType?e:e.ownerDocument}function gu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function vu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yu=null;var ju="function"===typeof setTimeout?setTimeout:void 0,Nu="function"===typeof clearTimeout?clearTimeout:void 0,wu="function"===typeof Promise?Promise:void 0,ku="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof wu?function(e){return wu.resolve(null).then(e).catch(Su)}:ju;function Su(e){setTimeout(function(){throw e})}function Cu(e){return"head"===e}function Eu(e,t){var r=t,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&8===n.nodeType)if("/$"===(r=n.data)||"/&"===r){if(0===a)return e.removeChild(n),void Vm(t);a--}else if("$"===r||"$?"===r||"$~"===r||"$!"===r||"&"===r)a++;else if("html"===r)Fu(e.ownerDocument.documentElement);else if("head"===r){Fu(r=e.ownerDocument.head);for(var s=r.firstChild;s;){var l=s.nextSibling,o=s.nodeName;s[$e]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||r.removeChild(s),s=l}}else"body"===r&&Fu(e.ownerDocument.body);r=n}while(r);Vm(t)}function _u(e,t){var r=e;e=0;do{var a=r.nextSibling;if(1===r.nodeType?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",""===r.getAttribute("style")&&r.removeAttribute("style")):3===r.nodeType&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===e)break;e--}else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||e++;r=a}while(r)}function Au(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Au(r),Je(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function Lu(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Ou(e.nextSibling)))return null}return e}function Ru(e){return"$?"===e.data||"$~"===e.data}function Tu(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Ou(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var zu=null;function Pu(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r||"/&"===r){if(0===t)return Ou(e.nextSibling);t--}else"$"!==r&&"$!"!==r&&"$?"!==r&&"$~"!==r&&"&"!==r||t++}e=e.nextSibling}return null}function Du(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r||"$~"===r||"&"===r){if(0===t)return e;t--}else"/$"!==r&&"/&"!==r||t++}e=e.previousSibling}return null}function Mu(e,t,r){switch(t=fu(r),e){case"html":if(!(e=t.documentElement))throw Error(l(452));return e;case"head":if(!(e=t.head))throw Error(l(453));return e;case"body":if(!(e=t.body))throw Error(l(454));return e;default:throw Error(l(451))}}function Fu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Je(e)}var Iu=new Map,Bu=new Set;function Wu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Uu=P.d;P.d={f:function(){var e=Uu.f(),t=Zc();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?ro(t):Uu.r(e)},D:function(e){Uu.D(e),Vu("dns-prefetch",e,null)},C:function(e,t){Uu.C(e,t),Vu("preconnect",e,t)},L:function(e,t,r){Uu.L(e,t,r);var a=Hu;if(a&&e&&t){var n='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(n+='[imagesrcset="'+gt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(n+='[imagesizes="'+gt(r.imageSizes)+'"]')):n+='[href="'+gt(e)+'"]';var s=n;switch(t){case"style":s=Ku(e);break;case"script":s=Ju(e)}Iu.has(s)||(e=p({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),Iu.set(s,e),null!==a.querySelector(n)||"style"===t&&a.querySelector(Gu(s))||"script"===t&&a.querySelector(Qu(s))||(mu(t=a.createElement("link"),"link",e),et(t),a.head.appendChild(t)))}},m:function(e,t){Uu.m(e,t);var r=Hu;if(r&&e){var a=t&&"string"===typeof t.as?t.as:"script",n='link[rel="modulepreload"][as="'+gt(a)+'"][href="'+gt(e)+'"]',s=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Ju(e)}if(!Iu.has(s)&&(e=p({rel:"modulepreload",href:e},t),Iu.set(s,e),null===r.querySelector(n))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Qu(s)))return}mu(a=r.createElement("link"),"link",e),et(a),r.head.appendChild(a)}}},X:function(e,t){Uu.X(e,t);var r=Hu;if(r&&e){var a=Ze(r).hoistableScripts,n=Ju(e),s=a.get(n);s||((s=r.querySelector(Qu(n)))||(e=p({src:e,async:!0},t),(t=Iu.get(n))&&em(e,t),et(s=r.createElement("script")),mu(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(n,s))}},S:function(e,t,r){Uu.S(e,t,r);var a=Hu;if(a&&e){var n=Ze(a).hoistableStyles,s=Ku(e);t=t||"default";var l=n.get(s);if(!l){var o={loading:0,preload:null};if(l=a.querySelector(Gu(s)))o.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Iu.get(s))&&Zu(e,r);var i=l=a.createElement("link");et(i),mu(i,"link",e),i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),i.addEventListener("load",function(){o.loading|=1}),i.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Yu(l,t,a)}l={type:"stylesheet",instance:l,count:1,state:o},n.set(s,l)}}},M:function(e,t){Uu.M(e,t);var r=Hu;if(r&&e){var a=Ze(r).hoistableScripts,n=Ju(e),s=a.get(n);s||((s=r.querySelector(Qu(n)))||(e=p({src:e,async:!0,type:"module"},t),(t=Iu.get(n))&&em(e,t),et(s=r.createElement("script")),mu(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(n,s))}}};var Hu="undefined"===typeof document?null:document;function Vu(e,t,r){var a=Hu;if(a&&"string"===typeof t&&t){var n=gt(t);n='link[rel="'+e+'"][href="'+n+'"]',"string"===typeof r&&(n+='[crossorigin="'+r+'"]'),Bu.has(n)||(Bu.add(n),e={rel:e,crossOrigin:r,href:t},null===a.querySelector(n)&&(mu(t=a.createElement("link"),"link",e),et(t),a.head.appendChild(t)))}}function qu(e,t,r,a){var n,s,o,i,c=(c=K.current)?Wu(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=Ku(r.href),(a=(r=Ze(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},r.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=Ku(r.href);var d=Ze(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Gu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Iu.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Iu.set(e,r),d||(n=c,s=e,o=r,i=u.state,n.querySelector('link[rel="preload"][as="style"]['+s+"]")?i.loading=1:(s=n.createElement("link"),i.preload=s,s.addEventListener("load",function(){return i.loading|=1}),s.addEventListener("error",function(){return i.loading|=2}),mu(s,"link",o),et(s),n.head.appendChild(s))))),t&&null===a)throw Error(l(528,""));return u}if(t&&null!==a)throw Error(l(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Ju(r),(a=(r=Ze(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},r.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Ku(e){return'href="'+gt(e)+'"'}function Gu(e){return'link[rel="stylesheet"]['+e+"]"}function $u(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Ju(e){return'[src="'+gt(e)+'"]'}function Qu(e){return"script[async]"+e}function Xu(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+gt(r.href)+'"]');if(a)return t.instance=a,et(a),a;var n=p({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return et(a=(e.ownerDocument||e).createElement("style")),mu(a,"style",n),Yu(a,r.precedence,e),t.instance=a;case"stylesheet":n=Ku(r.href);var s=e.querySelector(Gu(n));if(s)return t.state.loading|=4,t.instance=s,et(s),s;a=$u(r),(n=Iu.get(n))&&Zu(a,n),et(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),mu(s,"link",a),t.state.loading|=4,Yu(s,r.precedence,e),t.instance=s;case"script":return s=Ju(r.src),(n=e.querySelector(Qu(s)))?(t.instance=n,et(n),n):(a=r,(n=Iu.get(s))&&em(a=p({},r),n),et(n=(e=e.ownerDocument||e).createElement("script")),mu(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(l(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,Yu(a,r.precedence,e));return t.instance}function Yu(e,t,r){for(var a=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,s=n,l=0;l<a.length;l++){var o=a[l];if(o.dataset.precedence===t)s=o;else if(s!==n)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Zu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function em(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tm=null;function rm(e,t,r){if(null===tm){var a=new Map,n=tm=new Map;n.set(r,a)}else(a=(n=tm).get(r))||(a=new Map,n.set(r,a));if(a.has(e))return a;for(a.set(e,null),r=r.getElementsByTagName(e),n=0;n<r.length;n++){var s=r[n];if(!(s[$e]||s[We]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var l=s.getAttribute(t)||"";l=e+l;var o=a.get(l);o?o.push(s):a.set(l,[s])}}return a}function am(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function nm(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sm=0;function lm(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)im(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var om=null;function im(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,om=new Map,t.forEach(cm,e),om=null,lm.call(e))}function cm(e,t){if(!(4&t.state.loading)){var r=om.get(e);if(r)var a=r.get(null);else{r=new Map,om.set(e,r);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<n.length;s++){var l=n[s];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(r.set(l.dataset.precedence,l),a=l)}a&&r.set(null,a)}l=(n=t.instance).getAttribute("data-precedence"),(s=r.get(l)||a)===a&&r.set(null,n),r.set(l,n),this.count++,a=lm.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),s?s.parentNode.insertBefore(n,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(n,e.firstChild),t.state.loading|=4}}var dm={$$typeof:j,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function um(e,t,r,a,n,s,l,o,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=s,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function mm(e,t,r,a,n,s,l,o,i,c,d,u){return e=new um(e,t,r,l,i,c,d,u,o),t=1,!0===s&&(t|=24),s=Ma(3,null,null,t),e.current=s,s.stateNode=e,(t=In()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:r,cache:t},fs(s),e}function pm(e){return e?e=Pa:Pa}function xm(e,t,r,a,n,s){n=pm(n),null===a.context?a.context=n:a.pendingContext=n,(a=bs(t)).payload={element:r},null!==(s=void 0===s?null:s)&&(a.callback=s),null!==(r=vs(e,a,t))&&($c(r,0,t),ys(r,e,t))}function hm(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function fm(e,t){hm(e,t),(e=e.alternate)&&hm(e,t)}function gm(e){if(13===e.tag||31===e.tag){var t=Ta(e,67108864);null!==t&&$c(t,0,67108864),fm(e,67108864)}}function bm(e){if(13===e.tag||31===e.tag){var t=Kc(),r=Ta(e,t=De(t));null!==r&&$c(r,0,t),fm(e,t)}}var vm=!0;function ym(e,t,r,a){var n=z.T;z.T=null;var s=P.p;try{P.p=2,Nm(e,t,r,a)}finally{P.p=s,z.T=n}}function jm(e,t,r,a){var n=z.T;z.T=null;var s=P.p;try{P.p=8,Nm(e,t,r,a)}finally{P.p=s,z.T=n}}function Nm(e,t,r,a){if(vm){var n=wm(a);if(null===n)tu(e,t,a,km,r),Pm(e,a);else if(function(e,t,r,a,n){switch(t){case"focusin":return _m=Dm(_m,e,t,r,a,n),!0;case"dragenter":return Am=Dm(Am,e,t,r,a,n),!0;case"mouseover":return Lm=Dm(Lm,e,t,r,a,n),!0;case"pointerover":var s=n.pointerId;return Rm.set(s,Dm(Rm.get(s)||null,e,t,r,a,n)),!0;case"gotpointercapture":return s=n.pointerId,Tm.set(s,Dm(Tm.get(s)||null,e,t,r,a,n)),!0}return!1}(n,e,t,r,a))a.stopPropagation();else if(Pm(e,a),4&t&&-1<zm.indexOf(e)){for(;null!==n;){var s=Xe(n);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var l=Ce(s.pendingLanes);if(0!==l){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;l;){var i=1<<31-ye(l);o.entanglements[1]|=i,l&=~i}Pd(s),0===(6&pc)&&(zc=ie()+500,Dd(0,!1))}}break;case 31:case 13:null!==(o=Ta(s,2))&&$c(o,0,2),Zc(),fm(s,2)}if(null===(s=wm(a))&&tu(e,t,a,km,r),s===n)break;n=s}null!==n&&a.stopPropagation()}else tu(e,t,a,null,r)}}function wm(e){return Sm(e=zt(e))}var km=null;function Sm(e){if(km=null,null!==(e=Qe(e))){var t=i(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=c(t)))return e;e=null}else if(31===r){if(null!==(e=d(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return km=e,null}function Cm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case me:case pe:return 32;case xe:return 268435456;default:return 32}default:return 32}}var Em=!1,_m=null,Am=null,Lm=null,Rm=new Map,Tm=new Map,Om=[],zm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pm(e,t){switch(e){case"focusin":case"focusout":_m=null;break;case"dragenter":case"dragleave":Am=null;break;case"mouseover":case"mouseout":Lm=null;break;case"pointerover":case"pointerout":Rm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tm.delete(t.pointerId)}}function Dm(e,t,r,a,n,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:s,targetContainers:[n]},null!==t&&(null!==(t=Xe(t))&&gm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Mm(e){var t=Qe(e.target);if(null!==t){var r=i(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=c(r)))return e.blockedOn=t,void Ie(e.priority,function(){bm(r)})}else if(31===t){if(null!==(t=d(r)))return e.blockedOn=t,void Ie(e.priority,function(){bm(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Fm(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=wm(e.nativeEvent);if(null!==r)return null!==(t=Xe(r))&&gm(t),e.blockedOn=r,!1;var a=new(r=e.nativeEvent).constructor(r.type,r);Ot=a,r.target.dispatchEvent(a),Ot=null,t.shift()}return!0}function Im(e,t,r){Fm(e)&&r.delete(t)}function Bm(){Em=!1,null!==_m&&Fm(_m)&&(_m=null),null!==Am&&Fm(Am)&&(Am=null),null!==Lm&&Fm(Lm)&&(Lm=null),Rm.forEach(Im),Tm.forEach(Im)}function Wm(e,t){e.blockedOn===t&&(e.blockedOn=null,Em||(Em=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bm)))}var Um=null;function Hm(e){Um!==e&&(Um=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Um===e&&(Um=null);for(var t=0;t<e.length;t+=3){var r=e[t],a=e[t+1],n=e[t+2];if("function"!==typeof a){if(null===Sm(a||r))continue;break}var s=Xe(r);null!==s&&(e.splice(t,3),t-=3,eo(s,{pending:!0,data:n,method:r.method,action:a},a,n))}}))}function Vm(e){function t(t){return Wm(t,e)}null!==_m&&Wm(_m,e),null!==Am&&Wm(Am,e),null!==Lm&&Wm(Lm,e),Rm.forEach(t),Tm.forEach(t);for(var r=0;r<Om.length;r++){var a=Om[r];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Om.length&&null===(r=Om[0]).blockedOn;)Mm(r),null===r.blockedOn&&Om.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<r.length;a+=3){var n=r[a],s=r[a+1],l=n[Ue]||null;if("function"===typeof s)l||Hm(r);else if(l){var o=null;if(s&&s.hasAttribute("formAction")){if(n=s,l=s[Ue]||null)o=l.formAction;else if(null!==Sm(n))continue}else o=l.action;"function"===typeof o?r[a+1]=o:(r.splice(a,3),a-=3),Hm(r)}}}function qm(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return n=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==n&&(n(),n=null),a||setTimeout(r,20)}function r(){if(!a&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var a=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==n&&(n(),n=null)}}}function Km(e){this._internalRoot=e}function Gm(e){this._internalRoot=e}Gm.prototype.render=Km.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));xm(t.current,Kc(),e,t,null,null)},Gm.prototype.unmount=Km.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;xm(e.current,2,null,e,null,null),Zc(),t[He]=null}},Gm.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Om.length&&0!==t&&t<Om[r].priority;r++);Om.splice(r,0,e),0===r&&Mm(e)}};var $m=n.version;if("19.2.0"!==$m)throw Error(l(527,$m,"19.2.0"));P.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(l(188));return t!==e?null:e}for(var r=e,a=t;;){var n=r.return;if(null===n)break;var s=n.alternate;if(null===s){if(null!==(a=n.return)){r=a;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===r)return u(n),e;if(s===a)return u(n),t;s=s.sibling}throw Error(l(188))}if(r.return!==a.return)r=n,a=s;else{for(var o=!1,c=n.child;c;){if(c===r){o=!0,r=n,a=s;break}if(c===a){o=!0,a=n,r=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===r){o=!0,r=s,a=n;break}if(c===a){o=!0,a=s,r=n;break}c=c.sibling}if(!o)throw Error(l(189))}}if(r.alternate!==a)throw Error(l(190))}if(3!==r.tag)throw Error(l(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?m(e):null)?null:e.stateNode};var Jm={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qm.isDisabled&&Qm.supportsFiber)try{ge=Qm.inject(Jm),be=Qm}catch(Ym){}}t.createRoot=function(e,t){if(!o(e))throw Error(l(299));var r=!1,a="",n=ko,s=So,i=Co;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(n=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=mm(e,1,!1,null,0,r,a,null,n,s,i,qm),e[He]=t.current,Zd(e),new Km(t)},t.hydrateRoot=function(e,t,r){if(!o(e))throw Error(l(299));var a=!1,n="",s=ko,i=So,c=Co,d=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(n=r.identifierPrefix),void 0!==r.onUncaughtError&&(s=r.onUncaughtError),void 0!==r.onCaughtError&&(i=r.onCaughtError),void 0!==r.onRecoverableError&&(c=r.onRecoverableError),void 0!==r.formState&&(d=r.formState)),(t=mm(e,1,!0,t,0,a,n,d,s,i,c,qm)).context=pm(null),r=t.current,(n=bs(a=De(a=Kc()))).callback=null,vs(r,n,a),r=a,t.current.lanes=r,Te(t,r),Pd(t),e[He]=t.current,Zd(e),new Gm(t)},t.version="19.2.0"},43:(e,t,r)=>{e.exports=r(288)},288:(e,t)=>{var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),x=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function b(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||h}function v(){}function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||h}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=b.prototype;var j=y.prototype=new v;j.constructor=y,f(j,b.prototype),j.isPureReactComponent=!0;var N=Array.isArray;function w(){}var k={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(e,t,a){var n=a.ref;return{$$typeof:r,type:e,key:t,ref:void 0!==n?n:null,props:a}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var _=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function L(e,t,n,s,l){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var i,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case r:case a:d=!0;break;case m:return L((d=e._init)(e._payload),t,n,s,l)}}if(d)return l=l(e),d=""===s?"."+A(e,0):s,N(l)?(n="",null!=d&&(n=d.replace(_,"$&/")+"/"),L(l,t,n,"",function(e){return e})):null!=l&&(E(l)&&(i=l,c=n+(null==l.key||e&&e.key===l.key?"":(""+l.key).replace(_,"$&/")+"/")+d,l=C(i.type,c,i.props)),t.push(l)),1;d=0;var u,p=""===s?".":s+":";if(N(e))for(var h=0;h<e.length;h++)d+=L(s=e[h],t,n,o=p+A(s,h),l);else if("function"===typeof(h=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=x&&u[x]||u["@@iterator"])?u:null))for(e=h.call(e),h=0;!(s=e.next()).done;)d+=L(s=s.value,t,n,o=p+A(s,h++),l);else if("object"===o){if("function"===typeof e.then)return L(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(w,w):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,n,s,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function R(e,t,r){if(null==e)return e;var a=[],n=0;return L(e,a,"","",function(e){return t.call(r,e,n++)}),a}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},z={map:R,forEach:function(e,t,r){R(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=p,t.Children=z,t.Component=b,t.Fragment=n,t.Profiler=l,t.PureComponent=y,t.StrictMode=s,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var a=f({},e.props),n=e.key;if(null!=t)for(s in void 0!==t.key&&(n=""+t.key),t)!S.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(a[s]=t[s]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var l=Array(s),o=0;o<s;o++)l[o]=arguments[o+2];a.children=l}return C(e.type,n,a)},t.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,r){var a,n={},s=null;if(null!=t)for(a in void 0!==t.key&&(s=""+t.key),t)S.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&(n[a]=t[a]);var l=arguments.length-2;if(1===l)n.children=r;else if(1<l){for(var o=Array(l),i=0;i<l;i++)o[i]=arguments[i+2];n.children=o}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===n[a]&&(n[a]=l[a]);return C(e,s,n)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,r={};k.T=r;try{var a=e(),n=k.S;null!==n&&n(r,a),"object"===typeof a&&null!==a&&"function"===typeof a.then&&a.then(w,O)}catch(s){O(s)}finally{null!==t&&null!==r.types&&(t.types=r.types),k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,r){return k.H.useActionState(e,t,r)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useEffectEvent=function(e){return k.H.useEffectEvent(e)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,r){return k.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return k.H.useReducer(e,t,r)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return k.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return k.H.useTransition()},t.version="19.2.0"},391:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(4)},555:(e,t,r)=>{function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function s(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r.d(t,{A:()=>o})},579:(e,t,r)=>{e.exports=r(799)},672:(e,t,r)=>{var a=r(43);function n(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var i=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(n(299));return function(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==a?null:""+a,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=i.T,r=l.p;try{if(i.T=null,l.p=2,e)return e()}finally{i.T=t,l.p=r,l.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,l.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&l.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,a=c(r,t.crossOrigin),n="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?l.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:n,fetchPriority:s}):"script"===r&&l.d.X(e,{crossOrigin:a,integrity:n,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=c(t.as,t.crossOrigin);l.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&l.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,a=c(r,t.crossOrigin);l.d.L(e,r,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=c(t.as,t.crossOrigin);l.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else l.d.m(e)},t.requestFormReset=function(e){l.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return i.H.useFormState(e,t,r)},t.useFormStatus=function(){return i.H.useHostTransitionStatus()},t.version="19.2.0"},722:(e,t,r)=>{r.d(t,{A:()=>Et});var a={};function n(e,t){return function(){return e.apply(t,arguments)}}r.r(a),r.d(a,{hasBrowserEnv:()=>de,hasStandardBrowserEnv:()=>me,hasStandardBrowserWebWorkerEnv:()=>pe,navigator:()=>ue,origin:()=>xe});const{toString:s}=Object.prototype,{getPrototypeOf:l}=Object,{iterator:o,toStringTag:i}=Symbol,c=(d=Object.create(null),e=>{const t=s.call(e);return d[t]||(d[t]=t.slice(8,-1).toLowerCase())});var d;const u=e=>(e=e.toLowerCase(),t=>c(t)===e),m=e=>t=>typeof t===e,{isArray:p}=Array,x=m("undefined");function h(e){return null!==e&&!x(e)&&null!==e.constructor&&!x(e.constructor)&&b(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const f=u("ArrayBuffer");const g=m("string"),b=m("function"),v=m("number"),y=e=>null!==e&&"object"===typeof e,j=e=>{if("object"!==c(e))return!1;const t=l(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(i in e)&&!(o in e)},N=u("Date"),w=u("File"),k=u("Blob"),S=u("FileList"),C=u("URLSearchParams"),[E,_,A,L]=["ReadableStream","Request","Response","Headers"].map(u);function R(e,t){let r,a,{allOwnKeys:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),p(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(h(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let l;for(r=0;r<s;r++)l=a[r],t.call(null,e[l],l,e)}}function T(e,t){if(h(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a,n=r.length;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const O="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:r.g,z=e=>!x(e)&&e!==O;const P=(D="undefined"!==typeof Uint8Array&&l(Uint8Array),e=>D&&e instanceof D);var D;const M=u("HTMLFormElement"),F=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),I=u("RegExp"),B=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};R(r,(r,n)=>{let s;!1!==(s=t(r,n,e))&&(a[n]=s||r)}),Object.defineProperties(e,a)};const W=u("AsyncFunction"),U=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),a=[],O.addEventListener("message",e=>{let{source:t,data:n}=e;t===O&&n===r&&a.length&&a.shift()()},!1),e=>{a.push(e),O.postMessage(r,"*")}):e=>setTimeout(e);var r,a})("function"===typeof setImmediate,b(O.postMessage)),H="undefined"!==typeof queueMicrotask?queueMicrotask.bind(O):"undefined"!==typeof process&&process.nextTick||U,V={isArray:p,isArrayBuffer:f,isBuffer:h,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||b(e.append)&&("formdata"===(t=c(e))||"object"===t&&b(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&f(e.buffer),t},isString:g,isNumber:v,isBoolean:e=>!0===e||!1===e,isObject:y,isPlainObject:j,isEmptyObject:e=>{if(!y(e)||h(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:E,isRequest:_,isResponse:A,isHeaders:L,isUndefined:x,isDate:N,isFile:w,isBlob:k,isRegExp:I,isFunction:b,isStream:e=>y(e)&&b(e.pipe),isURLSearchParams:C,isTypedArray:P,isFileList:S,forEach:R,merge:function e(){const{caseless:t,skipUndefined:r}=z(this)&&this||{},a={},n=(n,s)=>{const l=t&&T(a,s)||s;j(a[l])&&j(n)?a[l]=e(a[l],n):j(n)?a[l]=e({},n):p(n)?a[l]=n.slice():r&&x(n)||(a[l]=n)};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&R(arguments[s],n);return a},extend:function(e,t,r){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return R(t,(t,a)=>{r&&b(t)?e[a]=n(t,r):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,a)=>{let n,s,o;const i={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),s=n.length;s-- >0;)o=n[s],a&&!a(o,e,t)||i[o]||(t[o]=e[o],i[o]=!0);e=!1!==r&&l(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:c,kindOfTest:u,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return-1!==a&&a===r},toArray:e=>{if(!e)return null;if(p(e))return e;let t=e.length;if(!v(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[o]).call(e);let a;for(;(a=r.next())&&!a.done;){const r=a.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const a=[];for(;null!==(r=e.exec(t));)a.push(r);return a},isHTMLForm:M,hasOwnProperty:F,hasOwnProp:F,reduceDescriptors:B,freezeMethods:e=>{B(e,(t,r)=>{if(b(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const a=e[r];b(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},a=e=>{e.forEach(e=>{r[e]=!0})};return p(e)?a(e):a(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:T,global:O,isContextDefined:z,isSpecCompliantForm:function(e){return!!(e&&b(e.append)&&"FormData"===e[i]&&e[o])},toJSONObject:e=>{const t=new Array(10),r=(e,a)=>{if(y(e)){if(t.indexOf(e)>=0)return;if(h(e))return e;if(!("toJSON"in e)){t[a]=e;const n=p(e)?[]:{};return R(e,(e,t)=>{const s=r(e,a+1);!x(s)&&(n[t]=s)}),t[a]=void 0,n}}return e};return r(e,0)},isAsyncFn:W,isThenable:e=>e&&(y(e)||b(e))&&b(e.then)&&b(e.catch),setImmediate:U,asap:H,isIterable:e=>null!=e&&b(e[o])};function q(e,t,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}V.inherits(q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const K=q.prototype,G={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{G[e]={value:e}}),Object.defineProperties(q,G),Object.defineProperty(K,"isAxiosError",{value:!0}),q.from=(e,t,r,a,n,s)=>{const l=Object.create(K);V.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",i=null==t&&e?e.code:t;return q.call(l,o,i,r,a,n),e&&null==l.cause&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",s&&Object.assign(l,s),l};const $=q;function J(e){return V.isPlainObject(e)||V.isArray(e)}function Q(e){return V.endsWith(e,"[]")?e.slice(0,-2):e}function X(e,t,r){return e?e.concat(t).map(function(e,t){return e=Q(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const Y=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});const Z=function(e,t,r){if(!V.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(r=V.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!V.isUndefined(t[e])})).metaTokens,n=r.visitor||c,s=r.dots,l=r.indexes,o=(r.Blob||"undefined"!==typeof Blob&&Blob)&&V.isSpecCompliantForm(t);if(!V.isFunction(n))throw new TypeError("visitor must be a function");function i(e){if(null===e)return"";if(V.isDate(e))return e.toISOString();if(V.isBoolean(e))return e.toString();if(!o&&V.isBlob(e))throw new $("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(e)||V.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,n){let o=e;if(e&&!n&&"object"===typeof e)if(V.endsWith(r,"{}"))r=a?r:r.slice(0,-2),e=JSON.stringify(e);else if(V.isArray(e)&&function(e){return V.isArray(e)&&!e.some(J)}(e)||(V.isFileList(e)||V.endsWith(r,"[]"))&&(o=V.toArray(e)))return r=Q(r),o.forEach(function(e,a){!V.isUndefined(e)&&null!==e&&t.append(!0===l?X([r],a,s):null===l?r:r+"[]",i(e))}),!1;return!!J(e)||(t.append(X(n,r,s),i(e)),!1)}const d=[],u=Object.assign(Y,{defaultVisitor:c,convertValue:i,isVisitable:J});if(!V.isObject(e))throw new TypeError("data must be an object");return function e(r,a){if(!V.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+a.join("."));d.push(r),V.forEach(r,function(r,s){!0===(!(V.isUndefined(r)||null===r)&&n.call(t,r,V.isString(s)?s.trim():s,a,u))&&e(r,a?a.concat(s):[s])}),d.pop()}}(e),t};function ee(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function te(e,t){this._pairs=[],e&&Z(e,this,t)}const re=te.prototype;re.append=function(e,t){this._pairs.push([e,t])},re.toString=function(e){const t=e?function(t){return e.call(this,t,ee)}:ee;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const ae=te;function ne(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function se(e,t,r){if(!t)return e;const a=r&&r.encode||ne;V.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let s;if(s=n?n(t,r):V.isURLSearchParams(t)?t.toString():new ae(t,r).toString(a),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const le=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(t){null!==t&&e(t)})}},oe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var ie=r(555);const ce={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ae,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},de="undefined"!==typeof window&&"undefined"!==typeof document,ue="object"===typeof navigator&&navigator||void 0,me=de&&(!ue||["ReactNative","NativeScript","NS"].indexOf(ue.product)<0),pe="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,xe=de&&window.location.href||"http://localhost",he=(0,ie.A)((0,ie.A)({},a),ce);const fe=function(e){function t(e,r,a,n){let s=e[n++];if("__proto__"===s)return!0;const l=Number.isFinite(+s),o=n>=e.length;if(s=!s&&V.isArray(a)?a.length:s,o)return V.hasOwnProp(a,s)?a[s]=[a[s],r]:a[s]=r,!l;a[s]&&V.isObject(a[s])||(a[s]=[]);return t(e,r,a[s],n)&&V.isArray(a[s])&&(a[s]=function(e){const t={},r=Object.keys(e);let a;const n=r.length;let s;for(a=0;a<n;a++)s=r[a],t[s]=e[s];return t}(a[s])),!l}if(V.isFormData(e)&&V.isFunction(e.entries)){const r={};return V.forEachEntry(e,(e,a)=>{t(function(e){return V.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,r,0)}),r}return null};const ge={transitional:oe,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",a=r.indexOf("application/json")>-1,n=V.isObject(e);n&&V.isHTMLForm(e)&&(e=new FormData(e));if(V.isFormData(e))return a?JSON.stringify(fe(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(n){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Z(e,new he.classes.URLSearchParams,(0,ie.A)({visitor:function(e,t,r,a){return he.isNode&&V.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=V.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Z(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||a?(t.setContentType("application/json",!1),function(e,t,r){if(V.isString(e))try{return(t||JSON.parse)(e),V.trim(e)}catch(a){if("SyntaxError"!==a.name)throw a}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ge.transitional,r=t&&t.forcedJSONParsing,a="json"===this.responseType;if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(r&&!this.responseType||a)){const r=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(n){if(r){if("SyntaxError"===n.name)throw $.from(n,$.ERR_BAD_RESPONSE,this,null,this.response);throw n}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:he.classes.FormData,Blob:he.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],e=>{ge.headers[e]={}});const be=ge,ve=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ye=Symbol("internals");function je(e){return e&&String(e).trim().toLowerCase()}function Ne(e){return!1===e||null==e?e:V.isArray(e)?e.map(Ne):String(e)}function we(e,t,r,a,n){return V.isFunction(a)?a.call(this,t,r):(n&&(t=r),V.isString(t)?V.isString(a)?-1!==t.indexOf(a):V.isRegExp(a)?a.test(t):void 0:void 0)}class ke{constructor(e){e&&this.set(e)}set(e,t,r){const a=this;function n(e,t,r){const n=je(t);if(!n)throw new Error("header name must be a non-empty string");const s=V.findKey(a,n);(!s||void 0===a[s]||!0===r||void 0===r&&!1!==a[s])&&(a[s||t]=Ne(e))}const s=(e,t)=>V.forEach(e,(e,r)=>n(e,r,t));if(V.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(V.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let r,a,n;return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),r=e.substring(0,n).trim().toLowerCase(),a=e.substring(n+1).trim(),!r||t[r]&&ve[r]||("set-cookie"===r?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t})(e),t);else if(V.isObject(e)&&V.isIterable(e)){let r,a,n={};for(const t of e){if(!V.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[a=t[0]]=(r=n[a])?V.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}s(n,t)}else null!=e&&n(t,e,r);return this}get(e,t){if(e=je(e)){const r=V.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}(e);if(V.isFunction(t))return t.call(this,e,r);if(V.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=je(e)){const r=V.findKey(this,e);return!(!r||void 0===this[r]||t&&!we(0,this[r],r,t))}return!1}delete(e,t){const r=this;let a=!1;function n(e){if(e=je(e)){const n=V.findKey(r,e);!n||t&&!we(0,r[n],n,t)||(delete r[n],a=!0)}}return V.isArray(e)?e.forEach(n):n(e),a}clear(e){const t=Object.keys(this);let r=t.length,a=!1;for(;r--;){const n=t[r];e&&!we(0,this[n],n,e,!0)||(delete this[n],a=!0)}return a}normalize(e){const t=this,r={};return V.forEach(this,(a,n)=>{const s=V.findKey(r,n);if(s)return t[s]=Ne(a),void delete t[n];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(n):String(n).trim();l!==n&&delete t[n],t[l]=Ne(a),r[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return V.forEach(this,(r,a)=>{null!=r&&!1!==r&&(t[a]=e&&V.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[ye]=this[ye]={accessors:{}}).accessors,r=this.prototype;function a(e){const a=je(e);t[a]||(!function(e,t){const r=V.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(e,r,n){return this[a].call(this,t,e,r,n)},configurable:!0})})}(r,e),t[a]=!0)}return V.isArray(e)?e.forEach(a):a(e),this}}ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),V.reduceDescriptors(ke.prototype,(e,t)=>{let{value:r}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[a]=e}}}),V.freezeMethods(ke);const Se=ke;function Ce(e,t){const r=this||be,a=t||r,n=Se.from(a.headers);let s=a.data;return V.forEach(e,function(e){s=e.call(r,s,n.normalize(),t?t.status:void 0)}),n.normalize(),s}function Ee(e){return!(!e||!e.__CANCEL__)}function _e(e,t,r){$.call(this,null==e?"canceled":e,$.ERR_CANCELED,t,r),this.name="CanceledError"}V.inherits(_e,$,{__CANCEL__:!0});const Ae=_e;function Le(e,t,r){const a=r.config.validateStatus;r.status&&a&&!a(r.status)?t(new $("Request failed with status code "+r.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const Re=function(e,t){e=e||10;const r=new Array(e),a=new Array(e);let n,s=0,l=0;return t=void 0!==t?t:1e3,function(o){const i=Date.now(),c=a[l];n||(n=i),r[s]=o,a[s]=i;let d=l,u=0;for(;d!==s;)u+=r[d++],d%=e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),i-n<t)return;const m=c&&i-c;return m?Math.round(1e3*u/m):void 0}};const Te=function(e,t){let r,a,n=0,s=1e3/t;const l=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();n=s,r=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-n;for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];t>=s?l(i,e):(r=i,a||(a=setTimeout(()=>{a=null,l(r)},s-t)))},()=>r&&l(r)]},Oe=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const n=Re(50,250);return Te(r=>{const s=r.loaded,l=r.lengthComputable?r.total:void 0,o=s-a,i=n(o);a=s;e({loaded:s,total:l,progress:l?s/l:void 0,bytes:o,rate:i||void 0,estimated:i&&l&&s<=l?(l-s)/i:void 0,event:r,lengthComputable:null!=l,[t?"download":"upload"]:!0})},r)},ze=(e,t)=>{const r=null!=e;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},Pe=e=>function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return V.asap(()=>e(...r))},De=he.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,he.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(he.origin),he.navigator&&/(msie|trident)/i.test(he.navigator.userAgent)):()=>!0,Me=he.hasStandardBrowserEnv?{write(e,t,r,a,n,s,l){if("undefined"===typeof document)return;const o=["".concat(e,"=").concat(encodeURIComponent(t))];V.isNumber(r)&&o.push("expires=".concat(new Date(r).toUTCString())),V.isString(a)&&o.push("path=".concat(a)),V.isString(n)&&o.push("domain=".concat(n)),!0===s&&o.push("secure"),V.isString(l)&&o.push("SameSite=".concat(l)),document.cookie=o.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function Fe(e,t,r){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ie=e=>e instanceof Se?(0,ie.A)({},e):e;function Be(e,t){t=t||{};const r={};function a(e,t,r,a){return V.isPlainObject(e)&&V.isPlainObject(t)?V.merge.call({caseless:a},e,t):V.isPlainObject(t)?V.merge({},t):V.isArray(t)?t.slice():t}function n(e,t,r,n){return V.isUndefined(t)?V.isUndefined(e)?void 0:a(void 0,e,0,n):a(e,t,0,n)}function s(e,t){if(!V.isUndefined(t))return a(void 0,t)}function l(e,t){return V.isUndefined(t)?V.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function o(r,n,s){return s in t?a(r,n):s in e?a(void 0,r):void 0}const i={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(e,t,r)=>n(Ie(e),Ie(t),0,!0)};return V.forEach(Object.keys((0,ie.A)((0,ie.A)({},e),t)),function(a){const s=i[a]||n,l=s(e[a],t[a],a);V.isUndefined(l)&&s!==o||(r[a]=l)}),r}const We=e=>{const t=Be({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:s,headers:l,auth:o}=t;if(t.headers=l=Se.from(l),t.url=se(Fe(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),V.isFormData(r))if(he.hasStandardBrowserEnv||he.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(V.isFunction(r.getHeaders)){const e=r.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[r,a]=e;t.includes(r.toLowerCase())&&l.set(r,a)})}if(he.hasStandardBrowserEnv&&(a&&V.isFunction(a)&&(a=a(t)),a||!1!==a&&De(t.url))){const e=n&&s&&Me.read(s);e&&l.set(n,e)}return t},Ue="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const a=We(e);let n=a.data;const s=Se.from(a.headers).normalize();let l,o,i,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:p}=a;function x(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(l),a.signal&&a.signal.removeEventListener("abort",l)}let h=new XMLHttpRequest;function f(){if(!h)return;const a=Se.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());Le(function(e){t(e),x()},function(e){r(e),x()},{data:u&&"text"!==u&&"json"!==u?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:a,config:e,request:h}),h=null}h.open(a.method.toUpperCase(),a.url,!0),h.timeout=a.timeout,"onloadend"in h?h.onloadend=f:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(f)},h.onabort=function(){h&&(r(new $("Request aborted",$.ECONNABORTED,e,h)),h=null)},h.onerror=function(t){const a=t&&t.message?t.message:"Network Error",n=new $(a,$.ERR_NETWORK,e,h);n.event=t||null,r(n),h=null},h.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const n=a.transitional||oe;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),r(new $(t,n.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,e,h)),h=null},void 0===n&&s.setContentType(null),"setRequestHeader"in h&&V.forEach(s.toJSON(),function(e,t){h.setRequestHeader(t,e)}),V.isUndefined(a.withCredentials)||(h.withCredentials=!!a.withCredentials),u&&"json"!==u&&(h.responseType=a.responseType),p&&([i,d]=Oe(p,!0),h.addEventListener("progress",i)),m&&h.upload&&([o,c]=Oe(m),h.upload.addEventListener("progress",o),h.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(l=t=>{h&&(r(!t||t.type?new Ae(null,e,h):t),h.abort(),h=null)},a.cancelToken&&a.cancelToken.subscribe(l),a.signal&&(a.signal.aborted?l():a.signal.addEventListener("abort",l)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);g&&-1===he.protocols.indexOf(g)?r(new $("Unsupported protocol "+g+":",$.ERR_BAD_REQUEST,e)):h.send(n||null)})},He=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,a=new AbortController;const n=function(e){if(!r){r=!0,l();const t=e instanceof Error?e:this.reason;a.abort(t instanceof $?t:new Ae(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,n(new $("timeout ".concat(t," of ms exceeded"),$.ETIMEDOUT))},t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)}),e=null)};e.forEach(e=>e.addEventListener("abort",n));const{signal:o}=a;return o.unsubscribe=()=>V.asap(l),o}};function Ve(e,t){this.v=e,this.k=t}function qe(e){return function(){return new Ke(e.apply(this,arguments))}}function Ke(e){var t,r;function a(t,r){try{var s=e[t](r),l=s.value,o=l instanceof Ve;Promise.resolve(o?l.v:l).then(function(r){if(o){var i="return"===t?"return":"next";if(!l.k||r.done)return a(i,r);r=e[i](r).value}n(s.done?"return":"normal",r)},function(e){a("throw",e)})}catch(e){n("throw",e)}}function n(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?a(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise(function(s,l){var o={key:e,arg:n,resolve:s,reject:l,next:null};r?r=r.next=o:(t=r=o,a(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}function Ge(e){return new Ve(e,0)}function $e(e){var t={},r=!1;function a(t,a){return r=!0,a=new Promise(function(r){r(e[t](a))}),{done:!1,value:new Ve(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):a("return",e)}),t}function Je(e){var t,r,a,n=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,a=Symbol.iterator);n--;){if(r&&null!=(t=e[r]))return t.call(e);if(a&&null!=(t=e[a]))return new Qe(t.call(e));r="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function Qe(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Qe=function(e){this.s=e,this.n=e.next},Qe.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Qe(e)}Ke.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ke.prototype.next=function(e){return this._invoke("next",e)},Ke.prototype.throw=function(e){return this._invoke("throw",e)},Ke.prototype.return=function(e){return this._invoke("return",e)};const Xe=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let a,n=0;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},Ye=function(){var e=qe(function*(e,t){var r,a=!1,n=!1;try{for(var s,l=Je(Ze(e));a=!(s=yield Ge(l.next())).done;a=!1){const e=s.value;yield*$e(Je(Xe(e,t)))}}catch(o){n=!0,r=o}finally{try{a&&null!=l.return&&(yield Ge(l.return()))}finally{if(n)throw r}}});return function(t,r){return e.apply(this,arguments)}}(),Ze=function(){var e=qe(function*(e){if(e[Symbol.asyncIterator])return void(yield*$e(Je(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield Ge(t.read());if(e)break;yield r}}finally{yield Ge(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),et=(e,t,r,a)=>{const n=Ye(e,t);let s,l=0,o=e=>{s||(s=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await n.next();if(t)return o(),void e.close();let s=a.byteLength;if(r){let e=l+=s;r(e)}e.enqueue(new Uint8Array(a))}catch(t){throw o(t),t}},cancel:e=>(o(e),n.return())},{highWaterMark:2})},{isFunction:tt}=V,rt=(e=>{let{Request:t,Response:r}=e;return{Request:t,Response:r}})(V.global),{ReadableStream:at,TextEncoder:nt}=V.global,st=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return!!e(...r)}catch(n){return!1}},lt=e=>{e=V.merge.call({skipUndefined:!0},rt,e);const{fetch:t,Request:r,Response:a}=e,n=t?tt(t):"function"===typeof fetch,s=tt(r),l=tt(a);if(!n)return!1;const o=n&&tt(at),i=n&&("function"===typeof nt?(c=new nt,e=>c.encode(e)):async e=>new Uint8Array(await new r(e).arrayBuffer()));var c;const d=s&&o&&st(()=>{let e=!1;const t=new r(he.origin,{body:new at,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=l&&o&&st(()=>V.isReadableStream(new a("").body)),m={stream:u&&(e=>e.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,r)=>{let a=t&&t[e];if(a)return a.call(t);throw new $("Response type '".concat(e,"' is not supported"),$.ERR_NOT_SUPPORT,r)})});const p=async(e,t)=>{const a=V.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(V.isBlob(e))return e.size;if(V.isSpecCompliantForm(e)){const t=new r(he.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return V.isArrayBufferView(e)||V.isArrayBuffer(e)?e.byteLength:(V.isURLSearchParams(e)&&(e+=""),V.isString(e)?(await i(e)).byteLength:void 0)})(t):a};return async e=>{let{url:n,method:l,data:o,signal:i,cancelToken:c,timeout:x,onDownloadProgress:h,onUploadProgress:f,responseType:g,headers:b,withCredentials:v="same-origin",fetchOptions:y}=We(e),j=t||fetch;g=g?(g+"").toLowerCase():"text";let N=He([i,c&&c.toAbortSignal()],x),w=null;const k=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let S;try{if(f&&d&&"get"!==l&&"head"!==l&&0!==(S=await p(b,o))){let e,t=new r(n,{method:"POST",body:o,duplex:"half"});if(V.isFormData(o)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,r]=ze(S,Oe(Pe(f)));o=et(t.body,65536,e,r)}}V.isString(v)||(v=v?"include":"omit");const t=s&&"credentials"in r.prototype,i=(0,ie.A)((0,ie.A)({},y),{},{signal:N,method:l.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:t?v:void 0});w=s&&new r(n,i);let c=await(s?j(w,y):j(n,i));const x=u&&("stream"===g||"response"===g);if(u&&(h||x&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=V.toFiniteNumber(c.headers.get("content-length")),[r,n]=h&&ze(t,Oe(Pe(h),!0))||[];c=new a(et(c.body,65536,r,()=>{n&&n(),k&&k()}),e)}g=g||"text";let C=await m[V.findKey(m,g)||"text"](c,e);return!x&&k&&k(),await new Promise((t,r)=>{Le(t,r,{data:C,headers:Se.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:w})})}catch(C){if(k&&k(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new $("Network Error",$.ERR_NETWORK,e,w),{cause:C.cause||C});throw $.from(C,C&&C.code,e,w)}}},ot=new Map,it=e=>{let t=e&&e.env||{};const{fetch:r,Request:a,Response:n}=t,s=[a,n,r];let l,o,i=s.length,c=ot;for(;i--;)l=s[i],o=c.get(l),void 0===o&&c.set(l,o=i?new Map:lt(t)),c=o;return o},ct=(it(),{http:null,xhr:Ue,fetch:{get:it}});V.forEach(ct,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}});const dt=e=>"- ".concat(e),ut=e=>V.isFunction(e)||null===e||!1===e;const mt={getAdapter:function(e,t){e=V.isArray(e)?e:[e];const{length:r}=e;let a,n;const s={};for(let l=0;l<r;l++){let r;if(a=e[l],n=a,!ut(a)&&(n=ct[(r=String(a)).toLowerCase()],void 0===n))throw new $("Unknown adapter '".concat(r,"'"));if(n&&(V.isFunction(n)||(n=n.get(t))))break;s[r||"#"+l]=n}if(!n){const e=Object.entries(s).map(e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")});let t=r?e.length>1?"since :\n"+e.map(dt).join("\n"):" "+dt(e[0]):"as no adapter specified";throw new $("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return n},adapters:ct};function pt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ae(null,e)}function xt(e){pt(e),e.headers=Se.from(e.headers),e.data=Ce.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return mt.getAdapter(e.adapter||be.adapter,e)(e).then(function(t){return pt(e),t.data=Ce.call(e,e.transformResponse,t),t.headers=Se.from(t.headers),t},function(t){return Ee(t)||(pt(e),t&&t.response&&(t.response.data=Ce.call(e,e.transformResponse,t.response),t.response.headers=Se.from(t.response.headers))),Promise.reject(t)})}const ht="1.13.2",ft={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ft[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const gt={};ft.transitional=function(e,t,r){function a(e,t){return"[Axios v"+ht+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,n,s)=>{if(!1===e)throw new $(a(n," has been removed"+(t?" in "+t:"")),$.ERR_DEPRECATED);return t&&!gt[n]&&(gt[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},ft.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const bt={assertOptions:function(e,t,r){if("object"!==typeof e)throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const s=a[n],l=t[s];if(l){const t=e[s],r=void 0===t||l(t,s,e);if(!0!==r)throw new $("option "+s+" must be "+r,$.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new $("Unknown option "+s,$.ERR_BAD_OPTION)}},validators:ft},vt=bt.validators;class yt{constructor(e){this.defaults=e||{},this.interceptors={request:new le,response:new le}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(a){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Be(this.defaults,t);const{transitional:r,paramsSerializer:a,headers:n}=t;void 0!==r&&bt.assertOptions(r,{silentJSONParsing:vt.transitional(vt.boolean),forcedJSONParsing:vt.transitional(vt.boolean),clarifyTimeoutError:vt.transitional(vt.boolean)},!1),null!=a&&(V.isFunction(a)?t.paramsSerializer={serialize:a}:bt.assertOptions(a,{encode:vt.function,serialize:vt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),bt.assertOptions(t,{baseUrl:vt.spelling("baseURL"),withXsrfToken:vt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=n&&V.merge(n.common,n[t.method]);n&&V.forEach(["delete","get","head","post","put","patch","common"],e=>{delete n[e]}),t.headers=Se.concat(s,n);const l=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const i=[];let c;this.interceptors.response.forEach(function(e){i.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[xt.bind(this),void 0];for(e.unshift(...l),e.push(...i),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(p){t.call(this,p);break}}try{c=xt.call(this,m)}catch(p){return Promise.reject(p)}for(u=0,d=i.length;u<d;)c=c.then(i[u++],i[u++]);return c}getUri(e){return se(Fe((e=Be(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}V.forEach(["delete","get","head","options"],function(e){yt.prototype[e]=function(t,r){return this.request(Be(r||{},{method:e,url:t,data:(r||{}).data}))}}),V.forEach(["post","put","patch"],function(e){function t(t){return function(r,a,n){return this.request(Be(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}yt.prototype[e]=t(),yt.prototype[e+"Form"]=t(!0)});const jt=yt;class Nt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{r.subscribe(e),t=e}).then(e);return a.cancel=function(){r.unsubscribe(t)},a},e(function(e,a,n){r.reason||(r.reason=new Ae(e,a,n),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Nt(function(t){e=t}),cancel:e}}}const wt=Nt;const kt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(kt).forEach(e=>{let[t,r]=e;kt[r]=t});const St=kt;const Ct=function e(t){const r=new jt(t),a=n(jt.prototype.request,r);return V.extend(a,jt.prototype,r,{allOwnKeys:!0}),V.extend(a,r,null,{allOwnKeys:!0}),a.create=function(r){return e(Be(t,r))},a}(be);Ct.Axios=jt,Ct.CanceledError=Ae,Ct.CancelToken=wt,Ct.isCancel=Ee,Ct.VERSION=ht,Ct.toFormData=Z,Ct.AxiosError=$,Ct.Cancel=Ct.CanceledError,Ct.all=function(e){return Promise.all(e)},Ct.spread=function(e){return function(t){return e.apply(null,t)}},Ct.isAxiosError=function(e){return V.isObject(e)&&!0===e.isAxiosError},Ct.mergeConfig=Be,Ct.AxiosHeaders=Se,Ct.formToJSON=e=>fe(V.isHTMLForm(e)?new FormData(e):e),Ct.getAdapter=mt.getAdapter,Ct.HttpStatusCode=St,Ct.default=Ct;const Et=Ct},799:(e,t)=>{var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function n(e,t,a){var n=null;if(void 0!==a&&(n=""+a),void 0!==t.key&&(n=""+t.key),"key"in t)for(var s in a={},t)"key"!==s&&(a[s]=t[s]);else a=t;return t=a.ref,{$$typeof:r,type:e,key:n,ref:void 0!==t?t:null,props:a}}t.Fragment=a,t.jsx=n,t.jsxs=n},853:(e,t,r)=>{e.exports=r(896)},896:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var a=r-1>>>1,n=e[a];if(!(0<s(n,t)))break e;e[a]=t,e[r]=n,r=a}}function a(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var a=0,n=e.length,l=n>>>1;a<l;){var o=2*(a+1)-1,i=e[o],c=o+1,d=e[c];if(0>s(i,r))c<n&&0>s(d,i)?(e[a]=d,e[c]=r,a=c):(e[a]=i,e[o]=r,a=o);else{if(!(c<n&&0>s(d,r)))break e;e[a]=d,e[c]=r,a=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var o=Date,i=o.now();t.unstable_now=function(){return o.now()-i}}var c=[],d=[],u=1,m=null,p=3,x=!1,h=!1,f=!1,g=!1,b="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function j(e){for(var t=a(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,r(c,t)}t=a(d)}}function N(e){if(f=!1,j(e),!h)if(null!==a(c))h=!0,k||(k=!0,w());else{var t=a(d);null!==t&&T(N,t.startTime-e)}}var w,k=!1,S=-1,C=5,E=-1;function _(){return!!g||!(t.unstable_now()-E<C)}function A(){if(g=!1,k){var e=t.unstable_now();E=e;var r=!0;try{e:{h=!1,f&&(f=!1,v(S),S=-1),x=!0;var s=p;try{t:{for(j(e),m=a(c);null!==m&&!(m.expirationTime>e&&_());){var l=m.callback;if("function"===typeof l){m.callback=null,p=m.priorityLevel;var o=l(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){m.callback=o,j(e),r=!0;break t}m===a(c)&&n(c),j(e)}else n(c);m=a(c)}if(null!==m)r=!0;else{var i=a(d);null!==i&&T(N,i.startTime-e),r=!1}}break e}finally{m=null,p=s,x=!1}r=void 0}}finally{r?w():k=!1}}}if("function"===typeof y)w=function(){y(A)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,R=L.port2;L.port1.onmessage=A,w=function(){R.postMessage(null)}}else w=function(){b(A,0)};function T(e,r){S=b(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}},t.unstable_scheduleCallback=function(e,n,s){var l=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?l+s:l:s=l,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>l?(e.sortIndex=s,r(d,e),null===a(c)&&e===a(d)&&(f?(v(S),S=-1):f=!0,T(N,s-l))):(e.sortIndex=o,r(c,e),h||x||(h=!0,k||(k=!0,w()))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}},950:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(672)}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,r),s.exports}r.m=e,r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,a)=>(r.f[a](e,t),t),[])),r.u=e=>"static/js/"+e+".2214ff8b.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";r.l=(a,n,s,l)=>{if(e[a])e[a].push(n);else{var o,i;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+s){o=u;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+s),o.src=a),e[a]=[n];var m=(t,r)=>{o.onerror=o.onload=null,clearTimeout(p);var n=e[a];if(delete e[a],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach(e=>e(r)),t)return t(r)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=m.bind(null,o.onerror),o.onload=m.bind(null,o.onload),i&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,a)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var s=new Promise((r,a)=>n=e[t]=[r,a]);a.push(n[2]=s);var l=r.p+r.u(t),o=new Error;r.l(l,a=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var s=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+l+")",o.name="ChunkLoadError",o.type=s,o.request=l,n[1](o)}},"chunk-"+t,t)}};var t=(t,a)=>{var n,s,[l,o,i]=a,c=0;if(l.some(t=>0!==e[t])){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);if(i)i(r)}for(t&&t(a);c<l.length;c++)s=l[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},a=self.webpackChunkfrontend=self.webpackChunkfrontend||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=r(43),n=r(391),s=r(555);function l(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const o=["sri"],i=["page"],c=["page","matches"],d=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],m=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var p="popstate";function x(){return j(function(e,t){let{pathname:r,search:a,hash:n}=e.location;return b("",{pathname:r,search:a,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:v(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function g(e,t){return{usr:e.state,key:e.key,idx:t}}function b(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0;return(0,s.A)((0,s.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?y(t):t),{},{state:r,key:t&&t.key||a||Math.random().toString(36).substring(2,10)})}function v(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function y(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function j(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:n=document.defaultView,v5Compat:l=!1}=a,o=n.history,i="POP",c=null,d=u();function u(){return(o.state||{idx:null}).idx}function m(){i="POP";let e=u(),t=null==e?null:e-d;d=e,c&&c({action:i,location:h.location,delta:t})}function x(e){return N(e)}null==d&&(d=0,o.replaceState((0,s.A)((0,s.A)({},o.state),{},{idx:d}),""));let h={get action(){return i},get location(){return e(n,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(p,m),c=e,()=>{n.removeEventListener(p,m),c=null}},createHref:e=>t(n,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){i="PUSH";let a=b(h.location,e,t);r&&r(a,e),d=u()+1;let s=g(a,d),m=h.createHref(a);try{o.pushState(s,"",m)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;n.location.assign(m)}l&&c&&c({action:i,location:h.location,delta:1})},replace:function(e,t){i="REPLACE";let a=b(h.location,e,t);r&&r(a,e),d=u();let n=g(a,d),s=h.createHref(a);o.replaceState(n,"",s),l&&c&&c({action:i,location:h.location,delta:0})},go:e=>o.go(e)};return h}function N(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="http://localhost";"undefined"!==typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),h(r,"No window.location.(origin|href) available to create URL");let a="string"===typeof e?e:v(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}new WeakMap;function w(e,t){return k(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function k(e,t,r,a){let n=I(("string"===typeof t?y(t):t).pathname||"/",r);if(null==n)return null;let s=S(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let l=null;for(let o=0;null==l&&o<s.length;++o){let e=F(n);l=P(s[o],e,a)}return l}function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,o=arguments.length>3?arguments[3]:void 0,i={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(i.relativePath.startsWith("/")){if(!i.relativePath.startsWith(a)&&l)return;h(i.relativePath.startsWith(a),'Absolute route path "'.concat(i.relativePath,'" nested under path "').concat(a,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),i.relativePath=i.relativePath.slice(a.length)}let c=G([a,i.relativePath]),d=r.concat(i);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),S(e.children,t,d,c,l)),(null!=e.path||e.index)&&t.push({path:c,score:z(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!==(r=e.path)&&void 0!==r&&r.includes("?"))for(let a of C(e.path))s(e,t,!0,a);else s(e,t)}),t}function C(e){let t=e.split("/");if(0===t.length)return[];let[r,...a]=t,n=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===a.length)return n?[s,""]:[s];let l=C(a.join("/")),o=[];return o.push(...l.map(e=>""===e?s:[s,e].join("/"))),n&&o.push(...l),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var E=/^:[\w-]+$/,_=3,A=2,L=1,R=10,T=-2,O=e=>"*"===e;function z(e,t){let r=e.split("/"),a=r.length;return r.some(O)&&(a+=T),t&&(a+=A),r.filter(e=>!O(e)).reduce((e,t)=>e+(E.test(t)?_:""===t?L:R),a)}function P(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:a}=e,n={},s="/",l=[];for(let o=0;o<a.length;++o){let e=a[o],i=o===a.length-1,c="/"===s?t:t.slice(s.length)||"/",d=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:i},c),u=e.route;if(!d&&i&&r&&!a[a.length-1].route.index&&(d=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),l.push({params:n,pathname:G([s,d.pathname]),pathnameBase:$(G([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=G([s,d.pathnameBase]))}return l}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=M(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let s=n[0],l=s.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((e,t,r)=>{let{paramName:a,isOptional:n}=t;if("*"===a){let e=o[r]||"";l=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const i=o[r];return e[a]=n&&!i?void 0:(i||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:l,pattern:e}}function M(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(a.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function F(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return f(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&"/"!==a?null:e.slice(r)||"/"}var B=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W=e=>B.test(e);function U(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}function H(e,t,r,a){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(a),"].  Please separate it out to the `to.").concat(r,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function V(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function q(e){let t=V(e);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function K(e,t,r){let a,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?a=y(e):(a=(0,s.A)({},e),h(!a.pathname||!a.pathname.includes("?"),H("?","pathname","search",a)),h(!a.pathname||!a.pathname.includes("#"),H("#","pathname","hash",a)),h(!a.search||!a.search.includes("#"),H("#","search","hash",a)));let l,o=""===e||""===a.pathname,i=o?"/":a.pathname;if(null==i)l=r;else{let e=t.length-1;if(!n&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}l=e>=0?t[e]:"/"}let c=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:a,search:n="",hash:s=""}="string"===typeof e?y(e):e;if(a)if(W(a))t=a;else{if(a.includes("//")){let e=a;a=a.replace(/\/\/+/g,"/"),f(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(a))}t=a.startsWith("/")?U(a.substring(1),"/"):U(a,r)}else t=r;return{pathname:t,search:J(n),hash:Q(s)}}(a,l),d=i&&"/"!==i&&i.endsWith("/"),u=(o||"."===i)&&r.endsWith("/");return c.pathname.endsWith("/")||!d&&!u||(c.pathname+="/"),c}var G=e=>e.join("/").replace(/\/\/+/g,"/"),$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function X(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Y=["POST","PUT","PATCH","DELETE"],Z=(new Set(Y),["GET",...Y]);new Set(Z),Symbol("ResetLoaderData");var ee=a.createContext(null);ee.displayName="DataRouter";var te=a.createContext(null);te.displayName="DataRouterState";var re=a.createContext(!1);var ae=a.createContext({isTransitioning:!1});ae.displayName="ViewTransition";var ne=a.createContext(new Map);ne.displayName="Fetchers";var se=a.createContext(null);se.displayName="Await";var le=a.createContext(null);le.displayName="Navigation";var oe=a.createContext(null);oe.displayName="Location";var ie=a.createContext({outlet:null,matches:[],isDataRoute:!1});ie.displayName="Route";var ce=a.createContext(null);ce.displayName="RouteError";function de(){return null!=a.useContext(oe)}function ue(){return h(de(),"useLocation() may be used only in the context of a <Router> component."),a.useContext(oe).location}var me="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(e){a.useContext(le).static||a.useLayoutEffect(e)}function xe(){let{isDataRoute:e}=a.useContext(ie);return e?function(){let{router:e}=ke("useNavigate"),t=Ce("useNavigate"),r=a.useRef(!1);pe(()=>{r.current=!0});let n=a.useCallback(async function(a){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(r.current,me),r.current&&("number"===typeof a?e.navigate(a):await e.navigate(a,(0,s.A)({fromRouteId:t},n)))},[e,t]);return n}():function(){h(de(),"useNavigate() may be used only in the context of a <Router> component.");let e=a.useContext(ee),{basename:t,navigator:r}=a.useContext(le),{matches:n}=a.useContext(ie),{pathname:s}=ue(),l=JSON.stringify(q(n)),o=a.useRef(!1);pe(()=>{o.current=!0});let i=a.useCallback(function(a){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(f(o.current,me),!o.current)return;if("number"===typeof a)return void r.go(a);let i=K(a,JSON.parse(l),s,"path"===n.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:G([t,i.pathname])),(n.replace?r.replace:r.push)(i,n.state,n)},[t,r,l,s,e]);return i}()}a.createContext(null);function he(){let{matches:e}=a.useContext(ie),t=e[e.length-1];return t?t.params:{}}function fe(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=a.useContext(ie),{pathname:n}=ue(),s=JSON.stringify(q(r));return a.useMemo(()=>K(e,JSON.parse(s),n,"path"===t),[e,s,n,t])}function ge(e,t,r,n,l){h(de(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=a.useContext(le),{matches:i}=a.useContext(ie),c=i[i.length-1],d=c?c.params:{},u=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let e=p&&p.path||"";Ae(u,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let x,g=ue();if(t){var b;let e="string"===typeof t?y(t):t;h("/"===m||(null===(b=e.pathname)||void 0===b?void 0:b.startsWith(m)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(m,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),x=e}else x=g;let v=x.pathname||"/",j=v;if("/"!==m){let e=m.replace(/^\//,"").split("/");j="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let N=w(e,{pathname:j});f(p||null!=N,'No routes matched location "'.concat(x.pathname).concat(x.search).concat(x.hash,'" ')),f(null==N||void 0!==N[N.length-1].route.element||void 0!==N[N.length-1].route.Component||void 0!==N[N.length-1].route.lazy,'Matched leaf route at location "'.concat(x.pathname).concat(x.search).concat(x.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let k=Ne(N&&N.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:G([m,o.encodeLocation?o.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:G([m,o.encodeLocation?o.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),i,r,n,l);return t&&k?a.createElement(oe.Provider,{value:{location:(0,s.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:"POP"}},k):k}function be(){let e=Ee(),t=X(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=a.createElement(a.Fragment,null,a.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),a.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",a.createElement("code",{style:l},"ErrorBoundary")," or"," ",a.createElement("code",{style:l},"errorElement")," prop on your route.")),a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:s},r):null,o)}var ve=a.createElement(be,null),ye=class extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?a.createElement(ie.Provider,{value:this.props.routeContext},a.createElement(ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function je(e){let{routeContext:t,match:r,children:n}=e,s=a.useContext(ee);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement(ie.Provider,{value:t},n)}function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==t.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let s=e,l=null===r||void 0===r?void 0:r.errors;if(null!=l){let e=s.findIndex(e=>e.route.id&&void 0!==(null===l||void 0===l?void 0:l[e.route.id]));h(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(l).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let o=!1,i=-1;if(r)for(let a=0;a<s.length;a++){let e=s[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(i=a),e.route.id){let{loaderData:t,errors:a}=r,n=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!a||void 0===a[e.route.id]);if(e.route.lazy||n){o=!0,s=i>=0?s.slice(0,i+1):[s[0]];break}}}let c=r&&n?(e,t)=>{var a,s;n(e,{location:r.location,params:null!==(a=null===(s=r.matches)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.params)&&void 0!==a?a:{},errorInfo:t})}:void 0;return s.reduceRight((e,n,d)=>{let u,m=!1,p=null,x=null;r&&(u=l&&n.route.id?l[n.route.id]:void 0,p=n.route.errorElement||ve,o&&(i<0&&0===d?(Ae("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,x=null):i===d&&(m=!0,x=n.route.hydrateFallbackElement||null)));let h=t.concat(s.slice(0,d+1)),f=()=>{let t;return t=u?p:m?x:n.route.Component?a.createElement(n.route.Component,null):n.route.element?n.route.element:e,a.createElement(je,{match:n,routeContext:{outlet:e,matches:h,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===d)?a.createElement(ye,{location:r.location,revalidation:r.revalidation,component:p,error:u,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0},onError:c}):f()},null)}function we(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ke(e){let t=a.useContext(ee);return h(t,we(e)),t}function Se(e){let t=a.useContext(te);return h(t,we(e)),t}function Ce(e){let t=function(e){let t=a.useContext(ie);return h(t,we(e)),t}(e),r=t.matches[t.matches.length-1];return h(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function Ee(){var e;let t=a.useContext(ce),r=Se("useRouteError"),n=Ce("useRouteError");return void 0!==t?t:null===(e=r.errors)||void 0===e?void 0:e[n]}var _e={};function Ae(e,t,r){t||_e[e]||(_e[e]=!0,f(!1,r))}var Le={};function Re(e,t){e||Le[t]||(Le[t]=!0,console.warn(t))}a.memo(function(e){let{routes:t,future:r,state:a,unstable_onError:n}=e;return ge(t,void 0,a,n,r)});function Te(e){let{to:t,replace:r,state:n,relative:s}=e;h(de(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=a.useContext(le);f(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=a.useContext(ie),{pathname:i}=ue(),c=xe(),d=K(t,q(o),i,"path"===s),u=JSON.stringify(d);return a.useEffect(()=>{c(JSON.parse(u),{replace:r,state:n,relative:s})},[c,u,s,r,n]),null}function Oe(e){h(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ze(e){let{basename:t="/",children:r=null,location:n,navigationType:s="POP",navigator:l,static:o=!1}=e;h(!de(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=t.replace(/^\/*/,"/"),c=a.useMemo(()=>({basename:i,navigator:l,static:o,future:{}}),[i,l,o]);"string"===typeof n&&(n=y(n));let{pathname:d="/",search:u="",hash:m="",state:p=null,key:x="default"}=n,g=a.useMemo(()=>{let e=I(d,i);return null==e?null:{location:{pathname:e,search:u,hash:m,state:p,key:x},navigationType:s}},[i,d,u,m,p,x,s]);return f(null!=g,'<Router basename="'.concat(i,'"> is not able to match the URL "').concat(d).concat(u).concat(m,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:a.createElement(le.Provider,{value:c},a.createElement(oe.Provider,{children:r,value:g}))}function Pe(e){let{children:t,location:r}=e;return ge(De(t),r)}a.Component;function De(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return a.Children.forEach(e,(e,n)=>{if(!a.isValidElement(e))return;let s=[...t,n];if(e.type===a.Fragment)return void r.push.apply(r,De(e.props.children,s));h(e.type===Oe,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),h(!e.props.index||!e.props.children,"An index route cannot have child routes.");let l={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=De(e.props.children,s)),r.push(l)}),r}var Me="get",Fe="application/x-www-form-urlencoded";function Ie(e){return null!=e&&"string"===typeof e.tagName}var Be=null;var We=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ue(e){return null==e||We.has(e)?e:(f(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Fe,'"')),null)}function He(e,t){let r,a,n,s,l;if(Ie(o=e)&&"form"===o.tagName.toLowerCase()){let l=e.getAttribute("action");a=l?I(l,t):null,r=e.getAttribute("method")||Me,n=Ue(e.getAttribute("enctype"))||Fe,s=new FormData(e)}else if(function(e){return Ie(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ie(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let l=e.form;if(null==l)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||l.getAttribute("action");if(a=o?I(o,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Me,n=Ue(e.getAttribute("formenctype"))||Ue(l.getAttribute("enctype"))||Fe,s=new FormData(l,e),!function(){if(null===Be)try{new FormData(document.createElement("form"),0),Be=!1}catch(e){Be=!0}return Be}()){let{name:t,type:r,value:a}=e;if("image"===r){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,a)}}else{if(Ie(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Me,a=null,n=Fe,l=e}var o;return s&&"text/plain"===n&&(l=s,s=void 0),{action:a,method:r.toLowerCase(),encType:n,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ve(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function qe(e,t,r){let a="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===a.pathname?a.pathname="_root.".concat(r):t&&"/"===I(a.pathname,t)?a.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(r):a.pathname="".concat(a.pathname.replace(/\/$/,""),".").concat(r),a}async function Ke(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ge(e){return null!=e&&"string"===typeof e.page}function $e(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Je(e,t,r,a,n,s){let l=(e,t)=>!r[t]||e.route.id!==r[t].route.id,o=(e,t)=>{var a;return r[t].pathname!==e.pathname||(null===(a=r[t].route.path)||void 0===a?void 0:a.endsWith("*"))&&r[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>l(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let i=a.routes[t.route.id];if(!i||!i.hasLoader)return!1;if(l(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let a=t.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:(null===(c=r[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof a)return a}return!0}):[]}function Qe(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a=e.map(e=>{let a=t.routes[e.route.id];if(!a)return[];let n=[a.module];return a.clientActionModule&&(n=n.concat(a.clientActionModule)),a.clientLoaderModule&&(n=n.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(n=n.concat(a.hydrateFallbackModule)),a.imports&&(n=n.concat(a.imports)),n}).flat(1),[...new Set(a)];var a}function Xe(e,t){let r=new Set,a=new Set(t);return e.reduce((e,n)=>{if(t&&!Ge(n)&&"script"===n.as&&n.href&&a.has(n.href))return e;let s=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}(n));return r.has(s)||(r.add(s),e.push({key:s,link:n})),e},[])}function Ye(e,t){return"lazy"===e.mode&&!0===t}function Ze(){let e=a.useContext(ee);return Ve(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function et(){let e=a.useContext(te);return Ve(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tt=a.createContext(void 0);function rt(){let e=a.useContext(tt);return Ve(e,"You must render this element inside a <HydratedRouter> element"),e}function at(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function nt(e,t,r){if(r&&!it)return[e[0]];if(t){let r=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,r+1)}return e}tt.displayName="FrameworkContext";function st(e){let{page:t}=e,r=l(e,i),{router:n}=Ze(),o=a.useMemo(()=>w(n.routes,t,n.basename),[n.routes,t,n.basename]);return o?a.createElement(ot,(0,s.A)({page:t,matches:o},r)):null}function lt(e){let{manifest:t,routeModules:r}=rt(),[n,l]=a.useState([]);return a.useEffect(()=>{let a=!1;return async function(e,t,r){return Xe((await Promise.all(e.map(async e=>{let a=t.routes[e.route.id];if(a){let e=await Ke(a,r);return e.links?e.links():[]}return[]}))).flat(1).filter($e).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?(0,s.A)((0,s.A)({},e),{},{rel:"prefetch",as:"style"}):(0,s.A)((0,s.A)({},e),{},{rel:"prefetch"})))}(e,t,r).then(e=>{a||l(e)}),()=>{a=!0}},[e,t,r]),n}function ot(e){let{page:t,matches:r}=e,n=l(e,c),o=ue(),{manifest:i,routeModules:d}=rt(),{basename:u}=Ze(),{loaderData:m,matches:p}=et(),x=a.useMemo(()=>Je(t,r,p,i,o,"data"),[t,r,p,i,o]),h=a.useMemo(()=>Je(t,r,p,i,o,"assets"),[t,r,p,i,o]),f=a.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,a=!1;if(r.forEach(t=>{var r;let n=i.routes[t.route.id];n&&n.hasLoader&&(!x.some(e=>e.route.id===t.route.id)&&t.route.id in m&&null!==(r=d[t.route.id])&&void 0!==r&&r.shouldRevalidate||n.hasClientLoader?a=!0:e.add(t.route.id))}),0===e.size)return[];let n=qe(t,u,"data");return a&&e.size>0&&n.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[n.pathname+n.search]},[u,m,o,i,x,r,t,d]),g=a.useMemo(()=>Qe(h,i),[h,i]),b=lt(h);return a.createElement(a.Fragment,null,f.map(e=>a.createElement("link",(0,s.A)({key:e,rel:"prefetch",as:"fetch",href:e},n))),g.map(e=>a.createElement("link",(0,s.A)({key:e,rel:"modulepreload",href:e},n))),b.map(e=>{let{key:t,link:r}=e;return a.createElement("link",(0,s.A)({key:t,nonce:n.nonce},r))}))}var it=!1;function ct(e){let{manifest:t,serverHandoffString:r,isSpaMode:n,renderMeta:i,routeDiscovery:c,ssr:d}=rt(),{router:u,static:m,staticContext:p}=Ze(),{matches:x}=et(),h=a.useContext(re),f=Ye(c,d);i&&(i.didRenderScripts=!0);let g=nt(x,null,n);a.useEffect(()=>{it=!0},[]);let b=a.useMemo(()=>{var n;if(h)return null;let i=p?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=m?"".concat(null!==(n=t.hmr)&&void 0!==n&&n.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(f?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(g.map((e,r)=>{let a="route".concat(r),n=t.routes[e.route.id];Ve(n,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:l,clientMiddlewareModule:o,hydrateFallbackModule:i,module:c}=n,d=[...s?[{module:s,varName:"".concat(a,"_clientAction")}]:[],...l?[{module:l,varName:"".concat(a,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(a,"_clientMiddleware")}]:[],...i?[{module:i,varName:"".concat(a,"_HydrateFallback")}]:[],{module:c,varName:"".concat(a,"_main")}];return 1===d.length?"import * as ".concat(a," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(a," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(f?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:r}=e,a=l(e,o),n=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),c=["/"];for(i.pop();i.length>0;)c.push("/".concat(i.join("/"))),i.pop();c.forEach(e=>{let r=w(t.routes,e,t.basename);r&&r.forEach(e=>n.add(e.route.id))});let d=[...n].reduce((e,t)=>Object.assign(e,{[t]:a.routes[t]}),{});return(0,s.A)((0,s.A)({},a),{},{routes:d,sri:!!r||void 0})}(t,u),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return a.createElement(a.Fragment,null,a.createElement("script",(0,s.A)((0,s.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:void 0})),a.createElement("script",(0,s.A)((0,s.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:c},type:"module",async:!0})))},[]),v=it||h?[]:(y=t.entry.imports.concat(Qe(g,t,{includeHydrateFallback:!0})),[...new Set(y)]);var y;let j="object"===typeof t.sri?t.sri:{};return Re(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),it||h?null:a.createElement(a.Fragment,null,"object"===typeof t.sri?a.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:j})}}):null,f?null:a.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:j[t.url],suppressHydrationWarning:!0}),a.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:j[t.entry.module],suppressHydrationWarning:!0}),v.map(t=>a.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:j[t],suppressHydrationWarning:!0})),b)}function dt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}a.Component;function ut(e){let{error:t,isOutsideRemixApp:r}=e;console.error(t);let n,s=a.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(X(t))return a.createElement(mt,{title:"Unhandled Thrown Response!"},a.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)n=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);n=new Error(e)}return a.createElement(mt,{title:"Application Error!",isOutsideRemixApp:r},a.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),a.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},n.stack),s)}function mt(e){var t;let{title:r,renderScripts:n,isOutsideRemixApp:s,children:l}=e,{routeModules:o}=rt();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!s?l:a.createElement("html",{lang:"en"},a.createElement("head",null,a.createElement("meta",{charSet:"utf-8"}),a.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),a.createElement("title",null,r)),a.createElement("body",null,a.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},l,n?a.createElement(ct,null):null)))}var pt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{pt&&(window.__reactRouterVersion="7.9.6")}catch(Qn){}function xt(e){let{basename:t,children:r,window:n}=e,s=a.useRef();null==s.current&&(s.current=x({window:n,v5Compat:!0}));let l=s.current,[o,i]=a.useState({action:l.action,location:l.location}),c=a.useCallback(e=>{a.startTransition(()=>i(e))},[i]);return a.useLayoutEffect(()=>l.listen(c),[l,c]),a.createElement(ze,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l})}var ht=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=a.forwardRef(function(e,t){let r,{onClick:n,discover:o="render",prefetch:i="none",relative:c,reloadDocument:u,replace:m,state:p,target:x,to:g,preventScrollReset:b,viewTransition:y}=e,j=l(e,d),{basename:N}=a.useContext(le),w="string"===typeof g&&ht.test(g),k=!1;if("string"===typeof g&&w&&(r=g,pt))try{let e=new URL(window.location.href),t=g.startsWith("//")?new URL(e.protocol+g):new URL(g),r=I(t.pathname,N);t.origin===e.origin&&null!=r?g=r+t.search+t.hash:k=!0}catch(Qn){f(!1,'<Link to="'.concat(g,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(de(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=a.useContext(le),{hash:s,pathname:l,search:o}=fe(e,{relative:t}),i=l;return"/"!==r&&(i="/"===l?r:G([r,l])),n.createHref({pathname:i,search:o,hash:s})}(g,{relative:c}),[C,E,_]=function(e,t){let r=a.useContext(tt),[n,s]=a.useState(!1),[l,o]=a.useState(!1),{onFocus:i,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:m}=t,p=a.useRef(null);a.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),a.useEffect(()=>{if(n){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[n]);let x=()=>{s(!0)},h=()=>{s(!1),o(!1)};return r?"intent"!==e?[l,p,{}]:[l,p,{onFocus:at(i,x),onBlur:at(c,h),onMouseEnter:at(d,x),onMouseLeave:at(u,h),onTouchStart:at(m,x)}]:[!1,p,{}]}(i,j),A=function(e){let{target:t,replace:r,state:n,preventScrollReset:s,relative:l,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=xe(),c=ue(),d=fe(e,{relative:l});return a.useCallback(a=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(a,t)){a.preventDefault();let t=void 0!==r?r:v(c)===v(d);i(e,{replace:t,state:n,preventScrollReset:s,relative:l,viewTransition:o})}},[c,i,d,r,n,t,e,s,l,o])}(g,{replace:m,state:p,target:x,preventScrollReset:b,relative:c,viewTransition:y});let L=a.createElement("a",(0,s.A)((0,s.A)((0,s.A)({},j),_),{},{href:r||S,onClick:k||u?n:function(e){n&&n(e),e.defaultPrevented||A(e)},ref:dt(t,E),target:x,"data-discover":w||"render"!==o?void 0:"true"}));return C&&!w?a.createElement(a.Fragment,null,L,a.createElement(st,{page:S})):L});ft.displayName="Link",a.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:n=!1,className:o="",end:i=!1,style:c,to:d,viewTransition:m,children:p}=e,x=l(e,u),f=fe(d,{relative:x.relative}),g=ue(),b=a.useContext(te),{navigator:v,basename:y}=a.useContext(le),j=null!=b&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.useContext(ae);h(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=vt("useViewTransitionState"),s=fe(e,{relative:t});if(!r.isTransitioning)return!1;let l=I(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=I(r.nextLocation.pathname,n)||r.nextLocation.pathname;return null!=D(s.pathname,o)||null!=D(s.pathname,l)}(f)&&!0===m,N=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,w=g.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(w=w.toLowerCase(),k=k?k.toLowerCase():null,N=N.toLowerCase()),k&&y&&(k=I(k,y)||k);const S="/"!==N&&N.endsWith("/")?N.length-1:N.length;let C,E=w===N||!i&&w.startsWith(N)&&"/"===w.charAt(S),_=null!=k&&(k===N||!i&&k.startsWith(N)&&"/"===k.charAt(N.length)),A={isActive:E,isPending:_,isTransitioning:j},L=E?r:void 0;C="function"===typeof o?o(A):[o,E?"active":null,_?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof c?c(A):c;return a.createElement(ft,(0,s.A)((0,s.A)({},x),{},{"aria-current":L,className:C,ref:t,style:R,to:d,viewTransition:m}),"function"===typeof p?p(A):p)}).displayName="NavLink";var gt=a.forwardRef((e,t)=>{let{discover:r="render",fetcherKey:n,navigate:o,reloadDocument:i,replace:c,state:d,method:u=Me,action:p,onSubmit:x,relative:f,preventScrollReset:g,viewTransition:b}=e,y=l(e,m),j=Nt(),N=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=a.useContext(le),n=a.useContext(ie);h(n,"useFormAction must be used inside a RouteContext");let[l]=n.matches.slice(-1),o=(0,s.A)({},fe(e||".",{relative:t})),i=ue();if(null==e){o.search=i.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();o.search=r?"?".concat(r):""}}e&&"."!==e||!l.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:G([r,o.pathname]));return v(o)}(p,{relative:f}),w="get"===u.toLowerCase()?"get":"post",k="string"===typeof p&&ht.test(p);return a.createElement("form",(0,s.A)((0,s.A)({ref:t,method:w,action:N,onSubmit:i?x:e=>{if(x&&x(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;j(t||e.currentTarget,{fetcherKey:n,method:r,navigate:o,replace:c,state:d,relative:f,preventScrollReset:g,viewTransition:b})}},y),{},{"data-discover":k||"render"!==r?void 0:"true"}))});function bt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function vt(e){let t=a.useContext(ee);return h(t,bt(e)),t}gt.displayName="Form";var yt=0,jt=()=>"__".concat(String(++yt),"__");function Nt(){let{router:e}=vt("useSubmit"),{basename:t}=a.useContext(le),r=Ce("useRouteId");return a.useCallback(async function(a){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:l,encType:o,formData:i,body:c}=He(a,t);if(!1===n.navigate){let t=n.fetcherKey||jt();await e.fetch(t,r,n.action||s,{preventScrollReset:n.preventScrollReset,formData:i,body:c,formMethod:n.method||l,formEncType:n.encType||o,flushSync:n.flushSync})}else await e.navigate(n.action||s,{preventScrollReset:n.preventScrollReset,formData:i,body:c,formMethod:n.method||l,formEncType:n.encType||o,replace:n.replace,state:n.state,fromRouteId:r,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,r])}var wt=r(722),kt=r(579);const St=[{id:"A1_SPONSOR",name:"Estrategia",role:"Raz\xf3n de Negocios",icon:"S",color:"#6366f1",messages:{thinking:"Evaluando alineaci\xf3n estrat\xe9gica...",rag_search:"Consultando base de conocimiento...",analyzing:"Analizando raz\xf3n de negocios...",complete:"An\xe1lisis estrat\xe9gico completado"}},{id:"A3_FISCAL",name:"Fiscal",role:"Cumplimiento SAT",icon:"F",color:"#10b981",messages:{thinking:"Revisando cumplimiento fiscal...",rag_search:"Consultando normativa SAT...",analyzing:"Verificando art\xedculo 69-B...",complete:"Validaci\xf3n fiscal completada"}},{id:"A5_FINANZAS",name:"Finanzas",role:"An\xe1lisis ROI",icon:"$",color:"#f59e0b",messages:{thinking:"Calculando proyecciones...",rag_search:"Consultando benchmarks...",analyzing:"Analizando ROI y beneficios...",complete:"An\xe1lisis financiero completado"}},{id:"LEGAL",name:"Legal",role:"Contratos",icon:"L",color:"#8b5cf6",messages:{thinking:"Revisando marco legal...",rag_search:"Consultando precedentes...",analyzing:"Validando contratos y cl\xe1usulas...",complete:"Revisi\xf3n legal completada"}},{id:"A2_PMO",name:"PMO",role:"Consolidaci\xf3n",icon:"P",color:"#3b82f6",messages:{thinking:"Consolidando an\xe1lisis...",rag_search:"Integrando resultados...",analyzing:"Generando reporte consolidado...",complete:"Consolidaci\xf3n completada"}},{id:"STRATEGY_COUNCIL",name:"Consejo",role:"Validaci\xf3n Final",icon:"C",color:"#64748b",messages:{thinking:"Deliberando recomendaci\xf3n...",rag_search:"Revisando criterios finales...",analyzing:"Emitiendo dictamen final...",complete:"Validaci\xf3n final completada"}}],Ct={waiting:{bg:"#1e293b",border:"#334155",text:"#94a3b8",label:"En espera",glow:"none"},thinking:{bg:"#1e3a5f",border:"#3b82f6",text:"#93c5fd",label:"Procesando...",glow:"0 0 20px rgba(59, 130, 246, 0.5)"},rag_search:{bg:"#164e63",border:"#06b6d4",text:"#67e8f9",label:"Consultando KB",glow:"0 0 20px rgba(6, 182, 212, 0.5)"},analyzing:{bg:"#1e3a5f",border:"#60a5fa",text:"#93c5fd",label:"Analizando",glow:"0 0 20px rgba(96, 165, 250, 0.5)"},sending:{bg:"#3b1d54",border:"#a855f7",text:"#d8b4fe",label:"Enviando",glow:"0 0 20px rgba(168, 85, 247, 0.5)"},auditing:{bg:"#422006",border:"#f59e0b",text:"#fcd34d",label:"Auditando",glow:"0 0 20px rgba(245, 158, 11, 0.5)"},complete:{bg:"#14532d",border:"#22c55e",text:"#86efac",label:"Completado",glow:"0 0 15px rgba(34, 197, 94, 0.4)"},error:{bg:"#450a0a",border:"#ef4444",text:"#fca5a5",label:"Error",glow:"0 0 20px rgba(239, 68, 68, 0.5)"},connected:{bg:"#1e293b",border:"#334155",text:"#94a3b8",label:"Conectado",glow:"none"}},Et=e=>{let{agent:t,status:r,message:a,isActive:n,progress:s}=e;const l=Ct[r]||Ct.waiting;return(0,kt.jsxs)("div",{style:{flex:"1 1 0",minWidth:"140px",maxWidth:"180px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",transform:n?"translateY(-4px)":"translateY(0)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)"},children:[(0,kt.jsxs)("div",{className:n?"agent-icon-active":"",style:{width:"56px",height:"56px",borderRadius:"12px",background:"complete"===r||n?t.color:"#334155",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid ".concat("complete"===r||n?t.color:"#475569"),boxShadow:n?"0 0 30px ".concat(t.color,"60, 0 8px 25px rgba(0,0,0,0.3)"):"complete"===r?"0 0 20px ".concat(t.color,"40"):"none",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative"},children:[(0,kt.jsx)("span",{style:{fontSize:"20px",fontWeight:"700",color:"#ffffff"},children:t.icon}),n&&(0,kt.jsx)("div",{className:"pulse-ring",style:{position:"absolute",inset:"-8px",borderRadius:"16px",border:"2px solid ".concat(t.color),opacity:.6}}),"complete"===r&&(0,kt.jsx)("div",{className:"scale-in",style:{position:"absolute",bottom:"-4px",right:"-4px",width:"22px",height:"22px",borderRadius:"50%",background:"linear-gradient(135deg, #22c55e, #16a34a)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(34, 197, 94, 0.5)"},children:(0,kt.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",children:(0,kt.jsx)("path",{d:"M5 13l4 4L19 7",strokeLinecap:"round",strokeLinejoin:"round"})})}),("thinking"===r||"analyzing"===r||"rag_search"===r)&&(0,kt.jsx)("div",{style:{position:"absolute",bottom:"-4px",right:"-4px",width:"22px",height:"22px",borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6, #2563eb)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(59, 130, 246, 0.5)",animation:"spin 1s linear infinite"},children:(0,kt.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",children:(0,kt.jsx)("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"})})})]}),(0,kt.jsxs)("div",{style:{textAlign:"center"},children:[(0,kt.jsx)("div",{style:{fontSize:"13px",fontWeight:"600",color:n?"#ffffff":"complete"===r?"#86efac":"#f1f5f9",marginBottom:"2px",transition:"color 0.3s ease"},children:t.name}),(0,kt.jsx)("div",{style:{fontSize:"11px",color:"#94a3b8"},children:t.role})]}),(0,kt.jsxs)("div",{style:{width:"100%",minHeight:"80px",padding:"12px",borderRadius:"10px",background:l.bg,border:"1px solid ".concat(l.border),boxShadow:l.glow,transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"},children:[n&&(0,kt.jsx)("div",{className:"shimmer",style:{position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent)",pointerEvents:"none"}}),(0,kt.jsxs)("div",{style:{fontSize:"10px",fontWeight:"600",color:l.text,textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",display:"flex",alignItems:"center",gap:"6px"},children:[n&&(0,kt.jsx)("span",{className:"blink",style:{width:"6px",height:"6px",borderRadius:"50%",background:l.text,display:"inline-block"}}),l.label]}),(0,kt.jsx)("div",{style:{fontSize:"11px",color:"#cbd5e1",lineHeight:"1.5",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:a||"Esperando turno..."}),(n||"complete"===r)&&void 0!==s&&(0,kt.jsx)("div",{style:{marginTop:"8px",width:"100%",height:"3px",background:"rgba(255,255,255,0.1)",borderRadius:"2px",overflow:"hidden"},children:(0,kt.jsx)("div",{style:{height:"100%",width:"".concat(s,"%"),background:"complete"===r?"#22c55e":t.color,borderRadius:"2px",transition:"width 0.5s ease"}})})]})]})},_t=e=>{let{progress:t,status:r,activeAgentIndex:a,totalAgents:n}=e;return(0,kt.jsxs)("div",{style:{marginBottom:"28px"},children:[(0,kt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[(0,kt.jsxs)("span",{style:{fontSize:"13px",fontWeight:"500",color:"#e2e8f0",display:"flex",alignItems:"center",gap:"8px"},children:[(0,kt.jsx)("span",{className:"complete"!==r&&"error"!==r?"pulse-dot":"",style:{width:"8px",height:"8px",borderRadius:"50%",background:"complete"===r?"#22c55e":"error"===r?"#ef4444":"#3b82f6",display:"inline-block"}}),"complete"===r?"An\xe1lisis completado":"error"===r?"Error en el an\xe1lisis":a>=0?"Analizando: Agente ".concat(a+1," de ").concat(n):"Iniciando an\xe1lisis..."]}),(0,kt.jsxs)("span",{style:{fontSize:"16px",fontWeight:"700",color:"complete"===r?"#22c55e":"error"===r?"#ef4444":"#93c5fd",fontFamily:"monospace"},children:[Math.round(t),"%"]})]}),(0,kt.jsx)("div",{style:{width:"100%",height:"10px",background:"#1e293b",borderRadius:"5px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.3)"},children:(0,kt.jsx)("div",{className:"complete"!==r&&"error"!==r?"progress-glow":"",style:{height:"100%",width:"".concat(t,"%"),background:"error"===r?"#ef4444":"complete"===r?"#22c55e":"linear-gradient(90deg, #3b82f6, #6366f1, #8b5cf6)",borderRadius:"5px",transition:"width 0.6s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative"},children:"complete"!==r&&"error"!==r&&t>0&&(0,kt.jsx)("div",{style:{position:"absolute",right:0,top:0,bottom:0,width:"20px",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.4))",borderRadius:"0 5px 5px 0"}})})}),(0,kt.jsx)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"8px",paddingTop:"8px"},children:St.map((e,r)=>(0,kt.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:t>(r+1)*(100/St.length)?e.color:t>r*(100/St.length)?"".concat(e.color,"80"):"#334155",border:"2px solid ".concat(t>r*(100/St.length)?e.color:"#475569"),transition:"all 0.4s ease",boxShadow:t>r*(100/St.length)?"0 0 10px ".concat(e.color,"60"):"none"},title:e.name},e.id))})]})},At=e=>{let{projectId:t,onComplete:r,onError:n}=e;const[l,o]=(0,a.useState)(St.reduce((e,t)=>(0,s.A)((0,s.A)({},e),{},{[t.id]:{status:"waiting",message:"",progress:0}}),{})),[i,c]=(0,a.useState)(0),[d,u]=(0,a.useState)("waiting"),[m,p]=(0,a.useState)(!1),[x,h]=(0,a.useState)(0),[f,g]=(0,a.useState)(-1),[b,v]=(0,a.useState)(!1),y=(0,a.useRef)(null),j=(0,a.useRef)(null),N=((0,a.useRef)(null),(0,a.useRef)([])),w=(0,a.useCallback)(()=>{if(b)return;v(!0),p(!0),u("analyzing");const e=["thinking","rag_search","analyzing"],t=2500/e.length;let a=0,n=0,l=0;const i=()=>{if(a>=St.length)return c(100),u("complete"),g(-1),void(r&&r({status:"complete",data:{final:!0}}));const d=St[a];g(a);const m=()=>{if(n>=e.length){o(e=>(0,s.A)((0,s.A)({},e),{},{[d.id]:{status:"complete",message:d.messages.complete,progress:100}})),a++,n=0,l=a/St.length*100,c(l);const e=setTimeout(i,400);return void N.current.push(e)}const r=e[n],u=(n+1)/e.length*100,p=l+u/100*(100/St.length);o(e=>(0,s.A)((0,s.A)({},e),{},{[d.id]:{status:r,message:d.messages[r],progress:u}})),c(p),n++;const x=setTimeout(m,t);N.current.push(x)};m()},d=setTimeout(()=>{c(2),i()},500);N.current.push(d)},[b,r]),k=(0,a.useCallback)(e=>{try{var t;const a=JSON.parse(e.data);if("ping"===a.type)return;const{agent_id:l,status:i,message:d,progress:m}=a;if(l&&"SYSTEM"!==l){const e=St.findIndex(e=>e.id===l);-1!==e&&g(e),o(e=>{var t,r,a;return(0,s.A)((0,s.A)({},e),{},{[l]:{status:i||(null===(t=e[l])||void 0===t?void 0:t.status)||"waiting",message:d||(null===(r=e[l])||void 0===r?void 0:r.message)||"",progress:void 0!==m?m:(null===(a=e[l])||void 0===a?void 0:a.progress)||0}})})}void 0!==m&&c(Math.min(100,Math.max(0,m))),"complete"===i&&null!==(t=a.data)&&void 0!==t&&t.final&&(u("complete"),c(100),g(-1),r&&r(a)),"error"===i&&(u("error"),n&&n(new Error(d||"Error en el an\xe1lisis")))}catch(a){console.error("Error parsing SSE event:",a)}},[r,n]),S=(0,a.useCallback)(()=>{if(!t)return;if(!window.EventSource)return console.error("SSE not supported"),void w();y.current&&y.current.close();const e="".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL||"","/api/analysis/stream/").concat(t),r=new EventSource(e);y.current=r;let a=setTimeout(()=>{m||(r.close(),w())},3e3);r.onopen=()=>{clearTimeout(a),p(!0),h(0),u("connected")},r.addEventListener("connected",k),r.addEventListener("thinking",k),r.addEventListener("rag_search",k),r.addEventListener("analyzing",k),r.addEventListener("sending",k),r.addEventListener("auditing",k),r.addEventListener("complete",k),r.addEventListener("error",e=>{e.data&&k(e)}),r.addEventListener("ping",k),r.addEventListener("message",k),r.onerror=()=>{if(clearTimeout(a),r.close(),x<2&&!b){const e=1e3;j.current=setTimeout(()=>{h(e=>e+1),S()},e)}else b||w()}},[t,x,k,m,b,w]);(0,a.useEffect)(()=>(t&&(p(!0),u("analyzing"),S()),()=>{y.current&&y.current.close(),j.current&&clearTimeout(j.current),N.current.forEach(e=>clearTimeout(e))}),[S,t]);const C="\n    @keyframes spin {\n      from { transform: rotate(0deg); }\n      to { transform: rotate(360deg); }\n    }\n    \n    @keyframes pulse-ring-anim {\n      0% { transform: scale(1); opacity: 0.6; }\n      50% { transform: scale(1.15); opacity: 0.3; }\n      100% { transform: scale(1); opacity: 0.6; }\n    }\n    \n    @keyframes shimmer {\n      0% { left: -100%; }\n      100% { left: 200%; }\n    }\n    \n    @keyframes blink {\n      0%, 100% { opacity: 1; }\n      50% { opacity: 0.3; }\n    }\n    \n    @keyframes scale-in {\n      0% { transform: scale(0); opacity: 0; }\n      100% { transform: scale(1); opacity: 1; }\n    }\n    \n    @keyframes pulse-dot-anim {\n      0%, 100% { transform: scale(1); opacity: 1; }\n      50% { transform: scale(1.3); opacity: 0.7; }\n    }\n    \n    @keyframes progress-glow-anim {\n      0%, 100% { box-shadow: 0 0 10px rgba(99, 102, 241, 0.5); }\n      50% { box-shadow: 0 0 20px rgba(99, 102, 241, 0.8); }\n    }\n    \n    .pulse-ring {\n      animation: pulse-ring-anim 2s ease-in-out infinite;\n    }\n    \n    .shimmer {\n      animation: shimmer 2s ease-in-out infinite;\n    }\n    \n    .blink {\n      animation: blink 1s ease-in-out infinite;\n    }\n    \n    .scale-in {\n      animation: scale-in 0.3s ease-out forwards;\n    }\n    \n    .pulse-dot {\n      animation: pulse-dot-anim 1.5s ease-in-out infinite;\n    }\n    \n    .progress-glow {\n      animation: progress-glow-anim 2s ease-in-out infinite;\n    }\n    \n    .agent-icon-active {\n      animation: pulse-ring-anim 2s ease-in-out infinite;\n    }\n  ",E={container:{background:"linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%)",borderRadius:"20px",padding:"28px",border:"1px solid #334155",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"24px",paddingBottom:"20px",borderBottom:"1px solid #334155"},title:{fontSize:"20px",fontWeight:"700",color:"#f1f5f9",display:"flex",alignItems:"center",gap:"12px"},titleIcon:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #3b82f6, #6366f1, #8b5cf6)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 15px rgba(99, 102, 241, 0.4)"},connectionStatus:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"24px",background:m?"rgba(34, 197, 94, 0.15)":"rgba(239, 68, 68, 0.15)",border:"1px solid ".concat(m?"rgba(34, 197, 94, 0.4)":"rgba(239, 68, 68, 0.4)"),backdropFilter:"blur(4px)"},connectionDot:{width:"10px",height:"10px",borderRadius:"50%",background:m?"#22c55e":"#ef4444",boxShadow:m?"0 0 10px #22c55e":"0 0 10px #ef4444"},connectionText:{fontSize:"13px",color:m?"#86efac":"#fca5a5",fontWeight:"600"},projectId:{fontSize:"12px",color:"#64748b",marginBottom:"24px",display:"flex",alignItems:"center",gap:"8px"},agentsGrid:{display:"flex",flexWrap:"wrap",gap:"20px",justifyContent:"center",padding:"10px 0"},statusMessage:{marginTop:"28px",padding:"20px",borderRadius:"16px",textAlign:"center",backdropFilter:"blur(4px)"},completeMessage:{background:"rgba(34, 197, 94, 0.15)",border:"1px solid rgba(34, 197, 94, 0.4)"},errorMessage:{background:"rgba(239, 68, 68, 0.15)",border:"1px solid rgba(239, 68, 68, 0.4)"},reconnecting:{marginTop:"16px",textAlign:"center",fontSize:"13px",color:"#fbbf24"}};return"undefined"===typeof window||window.EventSource?(0,kt.jsxs)("div",{style:E.container,children:[(0,kt.jsx)("style",{children:C}),(0,kt.jsxs)("div",{style:E.header,children:[(0,kt.jsxs)("div",{style:E.title,children:[(0,kt.jsx)("div",{style:E.titleIcon,children:(0,kt.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",children:[(0,kt.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),(0,kt.jsx)("path",{d:"M2 17l10 5 10-5"}),(0,kt.jsx)("path",{d:"M2 12l10 5 10-5"})]})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{children:"An\xe1lisis Multi-Agente"}),(0,kt.jsx)("div",{style:{fontSize:"12px",color:"#94a3b8",fontWeight:"400",marginTop:"2px"},children:"Sistema de IA Fiscal"})]})]}),(0,kt.jsxs)("div",{style:E.connectionStatus,children:[(0,kt.jsx)("div",{className:m?"pulse-dot":"",style:E.connectionDot}),(0,kt.jsx)("span",{style:E.connectionText,children:m?"Conectado":"Conectando..."})]})]}),(0,kt.jsxs)("div",{style:E.projectId,children:[(0,kt.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#64748b",strokeWidth:"2",children:[(0,kt.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,kt.jsx)("path",{d:"M14 2v6h6"}),(0,kt.jsx)("path",{d:"M16 13H8"}),(0,kt.jsx)("path",{d:"M16 17H8"}),(0,kt.jsx)("path",{d:"M10 9H8"})]}),"Proyecto: ",(0,kt.jsx)("span",{style:{color:"#94a3b8",fontFamily:"monospace",fontWeight:"600"},children:t})]}),(0,kt.jsx)(_t,{progress:i,status:d,activeAgentIndex:f,totalAgents:St.length}),(0,kt.jsx)("div",{style:E.agentsGrid,children:St.map((e,t)=>{var r,a,n,s;return(0,kt.jsx)(Et,{agent:e,status:(null===(r=l[e.id])||void 0===r?void 0:r.status)||"waiting",message:(null===(a=l[e.id])||void 0===a?void 0:a.message)||"",progress:null===(n=l[e.id])||void 0===n?void 0:n.progress,isActive:["thinking","analyzing","rag_search","sending","auditing"].includes(null===(s=l[e.id])||void 0===s?void 0:s.status)},e.id)})}),"complete"===d&&(0,kt.jsxs)("div",{className:"scale-in",style:(0,s.A)((0,s.A)({},E.statusMessage),E.completeMessage),children:[(0,kt.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #22c55e, #16a34a)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px",boxShadow:"0 4px 15px rgba(34, 197, 94, 0.4)"},children:(0,kt.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:(0,kt.jsx)("path",{d:"M5 13l4 4L19 7",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,kt.jsx)("h3",{style:{color:"#86efac",fontSize:"18px",fontWeight:"700",marginBottom:"6px"},children:"An\xe1lisis Completado"}),(0,kt.jsx)("p",{style:{color:"#94a3b8",fontSize:"14px"},children:"Todos los agentes han terminado su evaluaci\xf3n exitosamente."})]}),"error"===d&&(0,kt.jsxs)("div",{style:(0,s.A)((0,s.A)({},E.statusMessage),E.errorMessage),children:[(0,kt.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #ef4444, #dc2626)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px",boxShadow:"0 4px 15px rgba(239, 68, 68, 0.4)"},children:(0,kt.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:(0,kt.jsx)("path",{d:"M18 6L6 18M6 6l12 12",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,kt.jsx)("h3",{style:{color:"#fca5a5",fontSize:"18px",fontWeight:"700",marginBottom:"6px"},children:"Error en el An\xe1lisis"}),(0,kt.jsx)("p",{style:{color:"#94a3b8",fontSize:"14px"},children:"Hubo un problema durante el an\xe1lisis. Por favor, intenta de nuevo."})]}),!m&&x>0&&x<3&&!b&&(0,kt.jsxs)("div",{style:E.reconnecting,children:[(0,kt.jsx)("span",{style:{marginRight:"8px",display:"inline-block",animation:"spin 1s linear infinite"},children:"\u21bb"}),"Reconectando... (Intento ",x,"/3)"]})]}):(0,kt.jsxs)("div",{style:(0,s.A)((0,s.A)({},E.container),{},{textAlign:"center",padding:"40px"}),children:[(0,kt.jsx)("style",{children:C}),(0,kt.jsx)("div",{style:{fontSize:"32px",marginBottom:"16px"},children:"\u26a0\ufe0f"}),(0,kt.jsx)("h3",{style:{color:"#f87171",fontSize:"16px",marginBottom:"8px"},children:"Navegador no compatible"}),(0,kt.jsx)("p",{style:{color:"#94a3b8",fontSize:"14px"},children:"Tu navegador no soporta actualizaciones en tiempo real. Por favor, utiliza Chrome, Firefox o Safari."})]})},Lt=wt.A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL?"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,"/api"):"/api",headers:{"Content-Type":"application/json"}});Lt.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");t&&(e.headers.Authorization="Bearer ".concat(t));const r=localStorage.getItem("selected_empresa_id");return r&&(e.headers["X-Empresa-ID"]=r),e});const Rt=()=>{const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!1),[i,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(""),[x,h]=(0,a.useState)([]),[f,g]=(0,a.useState)(!0),[b,v]=(0,a.useState)([]),[y,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)(null),[k,S]=(0,a.useState)({project_name:"",sponsor_name:"",sponsor_email:"",company_name:"",selected_company:"",budget_estimate:"",description:"",urgency_level:"Normal",departments:[],requires_human:"No",fiscal_document:null,constitutiva:null,project_documents:[],is_modification:!1,parent_folio:"",modification_notes:""}),[C,E]=(0,a.useState)({fiscal_document:"",constitutiva:"",project_documents:[]});(0,a.useEffect)(()=>{(async()=>{try{g(!0);const e=await Lt.get("/auth/companies");if(e.data.success&&e.data.companies){const t=[...e.data.companies,{id:"nueva",name:"Otra empresa (nueva)"}];h(t)}else h([{id:"nueva",name:"Otra empresa (nueva)"}])}catch(e){console.error("Error fetching companies:",e),h([{id:"nueva",name:"Otra empresa (nueva)"}])}finally{g(!1)}})()},[]),(0,a.useEffect)(()=>{if(k.is_modification){(async()=>{try{j(!0);const e=await Lt.get("/projects/folios");e.data.success&&e.data.folios&&v(e.data.folios)}catch(e){console.error("Error fetching folios:",e)}finally{j(!1)}})()}},[k.is_modification]);const _=x.find(e=>e.id===k.selected_company),A="nueva"===k.selected_company,L=e=>{const{name:t,value:r}=e.target;S(e=>(0,s.A)((0,s.A)({},e),{},{[t]:r})),"selected_company"===t&&r&&"nueva"!==r&&localStorage.setItem("selected_empresa_id",r)},R=async(e,t)=>{const r=e.target.files[0];if(r){n(!0),p("");try{const e=new FormData;e.append("file",r);const a=await Lt.post("/projects/upload-file",e,{headers:{"Content-Type":"multipart/form-data"}});a.data.success&&(E(e=>(0,s.A)((0,s.A)({},e),{},{[t]:a.data.file_url})),S(e=>(0,s.A)((0,s.A)({},e),{},{[t]:r})))}catch(o){var a,l;p("No pudimos guardar tu archivo: ".concat((null===(a=o.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.detail)||o.message))}finally{n(!1)}}},T=e=>{u(!0),setTimeout(()=>{window.location.href="/"},3e3)},O=e=>{console.error("Error en an\xe1lisis:",e)};return l?(0,kt.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%)",padding:"32px 16px"},children:(0,kt.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,kt.jsxs)("div",{style:{textAlign:"center",marginBottom:"32px",padding:"24px",background:"rgba(30, 41, 59, 0.8)",borderRadius:"16px",border:"1px solid #334155"},children:[(0,kt.jsx)("div",{style:{width:"64px",height:"64px",borderRadius:"16px",background:"linear-gradient(135deg, #22c55e, #10b981)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:(0,kt.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:(0,kt.jsx)("path",{d:"M5 13l4 4L19 7",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,kt.jsx)("h1",{style:{fontSize:"28px",fontWeight:"700",color:"#f1f5f9",marginBottom:"8px"},children:"Proyecto Recibido Exitosamente"}),(0,kt.jsx)("p",{style:{color:"#94a3b8",fontSize:"15px",maxWidth:"500px",margin:"0 auto"},children:"Nuestros agentes de inteligencia artificial est\xe1n analizando tu proyecto en tiempo real"})]}),(0,kt.jsx)(At,{projectId:i,onComplete:T,onError:O}),(0,kt.jsxs)("div",{style:{marginTop:"24px",textAlign:"center",padding:"20px",background:"rgba(30, 41, 59, 0.6)",borderRadius:"12px",border:"1px solid #334155"},children:[(0,kt.jsx)("p",{style:{color:"#94a3b8",fontSize:"13px",marginBottom:"16px"},children:"Tu expediente de defensa fiscal se generar\xe1 autom\xe1ticamente al completar el an\xe1lisis."}),d&&(0,kt.jsx)("p",{style:{color:"#86efac",fontSize:"14px",fontWeight:"500",marginBottom:"16px"},children:"\u2713 An\xe1lisis completado. Redirigiendo a tu panel..."}),(0,kt.jsx)("button",{onClick:()=>window.location.href="/",style:{padding:"12px 24px",borderRadius:"8px",background:"transparent",border:"1px solid #475569",color:"#e2e8f0",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.background="#334155",e.target.style.borderColor="#64748b"},onMouseLeave:e=>{e.target.style.background="transparent",e.target.style.borderColor="#475569"},children:"Ir a tu Panel"})]})]})}):(0,kt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-emerald-50 to-teal-50 py-8 sm:py-12 px-4 sm:px-6",children:(0,kt.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,kt.jsxs)("div",{className:"glass-card overflow-hidden",children:[(0,kt.jsxs)("div",{className:"bg-gradient-to-r from-[#54ddaf] to-[#3bb896] p-4 sm:p-6 lg:p-8",children:[(0,kt.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-[#021423] mb-2",children:"\ud83d\ude80 Cu\xe9ntanos sobre tu Proyecto"}),(0,kt.jsx)("p",{className:"text-[#021423]/80 text-sm sm:text-base",children:"Nuestros agentes IA analizar\xe1n tu iniciativa y te dar\xe1n retroalimentaci\xf3n en tiempo real"})]}),(0,kt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),t(!0),p(""),o(!1);if("true"===new URLSearchParams(window.location.search).get("demo"))setTimeout(()=>{o(!0),c("DEMO-"+Date.now()),t(!1)},1500);else try{const e=A?k.company_name:(null===_||void 0===_?void 0:_.name)||"",t={project_name:k.project_name,sponsor_name:k.sponsor_name,sponsor_email:k.sponsor_email,company_name:e,department:k.departments.join(", "),description:k.description,strategic_alignment:k.project_name,expected_economic_benefit:2.5*parseFloat(k.budget_estimate),budget_estimate:parseFloat(k.budget_estimate),duration_months:12,urgency_level:k.urgency_level,requires_human:k.requires_human,attachments:[...A?[C.fiscal_document,C.constitutiva]:[],...C.project_documents].filter(e=>e),is_modification:k.is_modification,parent_folio:k.parent_folio,modification_notes:k.modification_notes},r=await Lt.post("/projects/submit",t);r.data.success&&(c(r.data.project_id),o(!0),S({project_name:"",sponsor_name:"",sponsor_email:"",company_name:"",selected_company:"",budget_estimate:"",description:"",urgency_level:"Normal",departments:[],requires_human:"No",fiscal_document:null,constitutiva:null,project_documents:[],is_modification:!1,parent_folio:"",modification_notes:""}))}catch(n){var r,a;p((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Oops, algo no sali\xf3 bien. Por favor intenta nuevamente.")}finally{t(!1)}},className:"p-4 sm:p-6 lg:p-8 space-y-4 sm:space-y-6",children:[m&&(0,kt.jsx)("div",{className:"bg-red-50/80 backdrop-blur-sm border border-red-200 rounded-xl p-3 sm:p-4 animate-scale-in",children:(0,kt.jsxs)("p",{className:"text-red-700 text-sm sm:text-base flex items-center gap-2",children:[(0,kt.jsx)("span",{className:"text-lg flex-shrink-0",children:"\u26a0\ufe0f"}),(0,kt.jsx)("span",{children:m})]})}),(0,kt.jsxs)("div",{className:"bg-gradient-to-r from-amber-50/80 to-orange-50/80 backdrop-blur-sm border border-amber-200 rounded-xl p-3 sm:p-4",children:[(0,kt.jsxs)("label",{className:"flex items-center cursor-pointer gap-3",children:[(0,kt.jsx)("input",{type:"checkbox",checked:k.is_modification,onChange:e=>{S(t=>(0,s.A)((0,s.A)({},t),{},{is_modification:e.target.checked,parent_folio:e.target.checked?t.parent_folio:"",modification_notes:e.target.checked?t.modification_notes:""})),e.target.checked||w(null)},className:"w-5 h-5 min-w-[20px] text-amber-600 rounded focus:ring-amber-500 cursor-pointer"}),(0,kt.jsx)("span",{className:"text-sm sm:text-base font-semibold text-amber-800",children:"\xbfEste proyecto es una actualizaci\xf3n de uno anterior?"})]}),k.is_modification&&(0,kt.jsxs)("div",{className:"mt-4 space-y-4 border-t border-amber-200 pt-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"label-premium",children:"\xbfCu\xe1l es el proyecto anterior que actualizas? *"}),y?(0,kt.jsx)("div",{className:"input-premium bg-gray-100 text-gray-500 cursor-not-allowed",children:"Traemos tus proyectos..."}):0===b.length?(0,kt.jsx)("div",{className:"input-premium bg-yellow-50 text-amber-700 border-amber-300",children:"No hay proyectos disponibles para actualizar. Los proyectos aparecer\xe1n aqu\xed cuando hayan pasado por revisi\xf3n."}):(0,kt.jsxs)("select",{name:"parent_folio",required:k.is_modification,value:k.parent_folio,onChange:e=>{const t=e.target.value;L(e);const r=b.find(e=>e.folio===t);w(r||null)},className:"input-premium",children:[(0,kt.jsx)("option",{value:"",children:"Elige el proyecto a actualizar..."}),b.map(e=>(0,kt.jsxs)("option",{value:e.folio,children:[e.folio," - ",e.project_name," (",e.company_name,")"]},e.folio))]}),N&&(0,kt.jsxs)("div",{className:"mt-3 p-4 bg-blue-50/80 border border-blue-200 rounded-xl animate-scale-in",children:[(0,kt.jsxs)("h4",{className:"text-sm font-semibold text-blue-800 mb-2 flex items-center gap-2",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Informaci\xf3n del Proyecto Seleccionado"]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-500",children:"Empresa/Proveedor:"}),(0,kt.jsx)("p",{className:"font-medium text-gray-800",children:N.company_name||"N/A"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-500",children:"Estado:"}),(0,kt.jsx)("p",{className:"font-medium text-gray-800",children:(0,kt.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ".concat("approved"===N.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:"approved"===N.status?"Aprobado":"En Revisi\xf3n"})})]}),N.amount>0&&(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-500",children:"Monto:"}),(0,kt.jsxs)("p",{className:"font-medium text-gray-800",children:["$",Number(N.amount).toLocaleString("es-MX")]})]}),N.deliberation_count>0&&(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-500",children:"Deliberaciones:"}),(0,kt.jsx)("p",{className:"font-medium text-gray-800",children:N.deliberation_count})]}),N.description&&(0,kt.jsxs)("div",{className:"sm:col-span-2",children:[(0,kt.jsx)("span",{className:"text-gray-500",children:"Descripci\xf3n:"}),(0,kt.jsx)("p",{className:"font-medium text-gray-800 line-clamp-2",children:N.description})]})]})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"label-premium",children:"\xbfQu\xe9 cambios o mejoras solicitas en esta actualizaci\xf3n? *"}),(0,kt.jsx)("textarea",{name:"modification_notes",required:k.is_modification,rows:"3",value:k.modification_notes,onChange:L,className:"input-premium",placeholder:"Cu\xe9ntanos qu\xe9 cambios, mejoras o ajustes necesitas en relaci\xf3n al proyecto anterior..."}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"S\xe9 espec\xedfico con los cambios que deseas realizar."})]})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"label-premium",children:"\xbfC\xf3mo se llama tu proyecto? *"}),(0,kt.jsx)("input",{type:"text",name:"project_name",required:!0,value:k.project_name,onChange:L,className:"input-premium",placeholder:"Ej: Sistema IA Predictivo 2026"}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Elige un nombre descriptivo y \xfanico para tu iniciativa."})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"label-premium",children:"Tu nombre completo *"}),(0,kt.jsx)("input",{type:"text",name:"sponsor_name",required:!0,value:k.sponsor_name,onChange:L,className:"input-premium",placeholder:"Nombre completo"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"label-premium",children:"Tu correo electr\xf3nico *"}),(0,kt.jsx)("input",{type:"email",name:"sponsor_email",required:!0,value:k.sponsor_email,onChange:L,className:"input-premium",placeholder:"email@empresa.com"})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"label-premium",children:"\xbfEn cu\xe1l empresa es este proyecto? *"}),f?(0,kt.jsx)("div",{className:"input-premium bg-gray-100 text-gray-500 cursor-not-allowed",children:"Traemos tus empresas..."}):(0,kt.jsxs)("select",{name:"selected_company",required:!0,value:k.selected_company,onChange:L,className:"input-premium",children:[(0,kt.jsx)("option",{value:"",children:"Elige tu empresa..."}),x.map(e=>(0,kt.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),A&&(0,kt.jsx)(kt.Fragment,{children:(0,kt.jsxs)("div",{className:"bg-yellow-50/80 backdrop-blur-sm border border-yellow-200 rounded-xl p-4 sm:p-6",children:[(0,kt.jsx)("p",{className:"text-sm sm:text-base font-semibold text-yellow-800 mb-4",children:"\ud83d\udcdd Documentos Legales de tu Nueva Empresa"}),(0,kt.jsxs)("div",{className:"mb-4",children:[(0,kt.jsx)("label",{className:"label-premium",children:"Nombre legal de la empresa *"}),(0,kt.jsx)("input",{type:"text",name:"company_name",required:A,value:k.company_name,onChange:L,className:"input-premium",placeholder:"Nombre legal completo de la empresa"})]}),(0,kt.jsxs)("div",{className:"mb-4",children:[(0,kt.jsx)("label",{className:"label-premium",children:"Constancia de Situaci\xf3n Fiscal del SAT *"}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("input",{type:"file",required:A,accept:".pdf,.jpg,.png,.jpeg",onChange:e=>R(e,"fiscal_document"),className:"w-full px-4 py-3 rounded-xl bg-gray-50/80 border-2 border-dashed border-yellow-300 text-transparent cursor-pointer hover:bg-gray-100/80 transition-colors file:hidden"}),(0,kt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,kt.jsx)("span",{className:"text-yellow-600 text-sm font-medium",children:"\ud83d\udcc4 Selecciona documento..."})})]}),k.fiscal_document&&(0,kt.jsxs)("p",{className:"text-xs text-green-600 mt-2 flex items-center gap-1",children:[(0,kt.jsx)("span",{children:"\u2713"}),(0,kt.jsxs)("span",{children:[k.fiscal_document.name," (",(k.fiscal_document.size/1024).toFixed(1)," KB)"]})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"label-premium",children:"Acta Constitutiva de la Empresa *"}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("input",{type:"file",required:A,accept:".pdf,.jpg,.png,.jpeg",onChange:e=>R(e,"constitutiva"),className:"w-full px-4 py-3 rounded-xl bg-gray-50/80 border-2 border-dashed border-yellow-300 text-transparent cursor-pointer hover:bg-gray-100/80 transition-colors file:hidden"}),(0,kt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,kt.jsx)("span",{className:"text-yellow-600 text-sm font-medium",children:"\ud83d\udcc4 Selecciona documento..."})})]}),k.constitutiva&&(0,kt.jsxs)("p",{className:"text-xs text-green-600 mt-2 flex items-center gap-1",children:[(0,kt.jsx)("span",{children:"\u2713"}),(0,kt.jsxs)("span",{children:[k.constitutiva.name," (",(k.constitutiva.size/1024).toFixed(1)," KB)"]})]})]})]})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"label-premium",children:"\xbfCu\xe1l es el presupuesto estimado? (MXN) *"}),(0,kt.jsx)("input",{type:"number",name:"budget_estimate",required:!0,min:"0",step:"0.01",value:k.budget_estimate,onChange:L,className:"input-premium",placeholder:"1000000"}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udca1 El valor esperado se proyecta autom\xe1ticamente multiplicando tu presupuesto por 2.5"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"label-premium",children:"\xbfQu\xe9 esperas lograr con este proyecto? *"}),(0,kt.jsx)("textarea",{name:"description",required:!0,rows:"4",value:k.description,onChange:L,className:"input-premium",placeholder:"Cu\xe9ntanos los objetivos principales, alcance, resultados esperados y cualquier detalle importante..."}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"S\xe9 espec\xedfico y detallado para que nuestros agentes IA puedan analizar mejor tu proyecto."})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"label-premium",children:"\xbfQu\xe9 departamentos participar\xe1n en este proyecto? *"}),(0,kt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["Operaciones","Legal","Recursos Humanos","Marketing","Finanzas","Compras","Calidad","Proyectos y Arquitectura"].map(e=>(0,kt.jsxs)("label",{className:"flex items-center p-3 rounded-xl border-2 cursor-pointer transition-all min-h-[44px] ".concat(k.departments.includes(e)?"border-[#54ddaf] bg-[#54ddaf]/10":"border-gray-200 hover:border-gray-300"),children:[(0,kt.jsx)("input",{type:"checkbox",checked:k.departments.includes(e),onChange:()=>(e=>{S(t=>(0,s.A)((0,s.A)({},t),{},{departments:t.departments.includes(e)?t.departments.filter(t=>t!==e):[...t.departments,e]}))})(e),className:"w-5 h-5 min-w-[20px] text-[#54ddaf] rounded cursor-pointer focus:ring-[#54ddaf]"}),(0,kt.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:e})]},e))})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"label-premium",children:"\xbfCu\xe1l es la urgencia de este proyecto?"}),(0,kt.jsxs)("select",{name:"urgency_level",value:k.urgency_level,onChange:L,className:"input-premium",children:[(0,kt.jsx)("option",{value:"Baja",children:"Baja"}),(0,kt.jsx)("option",{value:"Normal",children:"Normal"}),(0,kt.jsx)("option",{value:"Alta",children:"Alta"}),(0,kt.jsx)("option",{value:"Urgente",children:"Urgente"})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"label-premium",children:"\xbfNecesitas que un humano revise este proyecto tambi\xe9n?"}),(0,kt.jsxs)("select",{name:"requires_human",value:k.requires_human,onChange:L,className:"input-premium",children:[(0,kt.jsx)("option",{value:"No",children:"No"}),(0,kt.jsx)("option",{value:"S\xed",children:"S\xed"})]})]}),(0,kt.jsxs)("div",{className:"border-t-2 border-[#54ddaf]/30 pt-6 mt-8",children:[(0,kt.jsxs)("h3",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-2 flex items-center gap-2",children:[(0,kt.jsx)("span",{children:"\ud83d\udcc4"})," Documentos de tu Proyecto"]}),(0,kt.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600",children:[(0,kt.jsx)("strong",{className:"text-red-600",children:"* Obligatorio"})," - Sube los documentos, propuestas y detalles de tu proyecto. Nuestros agentes IA los analizar\xe1n y te enviar\xe1n sus recomendaciones por correo."]})]}),(0,kt.jsxs)("div",{className:"bg-gradient-to-br from-[#54ddaf]/10 to-[#3bb896]/10 border-2 border-dashed border-[#54ddaf] rounded-xl p-4 sm:p-6",children:[(0,kt.jsx)("label",{className:"block text-sm sm:text-base font-bold text-gray-800 mb-2",children:"\ud83d\udcce Sube los Documentos de tu Proyecto *"}),(0,kt.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 mb-4",children:"Incluye tu solicitud, propuestas, an\xe1lisis t\xe9cnicos, y toda la informaci\xf3n que nuestros agentes IA necesitan analizar."}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("input",{type:"file",multiple:!0,required:!0,accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.png,.jpeg",onChange:async e=>{const t=Array.from(e.target.files);if(0!==t.length){n(!0),p("");try{const e=t.map(async e=>{const t=new FormData;t.append("file",e);return(await Lt.post("/projects/upload-file",t,{headers:{"Content-Type":"multipart/form-data"}})).data.file_url}),r=await Promise.all(e);E(e=>(0,s.A)((0,s.A)({},e),{},{project_documents:[...e.project_documents,...r]})),S(e=>(0,s.A)((0,s.A)({},e),{},{project_documents:[...e.project_documents,...t]}))}catch(l){var r,a;p("No pudimos guardar algunos archivos: ".concat((null===(r=l.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||l.message))}finally{n(!1)}}},className:"w-full px-4 py-3 rounded-xl bg-white/50 border-2 border-dashed border-[#54ddaf] text-transparent cursor-pointer hover:bg-white transition-colors file:hidden"}),(0,kt.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[(0,kt.jsx)("div",{className:"w-8 h-8 flex items-center justify-center text-2xl mb-2 flex-shrink-0",children:"\ud83d\udcc1"}),(0,kt.jsx)("span",{className:"text-sm sm:text-base font-medium text-gray-700 text-center px-4",children:"Arrastra archivos o haz clic para seleccionar"})]})]}),k.project_documents.length>0&&(0,kt.jsxs)("div",{className:"mt-4 space-y-2 bg-white/80 rounded-lg p-3 sm:p-4",children:[(0,kt.jsxs)("p",{className:"text-xs sm:text-sm font-semibold text-green-700 mb-2 flex items-center gap-2",children:[(0,kt.jsx)("span",{children:"\u2705"})," Archivos listos para an\xe1lisis (",k.project_documents.length,"):"]}),k.project_documents.map((e,t)=>(0,kt.jsxs)("p",{className:"text-xs text-green-600 flex items-center gap-2",children:[(0,kt.jsx)("span",{className:"w-4 h-4 flex-shrink-0",children:"\ud83d\udcc4"}),(0,kt.jsxs)("span",{className:"break-words",children:[e.name," (",(e.size/1024).toFixed(1)," KB)"]})]},t))]})]}),r&&(0,kt.jsx)("div",{className:"bg-emerald-50/80 backdrop-blur-sm border border-emerald-200 rounded-xl p-3 sm:p-4 animate-scale-in",children:(0,kt.jsxs)("p",{className:"text-emerald-700 text-sm flex items-center gap-2",children:[(0,kt.jsx)("span",{className:"animate-spin text-lg",children:"\u23f3"}),"Estamos guardando tus archivos..."]})}),(0,kt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-4 mt-8",children:[(0,kt.jsx)("button",{type:"button",onClick:()=>window.location.href="/",className:"btn-ghost-premium w-full sm:w-auto",children:"Volver"}),(0,kt.jsx)("button",{type:"submit",disabled:e,className:"btn-primary-premium w-full sm:flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Estamos guardando...":"Enviar Proyecto \ud83d\ude80"})]})]})]})})})},Tt=(0,a.createContext)(null),Ot=wt.A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL?"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,"/api"):"/api",headers:{"Content-Type":"application/json"}});function zt(e){let{children:t}=e;const[r,n]=(0,a.useState)(null),[s,l]=(0,a.useState)(!0),[o,i]=(0,a.useState)(null),c=(0,a.useCallback)(async()=>{if(!localStorage.getItem("auth_token"))return n(null),void l(!1);try{var e;const t=await Ot.get("/auth/otp/session");t.data.success&&null!==(e=t.data.data)&&void 0!==e&&e.user?n(t.data.data.user):(localStorage.removeItem("auth_token"),n(null))}catch(t){localStorage.removeItem("auth_token"),n(null)}finally{l(!1)}},[]);(0,a.useEffect)(()=>{c()},[c]);const d={user:r,loading:s,error:o,isAuthenticated:!!r,login:async(e,t)=>{i(null);try{const r=await Ot.post("/auth/login",{email:e,password:t});return r.data.access_token?(localStorage.setItem("auth_token",r.data.access_token),n(r.data.user),{success:!0}):{success:!1,error:"Error de autenticaci\xf3n"}}catch(l){var r,a,s;const e=(null===(r=l.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Error al iniciar sesi\xf3n",t=null===(s=l.response)||void 0===s?void 0:s.status;return i(e),{success:!1,error:e,statusCode:t}}},loginWithOTP:async(e,t)=>{i(null);try{var r;const a=await Ot.post("/auth/otp/verify-code",{email:e,code:t});return a.data.success&&null!==(r=a.data.data)&&void 0!==r&&r.token?(localStorage.setItem("auth_token",a.data.data.token),n(a.data.data.user),{success:!0}):{success:!1,error:a.data.message||"Error de verificaci\xf3n"}}catch(l){var a,s;const e=(null===(a=l.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.detail)||"C\xf3digo inv\xe1lido o expirado";return i(e),{success:!1,error:e}}},register:async e=>{i(null);try{const t=await Ot.post("/auth/register",e);if(t.data.success){if(t.data.pending_approval)return{success:!0,pending_approval:!0,message:t.data.message};if(t.data.access_token)return localStorage.setItem("auth_token",t.data.access_token),n(t.data.user),{success:!0}}return{success:!1,error:t.data.message||"Error en el registro"}}catch(a){var t,r;const e=(null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Error al registrar";return i(e),{success:!1,error:e}}},logout:async()=>{try{await Ot.post("/auth/otp/logout")}catch(e){}localStorage.removeItem("auth_token"),n(null)},clearError:()=>i(null),verifyAuth:c};return(0,kt.jsx)(Tt.Provider,{value:d,children:t})}function Pt(){const e=(0,a.useContext)(Tt);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}Ot.interceptors.request.use(e=>{if(!["/auth/login","/auth/register","/auth/otp/request-code","/auth/otp/verify-code"].some(t=>{var r;return null===(r=e.url)||void 0===r?void 0:r.includes(t)})){const t=localStorage.getItem("auth_token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e});const Dt=()=>{const e=xe(),{loginWithOTP:t,login:r,isAuthenticated:n}=Pt(),[s,l]=(0,a.useState)("otp"),[o,i]=(0,a.useState)("email"),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[p,x]=(0,a.useState)(""),[h,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)(""),[v,y]=(0,a.useState)(null),j=(0,a.useRef)([]);(0,a.useEffect)(()=>{n&&e("/dashboard")},[n,e]);const N=e=>{l(e),i("email"),b(""),x(""),m("")},w=async e=>{if(e.preventDefault(),c.trim()){f(!0),b("");try{const e=await fetch("/api/auth/otp/request-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.trim()})}),t=await e.json();e.ok&&t.success?(y(t.data),i("code"),setTimeout(()=>{var e;return null===(e=j.current[0])||void 0===e?void 0:e.focus()},100)):b(t.detail||t.message||"Correo no autorizado")}catch(t){console.error("Login error:",t),t.message&&t.message.includes("Failed to fetch")?b("Error de conexion. Verifica tu internet."):b("Error al solicitar codigo. Intenta de nuevo.")}finally{f(!1)}}},k=async t=>{if(t.preventDefault(),c.trim()&&u.trim()){f(!0),b("");try{const t=await r(c.trim(),u);t.success?e("/dashboard"):b(t.error||"Credenciales invalidas")}catch(a){b("Error de conexion")}finally{f(!1)}}},S=e=>{e.preventDefault();const t=e.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);var r;(x(t),6===t.length)?C(t):null===(r=j.current[t.length])||void 0===r||r.focus()},C=async function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;if(6===r.length){f(!0),b("");try{const n=await t(c,r);var a;if(n.success)e("/dashboard");else b(n.error||"Codigo invalido o expirado"),x(""),null===(a=j.current[0])||void 0===a||a.focus()}catch(n){b("Error de conexion"),x("")}finally{f(!1)}}},E=()=>{i("email"),x(""),b("")},_={background:"rgba(0, 0, 0, 0.35)",border:"1px solid rgba(127, 237, 216, 0.25)",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.2)"},A=e=>{e.target.style.borderColor="rgba(127, 237, 216, 0.7)",e.target.style.boxShadow="inset 0 2px 4px rgba(0,0,0,0.2), 0 0 20px rgba(127, 237, 216, 0.3)"},L=e=>{e.target.style.borderColor="rgba(127, 237, 216, 0.25)",e.target.style.boxShadow="inset 0 2px 4px rgba(0,0,0,0.2)"},R=()=>(0,kt.jsxs)("div",{className:"space-y-5",children:[(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full flex items-center justify-center",style:{background:"rgba(127, 237, 216, 0.15)",border:"1px solid rgba(127, 237, 216, 0.3)"},children:(0,kt.jsx)("svg",{className:"w-6 h-6 text-[#7FEDD8]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,kt.jsx)("h2",{className:"text-xl font-semibold text-white mb-1",children:"Verifica tu identidad"}),(0,kt.jsx)("p",{className:"text-gray-400 text-sm",children:"Codigo enviado a"}),(0,kt.jsx)("p",{className:"text-[#7FEDD8] text-sm font-medium mt-0.5",children:c}),(null===v||void 0===v?void 0:v.nombre)&&(0,kt.jsxs)("p",{className:"text-gray-300 text-xs mt-2",children:["Hola, ",v.nombre]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs text-gray-300 mb-2.5 text-center font-medium",children:"Codigo de 6 digitos"}),(0,kt.jsx)("div",{className:"flex justify-center gap-2.5",onPaste:S,children:[0,1,2,3,4,5].map(e=>(0,kt.jsx)("input",{ref:t=>j.current[e]=t,type:"text",inputMode:"numeric",maxLength:1,value:p[e]||"",onChange:t=>((e,t)=>{if(!/^\d*$/.test(t))return;const r=p.split("");r[e]=t;const a=r.join("").slice(0,6);var n;x(a),t&&e<5&&(null===(n=j.current[e+1])||void 0===n||n.focus()),6===a.length&&C(a)})(e,t.target.value),onKeyDown:t=>((e,t)=>{var r;"Backspace"===t.key&&!p[e]&&e>0&&(null===(r=j.current[e-1])||void 0===r||r.focus())})(e,t),className:"w-11 h-13 text-center text-xl font-bold rounded-xl transition-all focus:outline-none",style:{background:p[e]?"rgba(127, 237, 216, 0.15)":"rgba(0, 0, 0, 0.4)",border:p[e]?"1px solid rgba(127, 237, 216, 0.5)":"1px solid rgba(127, 237, 216, 0.15)",color:p[e]?"#7FEDD8":"white",boxShadow:p[e]?"0 0 15px rgba(127, 237, 216, 0.2)":"inset 0 2px 4px rgba(0,0,0,0.3)"},disabled:h},e))})]}),g&&(0,kt.jsx)("div",{className:"text-sm text-center rounded-xl p-3",style:{background:"rgba(239, 68, 68, 0.15)",border:"1px solid rgba(239, 68, 68, 0.3)",color:"#fca5a5"},children:g}),h&&(0,kt.jsx)("div",{className:"flex justify-center",children:(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-[#7FEDD8] text-sm",children:[(0,kt.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[(0,kt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,kt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),(0,kt.jsx)("span",{children:"Verificando..."})]})}),(0,kt.jsxs)("div",{className:"flex flex-col items-center gap-2 pt-1",children:[(0,kt.jsxs)("button",{onClick:E,className:"text-gray-400 hover:text-[#7FEDD8] text-xs transition-colors flex items-center gap-1",disabled:h,children:[(0,kt.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Usar otro correo"]}),(0,kt.jsx)("span",{className:"text-gray-500 text-[10px]",children:"El codigo expira en 5 minutos"})]})]});return(0,kt.jsxs)("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[(0,kt.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",style:{filter:"brightness(0.85) contrast(1.15) saturate(1.2)"},children:(0,kt.jsx)("source",{src:"/revisar-ia-background.mp4",type:"video/mp4"})}),(0,kt.jsx)("div",{className:"absolute inset-0",style:{background:"linear-gradient(180deg, rgba(0,0,0,0.15) 0%, rgba(0,0,0,0.05) 40%, rgba(0,0,0,0.25) 100%)"}}),(0,kt.jsxs)("div",{className:"relative w-full max-w-sm z-10",children:[(0,kt.jsxs)("div",{className:"text-center mb-6",children:[(0,kt.jsx)("img",{src:"/logo-revisar-white.png",alt:"Revisar.IA",className:"max-w-[280px] w-full mx-auto mb-3 object-contain",style:{filter:"drop-shadow(0 0 35px rgba(127, 237, 216, 0.7)) drop-shadow(0 0 60px rgba(127, 237, 216, 0.4)) drop-shadow(0 4px 15px rgba(0,0,0,0.5))"},onError:e=>{e.target.onerror=null,e.target.style.display="none"}}),(0,kt.jsx)("p",{className:"text-sm tracking-[0.35em] uppercase font-semibold",style:{color:"#7FEDD8",textShadow:"0 0 30px rgba(127, 237, 216, 0.8), 0 0 60px rgba(127, 237, 216, 0.4), 0 2px 4px rgba(0,0,0,0.6)"},children:"Auditoria Fiscal Inteligente"})]}),(0,kt.jsx)("div",{className:"backdrop-blur-xl rounded-2xl p-6 border",style:{background:"rgba(10, 15, 25, 0.65)",borderColor:"rgba(127, 237, 216, 0.35)",boxShadow:"0 8px 32px rgba(0,0,0,0.3), 0 0 40px rgba(127, 237, 216, 0.1), inset 0 1px 0 rgba(255,255,255,0.1)"},children:"otp"===s?"email"===o?(0,kt.jsxs)("form",{onSubmit:w,className:"space-y-5",children:[(0,kt.jsxs)("div",{className:"text-center mb-4",children:[(0,kt.jsx)("h2",{className:"text-xl font-bold text-white",style:{textShadow:"0 2px 8px rgba(0,0,0,0.4)"},children:"Acceso Usuario"}),(0,kt.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:"Recibe un codigo en tu correo"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs text-gray-200 mb-2 font-semibold tracking-wide",children:"Correo electronico"}),(0,kt.jsx)("input",{type:"email",value:c,onChange:e=>d(e.target.value),placeholder:"tu@empresa.com",className:"w-full px-4 py-3.5 rounded-xl text-white text-sm placeholder-gray-400 focus:outline-none transition-all",style:_,onFocus:A,onBlur:L,disabled:h,autoFocus:!0,autoComplete:"email"})]}),g&&(0,kt.jsx)("div",{className:"text-sm text-center rounded-xl p-3",style:{background:"rgba(239, 68, 68, 0.15)",border:"1px solid rgba(239, 68, 68, 0.3)",color:"#fca5a5"},children:g}),(0,kt.jsx)("button",{type:"submit",disabled:h||!c.trim(),className:"w-full py-3.5 text-sm font-bold rounded-xl transition-all disabled:opacity-40 disabled:cursor-not-allowed hover:scale-[1.02]",style:{background:"linear-gradient(135deg, #7FEDD8 0%, #5BC4AB 50%, #7FEDD8 100%)",color:"#0a0f14",boxShadow:"0 4px 20px rgba(127, 237, 216, 0.5), 0 0 40px rgba(127, 237, 216, 0.25), inset 0 1px 0 rgba(255,255,255,0.3)"},children:h?(0,kt.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,kt.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[(0,kt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,kt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Enviando..."]}):"Solicitar codigo de acceso"}),(0,kt.jsxs)("div",{className:"flex justify-center gap-6 pt-2",children:[(0,kt.jsxs)("span",{className:"text-gray-400 text-xs flex items-center gap-1.5",children:[(0,kt.jsx)("svg",{className:"w-3.5 h-3.5 text-[#7FEDD8]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Sin contrasenas"]}),(0,kt.jsxs)("span",{className:"text-gray-400 text-xs flex items-center gap-1.5",children:[(0,kt.jsx)("svg",{className:"w-3.5 h-3.5 text-[#7FEDD8]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Acceso seguro"]})]}),(0,kt.jsx)("div",{className:"pt-3 border-t border-gray-700/50",children:(0,kt.jsxs)("button",{type:"button",onClick:()=>N("password"),className:"w-full text-center text-gray-400 hover:text-[#7FEDD8] text-xs transition-colors flex items-center justify-center gap-2",children:[(0,kt.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Eres administrador? Inicia sesion con contrasena"]})})]}):R():(0,kt.jsxs)("form",{onSubmit:k,className:"space-y-5",children:[(0,kt.jsxs)("div",{className:"text-center mb-4",children:[(0,kt.jsx)("h2",{className:"text-xl font-bold text-white",style:{textShadow:"0 2px 8px rgba(0,0,0,0.4)"},children:"Acceso Administrador"}),(0,kt.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:"Ingresa tus credenciales"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs text-gray-200 mb-2 font-semibold tracking-wide",children:"Correo electronico"}),(0,kt.jsx)("input",{type:"email",value:c,onChange:e=>d(e.target.value),placeholder:"admin@empresa.com",className:"w-full px-4 py-3.5 rounded-xl text-white text-sm placeholder-gray-400 focus:outline-none transition-all",style:_,onFocus:A,onBlur:L,disabled:h,autoFocus:!0,autoComplete:"email"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs text-gray-200 mb-2 font-semibold tracking-wide",children:"Contrasena"}),(0,kt.jsx)("input",{type:"password",value:u,onChange:e=>m(e.target.value),placeholder:"********",className:"w-full px-4 py-3.5 rounded-xl text-white text-sm placeholder-gray-400 focus:outline-none transition-all",style:_,onFocus:A,onBlur:L,disabled:h,autoComplete:"current-password"})]}),g&&(0,kt.jsx)("div",{className:"text-sm text-center rounded-xl p-3",style:{background:"rgba(239, 68, 68, 0.15)",border:"1px solid rgba(239, 68, 68, 0.3)",color:"#fca5a5"},children:g}),(0,kt.jsx)("button",{type:"submit",disabled:h||!c.trim()||!u.trim(),className:"w-full py-3.5 text-sm font-bold rounded-xl transition-all disabled:opacity-40 disabled:cursor-not-allowed hover:scale-[1.02]",style:{background:"linear-gradient(135deg, #7FEDD8 0%, #5BC4AB 50%, #7FEDD8 100%)",color:"#0a0f14",boxShadow:"0 4px 20px rgba(127, 237, 216, 0.5), 0 0 40px rgba(127, 237, 216, 0.25), inset 0 1px 0 rgba(255,255,255,0.3)"},children:h?(0,kt.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,kt.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[(0,kt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,kt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Iniciando sesion..."]}):"Iniciar sesion"}),(0,kt.jsx)("div",{className:"pt-3 border-t border-gray-700/50",children:(0,kt.jsxs)("button",{type:"button",onClick:()=>N("otp"),className:"w-full text-center text-gray-400 hover:text-[#7FEDD8] text-xs transition-colors flex items-center justify-center gap-2",children:[(0,kt.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Usuario de empresa? Solicita codigo de acceso"]})})]})}),(0,kt.jsxs)("div",{className:"mt-6 text-center",children:[(0,kt.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:"No tienes acceso?"}),(0,kt.jsx)(ft,{to:"/register",className:"text-[#7FEDD8] hover:underline text-sm font-medium",style:{textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:"Solicitar acceso a Revisar.IA"})]}),(0,kt.jsx)("p",{className:"text-center text-[11px] mt-4 font-medium",style:{color:"rgba(255,255,255,0.4)",textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:"2026 Revisar.IA - Plataforma de Cumplimiento Fiscal"})]})]})},Mt=e=>{var t;let{videos:r}=e;const[n,s]=(0,a.useState)(0),[l,o]=(0,a.useState)(!0),[i,c]=(0,a.useState)(!1),d=(0,a.useRef)([]),u=(0,a.useCallback)(()=>{s(e=>(e+1)%r.length)},[r.length]);return(0,a.useEffect)(()=>{const e=e=>{if(e.origin&&e.origin.includes("vimeo.com"))try{const t="string"===typeof e.data?JSON.parse(e.data):e.data;"play"===t.event?(c(!0),o(!1)):"pause"!==t.event&&"ended"!==t.event||(c(!1),o(!0))}catch(Qn){}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]),(0,a.useEffect)(()=>{if(!l||i)return;const e=setInterval(u,8e3);return()=>clearInterval(e)},[l,i,u]),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm border border-gray-200 shadow-xl p-2 sm:p-3 rounded-2xl sm:rounded-3xl overflow-hidden",children:[(0,kt.jsx)("div",{className:"relative overflow-hidden rounded-xl sm:rounded-2xl",children:(0,kt.jsx)("div",{className:"flex transition-transform duration-700 ease-in-out",style:{transform:"translateX(-".concat(100*n,"%)")},children:r.map((e,t)=>(0,kt.jsx)("div",{className:"w-full flex-shrink-0",children:(0,kt.jsx)("div",{className:"relative pb-[56.25%] h-0",children:(0,kt.jsx)("iframe",{ref:e=>d.current[t]=e,src:"https://player.vimeo.com/video/".concat(e.id,"?badge=0&autopause=0&player_id=0&app_id=58479&api=1"),frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture; clipboard-write",className:"absolute top-0 left-0 w-full h-full",title:e.title})})},t))})}),(0,kt.jsx)("button",{onClick:()=>{s(e=>(e-1+r.length)%r.length)},className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/90 hover:bg-white rounded-full shadow-lg flex items-center justify-center transition-all hover:scale-110","aria-label":"Video anterior",children:(0,kt.jsx)("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,kt.jsx)("button",{onClick:u,className:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/90 hover:bg-white rounded-full shadow-lg flex items-center justify-center transition-all hover:scale-110","aria-label":"Video siguiente",children:(0,kt.jsx)("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),(0,kt.jsx)("div",{className:"flex justify-center gap-2 mt-4",children:r.map((e,t)=>(0,kt.jsx)("button",{onClick:()=>(e=>{s(e),o(!1),setTimeout(()=>o(!0),1e4)})(t),className:"w-3 h-3 rounded-full transition-all ".concat(t===n?"bg-[#7FEDD8] w-8":"bg-gray-300 hover:bg-gray-400"),"aria-label":"Ir a video ".concat(t+1)},t))}),(0,kt.jsxs)("p",{className:"text-center text-sm text-gray-500 mt-2",children:[null===(t=r[n])||void 0===t?void 0:t.title,i&&(0,kt.jsxs)("span",{className:"ml-2 inline-flex items-center text-red-500",children:[(0,kt.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse mr-1"}),"Reproduciendo"]})]})]})},Ft=()=>{const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)([{id:"welcome",tipo:"asistente",contenido:"\xa1Hola! Soy Facturar.IA. \xbfQu\xe9 servicio necesitas facturar?",timestamp:new Date}]),[s,l]=(0,a.useState)(""),[o,i]=(0,a.useState)(!1),c=(0,a.useRef)(null);(0,a.useEffect)(()=>{var e;null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[r]);const d=async()=>{if(!s.trim()||o)return;const e={id:Date.now().toString(),tipo:"usuario",contenido:s.trim(),timestamp:new Date};n(t=>[...t,e]),l(""),i(!0);try{const t=await fetch("/api/asistente-facturacion/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mensaje:e.contenido,historial:r})}),a=await t.json();n(e=>[...e,{id:(Date.now()+1).toString(),tipo:"asistente",contenido:a.respuesta||"Lo siento, no pude procesar tu solicitud.",sugerencias:a.sugerencias,timestamp:new Date}])}catch(t){n(e=>[...e,{id:(Date.now()+1).toString(),tipo:"asistente",contenido:"Error de conexi\xf3n. Por favor intenta de nuevo.",timestamp:new Date}])}finally{i(!1)}};return e?(0,kt.jsxs)("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-xl border border-white/20 overflow-hidden",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-white/10",children:[(0,kt.jsx)("span",{className:"text-white/90 text-sm font-medium",children:"Chat con Facturar.IA"}),(0,kt.jsx)("button",{onClick:()=>t(!1),className:"text-white/60 hover:text-white p-1",children:(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,kt.jsxs)("div",{className:"h-48 overflow-y-auto p-3 space-y-2",children:[r.map(e=>{var t;return(0,kt.jsx)("div",{className:"flex ".concat("usuario"===e.tipo?"justify-end":"justify-start"),children:(0,kt.jsxs)("div",{className:"max-w-[85%] rounded-lg px-3 py-2 text-sm ".concat("usuario"===e.tipo?"bg-blue-600 text-white":"bg-white/10 text-white/90"),children:[e.contenido,(null===(t=e.sugerencias)||void 0===t?void 0:t.length)>0&&(0,kt.jsx)("div",{className:"mt-2 pt-2 border-t border-white/20",children:e.sugerencias.slice(0,2).map((e,t)=>(0,kt.jsxs)("div",{className:"text-xs text-emerald-300 mt-1",children:[(0,kt.jsx)("span",{className:"font-mono",children:e.claveSAT})," - ",e.descripcion]},t))})]})},e.id)}),o&&(0,kt.jsx)("div",{className:"flex justify-start",children:(0,kt.jsx)("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:(0,kt.jsxs)("div",{className:"flex gap-1",children:[(0,kt.jsx)("div",{className:"w-2 h-2 bg-white/50 rounded-full animate-bounce"}),(0,kt.jsx)("div",{className:"w-2 h-2 bg-white/50 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,kt.jsx)("div",{className:"w-2 h-2 bg-white/50 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),(0,kt.jsx)("div",{ref:c})]}),(0,kt.jsx)("div",{className:"p-3 border-t border-white/10",children:(0,kt.jsxs)("div",{className:"flex gap-2",children:[(0,kt.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),onKeyPress:e=>"Enter"===e.key&&d(),placeholder:"Ej: Servicios de marketing digital...",className:"flex-1 bg-white/10 text-white placeholder-white/40 rounded-lg px-3 py-2 text-sm border border-white/20 focus:border-emerald-400/50 focus:outline-none"}),(0,kt.jsx)("button",{onClick:d,disabled:o||!s.trim(),className:"bg-emerald-500 hover:bg-emerald-400 disabled:bg-emerald-500/50 text-white px-4 py-2 rounded-lg transition",children:(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}):(0,kt.jsxs)("button",{onClick:()=>t(!0),className:"w-full bg-white/20 hover:bg-white/30 text-white font-semibold py-4 px-6 rounded-xl transition-all flex items-center justify-center gap-3 group",children:[(0,kt.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,kt.jsx)("span",{children:"Iniciar Chat con Facturar.IA"})]})},It=e=>{let{className:t}=e;return(0,kt.jsx)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,kt.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})},Bt=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2"}),(0,kt.jsx)("circle",{cx:"12",cy:"5",r:"2"}),(0,kt.jsx)("path",{d:"M12 7v4"}),(0,kt.jsx)("line",{x1:"8",y1:"16",x2:"8",y2:"16"}),(0,kt.jsx)("line",{x1:"16",y1:"16",x2:"16",y2:"16"})]})},Wt=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,kt.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})},Ut=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),(0,kt.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),(0,kt.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})},Ht=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,kt.jsx)("circle",{cx:"12",cy:"12",r:"6"}),(0,kt.jsx)("circle",{cx:"12",cy:"12",r:"2"})]})},Vt=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,kt.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})},qt=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,kt.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]})},Kt=[{id:"A1",name:"A1-Estrategia",persona:"Mar\xeda",role:"Validador Estrat\xe9gico",description:"Alineaci\xf3n BEE, Raz\xf3n de Negocios Art. 5-A CFF",color:"from-purple-500 to-violet-600",borderColor:"border-purple-500/30",textColor:"text-purple-600",icon:e=>{let{className:t}=e;return(0,kt.jsx)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,kt.jsx)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}},{id:"A2",name:"A2-PMO",persona:"Carlos",role:"Orquestador Central",description:"Guardi\xe1n del POE, gestiona estados F0-F9",color:"from-blue-500 to-cyan-600",borderColor:"border-blue-500/30",textColor:"text-blue-600",icon:Ht},{id:"A3",name:"A3-Fiscal",persona:"Laura",role:"Motor de Cumplimiento",description:"Genera SIB, valida materialidad fiscal",color:"from-green-500 to-emerald-600",borderColor:"border-green-500/30",textColor:"text-green-600",icon:e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),(0,kt.jsx)("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}},{id:"A4",name:"A4-Legal",persona:"Gestor IA",role:"Validador Contractual",description:"SOW, Fecha Cierta NOM-151",color:"from-amber-500 to-yellow-600",borderColor:"border-amber-500/30",textColor:"text-amber-600",icon:e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("path",{d:"M12 3v18"}),(0,kt.jsx)("path",{d:"M1 7l5 5-5 5"}),(0,kt.jsx)("path",{d:"M23 7l-5 5 5 5"}),(0,kt.jsx)("path",{d:"M4 12h16"})]})}},{id:"A5",name:"A5-Finanzas",persona:"Roberto",role:"Controlador Financiero",description:"3-Way Match (CFDI, SPEI)",color:"from-red-500 to-rose-600",borderColor:"border-red-500/30",textColor:"text-red-600",icon:Ut},{id:"A6",name:"A6-Proveedor",persona:"Ana",role:"Ejecutor del Servicio",description:"Entregables y logs",color:"from-teal-500 to-cyan-600",borderColor:"border-teal-500/30",textColor:"text-teal-600",icon:Vt},{id:"A7",name:"A7-Defensa",persona:"Sistema",role:"Generador Defense File",description:"Compila expediente defensivo completo",color:"from-indigo-500 to-purple-600",borderColor:"border-indigo-500/30",textColor:"text-indigo-600",icon:It}],Gt=[{id:"SUB_TIPIFICACION",name:"SUB_TIPIFICACION",role:"Clasificador de Proyectos",description:"Asigna tipolog\xeda (8 tipos) y checklist",color:"from-sky-400 to-blue-500",icon:e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),(0,kt.jsx)("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]})}},{id:"SUB_MATERIALIDAD",name:"SUB_MATERIALIDAD",role:"Monitor de Evidencia",description:"Umbral 80% para VBC, bloquea si incompleto",color:"from-emerald-400 to-green-500",icon:e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,kt.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})}},{id:"SUB_RIESGOS",name:"SUB_RIESGOS_ESPECIALES",role:"Detector de Riesgos",description:"EFOS, partes relacionadas, TP, esquemas",color:"from-orange-400 to-red-500",icon:e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),(0,kt.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),(0,kt.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}},{id:"A7_DEFENSA",name:"A7_DEFENSA",role:"Generador de Defensa",description:"\xcdndice de defendibilidad 0-100",color:"from-violet-400 to-purple-500",icon:It}],$t=[{id:"F0",name:"Aprobaci\xf3n BEE",hasLock:!1},{id:"F1",name:"Pre-contrataci\xf3n",hasLock:!1},{id:"F2",name:"Validaci\xf3n Inicio",hasLock:!0,lockReason:"No ejecutar sin BEE/SOW/aprobaciones"},{id:"F3",name:"Ejecuci\xf3n Inicial",hasLock:!1},{id:"F4",name:"Revisi\xf3n Iterativa",hasLock:!1},{id:"F5",name:"Entrega Final",hasLock:!1},{id:"F6",name:"VBC Fiscal/Legal",hasLock:!0,lockReason:"No emitir CFDI sin VBC y 80%+ materialidad"},{id:"F7",name:"Auditor\xeda Interna",hasLock:!1},{id:"F8",name:"CFDI y Pago",hasLock:!0,lockReason:"No pagar sin 3-way match"},{id:"F9",name:"Post-implementaci\xf3n",hasLock:!1}],Jt=[{name:"Raz\xf3n de Negocios",article:"Art. 5-A CFF",points:25,description:"\xbfEl servicio tiene motivaci\xf3n econ\xf3mica real?",color:"from-blue-500 to-indigo-600",icon:Ht},{name:"Beneficio Econ\xf3mico Esperado",article:"BEE",points:25,description:"\xbfQu\xe9 valor se espera: ahorros, ingresos, mitigaci\xf3n de riesgos?",color:"from-green-500 to-emerald-600",icon:Ut},{name:"Materialidad",article:"Art. 69-B CFF",points:25,description:"\xbfHay prueba de que el servicio se prest\xf3?",color:"from-purple-500 to-violet-600",icon:e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,kt.jsx)("polyline",{points:"14 2 14 8 20 8"}),(0,kt.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,kt.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),(0,kt.jsx)("polyline",{points:"10 9 9 9 8 9"})]})}},{name:"Trazabilidad",article:"NOM-151",points:25,description:"\xbfLos documentos est\xe1n fechados e \xedntegros?",color:"from-amber-500 to-orange-600",icon:e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),(0,kt.jsx)("polyline",{points:"2 17 12 22 22 17"}),(0,kt.jsx)("polyline",{points:"2 12 12 17 22 12"})]})}}],Qt=()=>{const[e,t]=(0,a.useState)(null),r=[{range:"0-29",label:"BAJO",color:"#10B981",startAngle:-90,endAngle:-45},{range:"30-49",label:"MODERADO",color:"#F59E0B",startAngle:-45,endAngle:0},{range:"50-69",label:"ALTO",color:"#F97316",startAngle:0,endAngle:45},{range:"70-100",label:"CR\xcdTICO",color:"#EF4444",startAngle:45,endAngle:90}],n=(e,t,r,a)=>{const n=a*Math.PI/180;return{x:e+r*Math.cos(n),y:t+r*Math.sin(n)}},s=(e,t,r,a,s)=>{const l=n(e,t,r,s),o=n(e,t,r,a),i=s-a<=180?"0":"1";return["M",l.x,l.y,"A",r,r,0,i,0,o.x,o.y].join(" ")};return(0,kt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,kt.jsxs)("svg",{viewBox:"0 0 200 120",className:"w-full max-w-[280px]",children:[(0,kt.jsx)("defs",{children:(0,kt.jsxs)("filter",{id:"glow",children:[(0,kt.jsx)("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),(0,kt.jsxs)("feMerge",{children:[(0,kt.jsx)("feMergeNode",{in:"coloredBlur"}),(0,kt.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})}),r.map((r,a)=>(0,kt.jsx)("path",{d:s(100,100,70,r.startAngle,r.endAngle),fill:"none",stroke:r.color,strokeWidth:"20",strokeLinecap:"round",className:"transition-all duration-300",style:{opacity:e===a?1:.8,filter:e===a?"url(#glow)":"none"},onMouseEnter:()=>t(a),onMouseLeave:()=>t(null)},r.label)),(0,kt.jsx)("circle",{cx:"100",cy:"100",r:"8",fill:"#374151"}),(0,kt.jsx)("line",{x1:"100",y1:"100",x2:"100",y2:"45",stroke:"#374151",strokeWidth:"3",strokeLinecap:"round"})]}),(0,kt.jsx)("div",{className:"grid grid-cols-4 gap-2 mt-4 w-full max-w-sm",children:r.map(e=>(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"h-2 rounded-full mb-1",style:{backgroundColor:e.color}}),(0,kt.jsx)("p",{className:"text-[10px] sm:text-xs font-bold",style:{color:e.color},children:e.label}),(0,kt.jsx)("p",{className:"text-[10px] sm:text-xs text-gray-500",children:e.range})]},e.label))})]})},Xt=()=>{const{isAuthenticated:e}=Pt();return(0,kt.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[(0,kt.jsx)("nav",{className:"fixed top-0 w-full bg-white/80 backdrop-blur-xl border-b border-gray-200/50 z-50",children:(0,kt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,kt.jsxs)("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,kt.jsx)("img",{src:"/logo-revisar.png",alt:"REVISAR.IA",className:"h-6 sm:h-8 object-contain"}),(0,kt.jsx)("span",{className:"hidden sm:inline-flex px-2.5 py-1 bg-gradient-to-r from-indigo-500 to-purple-600 text-white text-[10px] sm:text-xs font-bold rounded-full tracking-wide",children:"REVISAR.IA"})]}),(0,kt.jsx)("div",{className:"flex items-center gap-3",children:e?(0,kt.jsx)(ft,{to:"/dashboard",className:"px-5 py-2 bg-gradient-to-r from-[#7FEDD8] to-[#5DD5C0] text-gray-900 rounded-lg font-medium text-sm hover:shadow-lg transition-all",children:"Ir al Dashboard"}):(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)(ft,{to:"/login",className:"px-4 py-2 text-gray-600 hover:text-gray-900 text-sm font-medium transition-colors",children:"Iniciar Sesion"}),(0,kt.jsx)(ft,{to:"/register",className:"px-5 py-2 bg-gradient-to-r from-[#7FEDD8] to-[#5DD5C0] text-gray-900 rounded-lg font-medium text-sm hover:shadow-lg transition-all",children:"Solicitar Acceso"})]})})]})})}),(0,kt.jsx)("div",{className:"h-14 sm:h-16"}),(0,kt.jsx)("section",{className:"py-12 sm:py-16 lg:py-20 px-4 sm:px-6",children:(0,kt.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,kt.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[(0,kt.jsxs)("div",{className:"text-center lg:text-left",children:[(0,kt.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 sm:px-4 py-1.5 sm:py-2 bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-100 rounded-full mb-6",children:[(0,kt.jsx)(It,{className:"w-4 h-4 sm:w-5 sm:h-5 text-indigo-600"}),(0,kt.jsx)("span",{className:"text-xs sm:text-sm font-medium text-indigo-700",children:"Sistema de Auditor\xeda Fiscal Inteligente"})]}),(0,kt.jsxs)("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-4 sm:mb-6 leading-[1.1] tracking-tight",children:["Audita tus servicios e intangibles",(0,kt.jsx)("span",{className:"block bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mt-1",children:"antes de que lo haga el SAT"})]}),(0,kt.jsx)("p",{className:"text-lg sm:text-xl text-gray-500 mb-8 sm:mb-10 leading-relaxed font-light max-w-xl mx-auto lg:mx-0",children:"Revisar-IA tipifica tus servicios, aplica checklists fiscales, construye Defense Files y calcula el riesgo fiscal de cada proyecto. Tu equipo decide; la plataforma hace el trabajo pesado."}),(0,kt.jsxs)("div",{className:"flex flex-wrap justify-center lg:justify-start gap-2 sm:gap-3 mb-8",children:[(0,kt.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 bg-white border border-blue-100 rounded-xl shadow-sm",children:[(0,kt.jsx)(Bt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),(0,kt.jsx)("span",{className:"text-xs sm:text-sm font-semibold text-gray-700 whitespace-nowrap",children:"Agentes IA Especializados"})]}),(0,kt.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 bg-white border border-purple-100 rounded-xl shadow-sm",children:[(0,kt.jsx)(qt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600"}),(0,kt.jsx)("span",{className:"text-xs sm:text-sm font-semibold text-gray-700 whitespace-nowrap",children:"Checklists Fiscales"})]}),(0,kt.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 bg-white border border-emerald-100 rounded-xl shadow-sm",children:[(0,kt.jsx)(It,{className:"w-4 h-4 sm:w-5 sm:h-5 text-emerald-600"}),(0,kt.jsx)("span",{className:"text-xs sm:text-sm font-semibold text-gray-700 whitespace-nowrap",children:"Defense Files"})]})]}),(0,kt.jsxs)("div",{className:"flex flex-wrap justify-center lg:justify-start gap-3 sm:gap-4",children:[(0,kt.jsx)(ft,{to:"/register",className:"px-8 sm:px-10 py-3.5 sm:py-4 text-base sm:text-lg font-semibold bg-gradient-to-r from-[#7FEDD8] to-[#5DD5C0] text-gray-900 rounded-xl shadow-xl hover:shadow-2xl transition-all",children:"Solicitar Acceso"}),(0,kt.jsxs)("a",{href:"#video-demo",className:"inline-flex items-center gap-2 px-6 sm:px-8 py-3.5 sm:py-4 text-base sm:text-lg font-semibold text-gray-700 bg-white border-2 border-gray-200 rounded-xl hover:border-indigo-300 hover:text-indigo-600 transition-all duration-300",children:[(0,kt.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Ver Demo"]})]})]}),(0,kt.jsx)("div",{className:"flex justify-center lg:justify-end",children:(0,kt.jsx)("img",{src:"/mascot.webp",alt:"Revisar.IA Mascota",className:"w-64 sm:w-80 lg:w-96 h-auto object-contain drop-shadow-2xl"})})]})})}),(0,kt.jsx)("section",{id:"video-demo",className:"py-12 sm:py-16 px-4 sm:px-6 bg-gradient-to-b from-white to-slate-50",children:(0,kt.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,kt.jsxs)("div",{className:"text-center mb-10",children:[(0,kt.jsx)("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-3",children:"Explora Revisar.IA"}),(0,kt.jsx)("p",{className:"text-gray-500",children:"Asistente de facturaci\xf3n y videos demostrativos"})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[(0,kt.jsxs)("div",{className:"bg-gradient-to-br from-emerald-600 to-teal-700 rounded-2xl p-6 shadow-xl",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,kt.jsx)("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:(0,kt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-xl font-bold text-white",children:"Facturar.IA"}),(0,kt.jsx)("p",{className:"text-emerald-100 text-sm",children:"Asistente de Facturaci\xf3n SAT"})]})]}),(0,kt.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 mb-4",children:(0,kt.jsx)("p",{className:"text-white/90 text-sm leading-relaxed",children:"Habla con nuestro asistente de voz para encontrar la clave SAT correcta para tus facturas. Te ayudar\xe1 a redactar conceptos deducibles y evitar errores fiscales."})}),(0,kt.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3 text-white/90",children:[(0,kt.jsx)("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0",children:(0,kt.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,kt.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,kt.jsx)("span",{className:"text-sm",children:"Encuentra claves SAT por voz o texto"})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-3 text-white/90",children:[(0,kt.jsx)("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0",children:(0,kt.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,kt.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,kt.jsx)("span",{className:"text-sm",children:"Sugerencias de conceptos deducibles"})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-3 text-white/90",children:[(0,kt.jsx)("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0",children:(0,kt.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,kt.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,kt.jsx)("span",{className:"text-sm",children:"An\xe1lisis de documentos para facturaci\xf3n"})]})]}),(0,kt.jsx)(Ft,{})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,kt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,kt.jsxs)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Videos Demostrativos"}),(0,kt.jsx)("p",{className:"text-gray-500 text-sm",children:"Aprende a usar la plataforma"})]})]}),(0,kt.jsx)(Mt,{videos:[{id:"1156363021",title:"VIDEO 1 - REVISAR-IA"},{id:"1156363031",title:"VIDEO 2 - REVISAR-IA"},{id:"1156561430",title:"VIDEO 3 - REVISAR-IA"}]})]})]})]})}),(0,kt.jsx)("section",{className:"py-12 sm:py-16 px-4 sm:px-6",children:(0,kt.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,kt.jsxs)("div",{className:"text-center mb-10",children:[(0,kt.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-200 rounded-full mb-4",children:[(0,kt.jsx)(Bt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600"}),(0,kt.jsx)("span",{className:"text-xs sm:text-sm font-medium text-purple-700",children:"Sistema Multi-Agente"})]}),(0,kt.jsx)("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-3",children:"7 Agentes Principales"}),(0,kt.jsx)("p",{className:"text-gray-500 max-w-2xl mx-auto",children:"Cada agente tiene un rol especializado en el proceso de auditor\xeda fiscal"})]}),(0,kt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-5",children:Kt.map(e=>{const t=e.icon;return(0,kt.jsxs)("div",{className:"bg-white rounded-2xl p-5 border-2 ".concat(e.borderColor," hover:shadow-xl transition-all duration-300 group"),children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,kt.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br ".concat(e.color," flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform"),children:(0,kt.jsx)(t,{className:"w-6 h-6 text-white"})}),(0,kt.jsx)("span",{className:"text-xs font-bold ".concat(e.textColor," bg-").concat(e.textColor.replace("text-",""),"/10 px-2 py-1 rounded-full"),children:e.id})]}),(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:e.name}),(0,kt.jsxs)("p",{className:"text-sm text-gray-500 mb-2",children:[e.persona," - ",e.role]}),(0,kt.jsx)("p",{className:"text-xs text-gray-400",children:e.description})]},e.id)})})]})}),(0,kt.jsx)("section",{className:"py-12 sm:py-16 px-4 sm:px-6 bg-gradient-to-b from-slate-50 to-white",children:(0,kt.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,kt.jsxs)("div",{className:"text-center mb-10",children:[(0,kt.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200 rounded-full mb-4",children:[(0,kt.jsx)(Vt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),(0,kt.jsx)("span",{className:"text-xs sm:text-sm font-medium text-blue-700",children:"Subagentes Especializados"})]}),(0,kt.jsx)("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-3",children:"4 Subagentes"}),(0,kt.jsx)("p",{className:"text-gray-500",children:"M\xf3dulos especializados que complementan a los agentes principales"})]}),(0,kt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-5",children:Gt.map(e=>{const t=e.icon;return(0,kt.jsx)("div",{className:"bg-white rounded-2xl p-5 border border-gray-200 hover:shadow-xl transition-all duration-300 group",children:(0,kt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,kt.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br ".concat(e.color," flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform flex-shrink-0"),children:(0,kt.jsx)(t,{className:"w-6 h-6 text-white"})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:e.name}),(0,kt.jsx)("p",{className:"text-sm text-gray-600 font-medium mb-1",children:e.role}),(0,kt.jsx)("p",{className:"text-xs text-gray-400",children:e.description})]})]})},e.id)})})]})}),(0,kt.jsx)("section",{className:"py-12 sm:py-16 px-4 sm:px-6",children:(0,kt.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,kt.jsxs)("div",{className:"text-center mb-10",children:[(0,kt.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-full mb-4",children:[(0,kt.jsx)(Wt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-600"}),(0,kt.jsx)("span",{className:"text-xs sm:text-sm font-medium text-amber-700",children:"Procedimiento Operativo Est\xe1ndar"})]}),(0,kt.jsx)("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-3",children:"Fases POE F0-F9"}),(0,kt.jsx)("p",{className:"text-gray-500 max-w-2xl mx-auto",children:"10 fases con 3 candados duros que garantizan el cumplimiento obligatorio"})]}),(0,kt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3 sm:gap-4",children:$t.map((e,t)=>(0,kt.jsxs)("div",{className:"relative bg-white rounded-xl p-4 border-2 ".concat(e.hasLock?"border-red-300 bg-red-50/50":"border-gray-200"," hover:shadow-lg transition-all group"),children:[e.hasLock&&(0,kt.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center shadow-lg",children:(0,kt.jsx)(Wt,{className:"w-3 h-3 text-white"})}),(0,kt.jsx)("div",{className:"text-2xl font-bold mb-1 ".concat(e.hasLock?"text-red-600":"text-gray-900"),children:e.id}),(0,kt.jsx)("p",{className:"text-xs text-gray-600 font-medium",children:e.name}),e.hasLock&&e.lockReason&&(0,kt.jsx)("div",{className:"hidden group-hover:block absolute left-0 right-0 -bottom-16 z-10 bg-red-600 text-white text-xs p-2 rounded-lg shadow-lg",children:e.lockReason})]},e.id))}),(0,kt.jsx)("div",{className:"mt-8 flex justify-center",children:(0,kt.jsxs)("div",{className:"inline-flex items-center gap-4 px-6 py-3 bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-4 h-4 bg-gray-200 rounded"}),(0,kt.jsx)("span",{className:"text-xs text-gray-600",children:"Fase Normal"})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-4 h-4 bg-red-200 rounded flex items-center justify-center",children:(0,kt.jsx)(Wt,{className:"w-2.5 h-2.5 text-red-600"})}),(0,kt.jsx)("span",{className:"text-xs text-gray-600",children:"Candado Duro"})]})]})})]})}),(0,kt.jsx)("section",{className:"py-12 sm:py-16 px-4 sm:px-6 bg-gradient-to-b from-white to-slate-50",children:(0,kt.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,kt.jsxs)("div",{className:"text-center mb-10",children:[(0,kt.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-full mb-4",children:[(0,kt.jsx)(qt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"}),(0,kt.jsx)("span",{className:"text-xs sm:text-sm font-medium text-green-700",children:"Evaluaci\xf3n Fiscal"})]}),(0,kt.jsx)("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-3",children:"4 Pilares de Evaluaci\xf3n"}),(0,kt.jsx)("p",{className:"text-gray-500",children:"Cada pilar contribuye 25 puntos a la puntuaci\xf3n total de 100"})]}),(0,kt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-5",children:Jt.map(e=>{const t=e.icon;return(0,kt.jsx)("div",{className:"bg-white rounded-2xl p-5 border border-gray-200 hover:shadow-xl transition-all duration-300 group",children:(0,kt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,kt.jsx)("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br ".concat(e.color," flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform flex-shrink-0"),children:(0,kt.jsx)(t,{className:"w-7 h-7 text-white"})}),(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:e.name}),(0,kt.jsxs)("span",{className:"text-lg font-bold text-[#7FEDD8]",children:[e.points," pts"]})]}),(0,kt.jsx)("p",{className:"text-sm text-indigo-600 font-medium mb-2",children:e.article}),(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]})]})},e.name)})})]})}),(0,kt.jsx)("section",{className:"py-12 sm:py-16 px-4 sm:px-6",children:(0,kt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,kt.jsxs)("div",{className:"text-center mb-10",children:[(0,kt.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-full mb-4",children:[(0,kt.jsx)(Ut,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"}),(0,kt.jsx)("span",{className:"text-xs sm:text-sm font-medium text-red-700",children:"Medici\xf3n de Riesgo"})]}),(0,kt.jsx)("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-3",children:"Risk Gauge"}),(0,kt.jsx)("p",{className:"text-gray-500",children:"Indicador visual del nivel de riesgo fiscal de cada proyecto"})]}),(0,kt.jsx)("div",{className:"bg-white rounded-2xl p-8 border border-gray-200 shadow-lg",children:(0,kt.jsx)(Qt,{})})]})}),(0,kt.jsx)("section",{className:"py-12 sm:py-16 px-4 sm:px-6 bg-gradient-to-b from-slate-50 to-slate-100",children:(0,kt.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,kt.jsx)("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"\xbfListo para Proteger tu Empresa?"}),(0,kt.jsx)("p",{className:"text-gray-500 mb-8 max-w-2xl mx-auto",children:"Solicita acceso a la plataforma y protege tu empresa ante auditor\xedas del SAT con documentaci\xf3n robusta y expedientes de defensa automatizados."}),(0,kt.jsxs)("div",{className:"flex flex-wrap justify-center gap-4",children:[(0,kt.jsx)(ft,{to:"/register",className:"px-8 py-3.5 bg-gradient-to-r from-[#7FEDD8] to-[#5DD5C0] text-gray-900 rounded-xl font-semibold shadow-xl hover:shadow-2xl transition-all",children:"Solicitar Acceso"}),(0,kt.jsx)("a",{href:"mailto:hola@satma.mx",className:"px-8 py-3.5 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:border-indigo-300 hover:text-indigo-600 transition-all",children:"Contactar Ventas"})]})]})}),(0,kt.jsx)("footer",{className:"bg-[#1A1A1A] text-white py-10 sm:py-12 border-t border-gray-800/50",children:(0,kt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,kt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,kt.jsxs)("div",{className:"sm:col-span-2",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-4",children:[(0,kt.jsx)("img",{src:"/logo-revisar-white.png",alt:"REVISAR.IA",className:"h-6 sm:h-7 object-contain"}),(0,kt.jsx)("span",{className:"px-2 py-0.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white text-[10px] sm:text-xs font-bold rounded-full",children:"REVISAR.IA"})]}),(0,kt.jsx)("p",{className:"text-gray-400 text-sm mb-4 font-light",children:"Cumplimiento fiscal inteligente para tus proyectos intangibles."}),(0,kt.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,kt.jsx)("span",{className:"px-2 py-1 bg-gray-800/80 text-gray-400 rounded-lg text-[10px] sm:text-xs",children:"7 Agentes"}),(0,kt.jsx)("span",{className:"px-2 py-1 bg-gray-800/80 text-gray-400 rounded-lg text-[10px] sm:text-xs",children:"4 Subagentes"}),(0,kt.jsx)("span",{className:"px-2 py-1 bg-gray-800/80 text-gray-400 rounded-lg text-[10px] sm:text-xs",children:"10 Fases POE"}),(0,kt.jsx)("span",{className:"px-2 py-1 bg-gray-800/80 text-gray-400 rounded-lg text-[10px] sm:text-xs",children:"3 Candados"})]}),(0,kt.jsx)("p",{className:"text-xs text-gray-500",children:"\xa9 2026 Revisar.IA. Todos los derechos reservados."})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h4",{className:"font-semibold mb-4 text-[#7FEDD8] text-sm",children:"Caracter\xedsticas"}),(0,kt.jsxs)("ul",{className:"space-y-2 text-gray-400 text-xs sm:text-sm",children:[(0,kt.jsx)("li",{children:(0,kt.jsx)("a",{href:"#",className:"hover:text-[#7FEDD8] transition-colors",children:"Nuestro Producto"})}),(0,kt.jsx)("li",{children:(0,kt.jsx)("a",{href:"#",className:"hover:text-[#7FEDD8] transition-colors",children:"C\xf3mo Funciona"})}),(0,kt.jsx)("li",{children:(0,kt.jsx)("a",{href:"#",className:"hover:text-[#7FEDD8] transition-colors",children:"Casos de Uso"})}),(0,kt.jsx)("li",{children:(0,kt.jsx)("a",{href:"#",className:"hover:text-[#7FEDD8] transition-colors",children:"Preguntas Frecuentes"})})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h4",{className:"font-semibold mb-4 text-[#7FEDD8] text-sm",children:"Recursos"}),(0,kt.jsxs)("ul",{className:"space-y-2 text-gray-400 text-xs sm:text-sm",children:[(0,kt.jsx)("li",{children:(0,kt.jsx)("a",{href:"#",className:"hover:text-[#7FEDD8] transition-colors",children:"T\xe9rminos y Condiciones"})}),(0,kt.jsx)("li",{children:(0,kt.jsx)("a",{href:"#",className:"hover:text-[#7FEDD8] transition-colors",children:"Tu Privacidad"})}),(0,kt.jsx)("li",{children:(0,kt.jsx)("a",{href:"#",className:"hover:text-[#7FEDD8] transition-colors",children:"Compliance SAT"})}),(0,kt.jsx)("li",{children:(0,kt.jsx)("a",{href:"mailto:hola@satma.mx",className:"hover:text-[#7FEDD8] transition-colors",children:"Hablemos"})})]})]})]}),(0,kt.jsx)("div",{className:"border-t border-gray-800/50 mt-8 pt-8 text-center",children:(0,kt.jsxs)("p",{className:"text-gray-500 text-xs sm:text-sm flex items-center justify-center gap-2",children:["Construido con ",(0,kt.jsx)(Bt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-[#7FEDD8]"})," por el equipo de Revisar.IA \u2022 Gobernanza Fiscal Inteligente"]})})]})})]})};function Yt(){const[e,t]=(0,a.useState)({email:"",password:"",confirmPassword:"",full_name:"",company:""}),[r,n]=(0,a.useState)(!1),[l,o]=(0,a.useState)(""),[i,c]=(0,a.useState)(!1),{register:d}=Pt(),u=xe(),m=r=>{t((0,s.A)((0,s.A)({},e),{},{[r.target.name]:r.target.value}))};return i?(0,kt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,kt.jsx)("div",{className:"max-w-md w-full",children:(0,kt.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,kt.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,kt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Cuenta Pendiente de Aprobaci\xf3n"}),(0,kt.jsx)("p",{className:"text-gray-600 mb-6",children:"Tu cuenta ha sido creada y est\xe1 pendiente de aprobaci\xf3n. Te notificaremos cuando un administrador apruebe tu acceso."}),(0,kt.jsx)(ft,{to:"/login",className:"inline-block w-full bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors text-center",children:"Volver al Inicio de Sesi\xf3n"})]})})})}):(0,kt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,kt.jsx)("div",{className:"max-w-md w-full",children:(0,kt.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,kt.jsxs)("div",{className:"text-center mb-8",children:[(0,kt.jsx)("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,kt.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),(0,kt.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Crear Cuenta"}),(0,kt.jsx)("p",{className:"text-gray-500 mt-2",children:"Reg\xedstrate para acceder al sistema"})]}),l&&(0,kt.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:l}),(0,kt.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),o(""),e.password===e.confirmPassword)if(e.password.length<6)o("La contrase\xf1a debe tener al menos 6 caracteres");else{n(!0);try{const t=await d({email:e.email,password:e.password,full_name:e.full_name,company:e.company});t.success?t.pending_approval?c(!0):u("/onboarding"):o(t.error||"Error al registrar")}catch(r){o("Error al registrar")}finally{n(!1)}}else o("Las contrase\xf1as no coinciden")},className:"space-y-5",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre completo"}),(0,kt.jsx)("input",{type:"text",name:"full_name",value:e.full_name,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"Tu nombre completo",required:!0})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electr\xf3nico"}),(0,kt.jsx)("input",{type:"email",name:"email",value:e.email,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"tu@email.com",required:!0})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Empresa (opcional)"}),(0,kt.jsx)("input",{type:"text",name:"company",value:e.company,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"Nombre de tu empresa"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrase\xf1a"}),(0,kt.jsx)("input",{type:"password",name:"password",value:e.password,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"M\xednimo 6 caracteres",required:!0})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar contrase\xf1a"}),(0,kt.jsx)("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"Repite tu contrase\xf1a",required:!0})]}),(0,kt.jsx)("button",{type:"submit",disabled:r,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r?(0,kt.jsxs)("span",{className:"flex items-center justify-center",children:[(0,kt.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,kt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,kt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creando cuenta..."]}):"Crear Cuenta"})]}),(0,kt.jsx)("div",{className:"mt-6 text-center",children:(0,kt.jsxs)("p",{className:"text-gray-600",children:["\xbfYa tienes cuenta?"," ",(0,kt.jsx)(ft,{to:"/login",className:"text-green-600 font-medium hover:text-green-700",children:"Inicia sesi\xf3n"})]})})]})})})}const Zt=wt.A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL?"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,"/api"):"/api",headers:{"Content-Type":"application/json"}});Zt.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});const er=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},tr=e=>e?new Date(e).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-";function rr(e){var t,r,n;let{usuarioId:l,onClose:o,onSave:i}=e;const[c,d]=(0,a.useState)("perfil"),[u,m]=(0,a.useState)(!0),[p,x]=(0,a.useState)(!1),[h,f]=(0,a.useState)(null),[g,b]=(0,a.useState)(null),[v,y]=(0,a.useState)([]),[j,N]=(0,a.useState)(""),[w,k]=(0,a.useState)(!1);(0,a.useEffect)(()=>{S()},[l]);const S=async()=>{try{m(!0),N("");const e=(await Zt.get("/admin/usuarios/".concat(l))).data.usuario;if(f(e),null!==e&&void 0!==e&&e.empresa_id)try{const t=await Zt.get("/admin/empresas/".concat(e.empresa_id));b(t.data.empresa);const r=await Zt.get("/admin/empresas/".concat(e.empresa_id,"/documentos"));y(r.data.documentos||[])}catch(r){console.log("No empresa data found")}}catch(a){var e,t;N((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Error cargando usuario")}finally{m(!1)}};return u?(0,kt.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,kt.jsxs)("div",{className:"bg-white rounded-2xl p-8",children:[(0,kt.jsx)("div",{className:"w-8 h-8 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin mx-auto"}),(0,kt.jsx)("p",{className:"text-gray-500 mt-2",children:"Cargando..."})]})}):(0,kt.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,kt.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col shadow-xl",children:[(0,kt.jsxs)("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 p-6",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,kt.jsx)("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:(0,kt.jsx)("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{className:"text-xl font-bold text-white",children:(null===h||void 0===h?void 0:h.full_name)||"Usuario"}),(0,kt.jsx)("p",{className:"text-emerald-100",children:null===h||void 0===h?void 0:h.email})]})]}),(0,kt.jsx)("button",{onClick:o,className:"text-white/80 hover:text-white transition-colors",children:(0,kt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,kt.jsx)("div",{className:"flex gap-2 mt-4",children:["perfil","empresa","documentos"].map(e=>(0,kt.jsxs)("button",{onClick:()=>d(e),className:"px-4 py-2 rounded-lg font-medium transition flex items-center gap-2 ".concat(c===e?"bg-white text-emerald-600":"bg-white/20 text-white hover:bg-white/30"),children:["perfil"===e&&(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"empresa"===e&&(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"documentos"===e&&(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),e.charAt(0).toUpperCase()+e.slice(1)]},e))})]}),j&&(0,kt.jsxs)("div",{className:"mx-6 mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-2",children:[(0,kt.jsx)("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),j]}),(0,kt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:["perfil"===c&&h&&(0,kt.jsxs)("div",{className:"space-y-6",children:[(0,kt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo"}),(0,kt.jsx)("input",{type:"text",value:h.full_name||"",onChange:e=>f((0,s.A)((0,s.A)({},h),{},{full_name:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,kt.jsx)("input",{type:"email",value:h.email||"",onChange:e=>f((0,s.A)((0,s.A)({},h),{},{email:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Empresa (texto)"}),(0,kt.jsx)("input",{type:"text",value:h.company||"",onChange:e=>f((0,s.A)((0,s.A)({},h),{},{company:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rol"}),(0,kt.jsxs)("select",{value:h.role||"user",onChange:e=>f((0,s.A)((0,s.A)({},h),{},{role:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[(0,kt.jsx)("option",{value:"user",children:"Usuario"}),(0,kt.jsx)("option",{value:"admin",children:"Administrador"})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),(0,kt.jsxs)("select",{value:h.approval_status||"pending",onChange:e=>f((0,s.A)((0,s.A)({},h),{},{approval_status:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[(0,kt.jsx)("option",{value:"pending",children:"Pendiente"}),(0,kt.jsx)("option",{value:"approved",children:"Aprobado"}),(0,kt.jsx)("option",{value:"rejected",children:"Rechazado"})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registrado"}),(0,kt.jsx)("p",{className:"px-4 py-2 bg-gray-50 rounded-lg text-gray-600",children:tr(h.created_at)})]})]}),(0,kt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Empresas permitidas"}),(0,kt.jsxs)("p",{className:"text-sm text-gray-500 mb-2",children:[(null===(t=h.allowed_companies)||void 0===t?void 0:t.length)||0," empresa(s) asignada(s)"]}),(null===(r=h.allowed_companies)||void 0===r?void 0:r.length)>0&&(0,kt.jsx)("div",{className:"flex flex-wrap gap-2",children:h.allowed_companies.map((e,t)=>(0,kt.jsx)("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-sm",children:e},t))})]}),(0,kt.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,kt.jsxs)("button",{onClick:async()=>{if(h){x(!0),N("");try{await Zt.put("/admin/usuarios/".concat(l),{nombre:h.full_name,email:h.email,rol:h.role,estado:"approved"===h.approval_status?"aprobado":"rejected"===h.approval_status?"rechazado":"pendiente"}),i()}catch(r){var e,t;N((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Error guardando usuario")}finally{x(!1)}}},disabled:p,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 transition-colors",children:[p?(0,kt.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Guardar Cambios"]}),(0,kt.jsxs)("button",{onClick:async()=>{if(window.confirm("\xbfELIMINAR este usuario? Esta accion no se puede deshacer.")&&window.confirm("\xbfEstas SEGURO? Se eliminaran todos sus datos."))try{await Zt.delete("/admin/usuarios/".concat(l)),o(),i()}catch(r){var e,t;N((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Error eliminando usuario")}},className:"px-6 py-3 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 flex items-center gap-2 transition-colors",children:[(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Eliminar"]})]})]}),"empresa"===c&&(0,kt.jsx)("div",{className:"space-y-6",children:g?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre comercial"}),(0,kt.jsx)("input",{type:"text",value:g.nombre||"",onChange:e=>b((0,s.A)((0,s.A)({},g),{},{nombre:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RFC"}),(0,kt.jsx)("input",{type:"text",value:g.rfc||"",onChange:e=>b((0,s.A)((0,s.A)({},g),{},{rfc:e.target.value.toUpperCase()})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent uppercase",maxLength:13})]}),(0,kt.jsxs)("div",{className:"col-span-2",children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Razon social"}),(0,kt.jsx)("input",{type:"text",value:g.razon_social||"",onChange:e=>b((0,s.A)((0,s.A)({},g),{},{razon_social:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industria"}),(0,kt.jsx)("p",{className:"px-4 py-2 bg-gray-50 rounded-lg text-gray-600 capitalize",children:(null===(n=g.industria)||void 0===n?void 0:n.replace(/_/g," "))||"-"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),(0,kt.jsx)("p",{className:"px-4 py-2 rounded-lg ".concat(g.activa?"bg-green-50 text-green-700":"bg-gray-50 text-gray-600"),children:g.activa?"Activa":"Inactiva"})]})]}),(0,kt.jsx)("div",{className:"flex gap-3 pt-4 border-t",children:(0,kt.jsxs)("button",{onClick:async()=>{if(g){x(!0),N("");try{await Zt.put("/admin/empresas/".concat(g.id),{nombre_comercial:g.nombre,razon_social:g.razon_social,rfc:g.rfc}),i()}catch(r){var e,t;N((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Error guardando empresa")}finally{x(!1)}}},disabled:p,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 transition-colors",children:[p?(0,kt.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Guardar Empresa"]})})]}):(0,kt.jsxs)("div",{className:"text-center py-12",children:[(0,kt.jsx)("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),(0,kt.jsx)("p",{className:"text-gray-500 mb-4",children:"Este usuario no tiene empresa asociada"}),(0,kt.jsx)("p",{className:"text-sm text-gray-400",children:"La empresa se asocia cuando el usuario ingresa su empresa durante el registro"})]})}),"documentos"===c&&(0,kt.jsxs)("div",{className:"space-y-6",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"font-semibold text-gray-800",children:"Knowledge Base"}),(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:"Documentos para el sistema RAG de esta empresa"})]}),g&&(0,kt.jsxs)("div",{className:"flex gap-2",children:[(0,kt.jsxs)("button",{onClick:async()=>{if(g)try{const e=await Zt.post("/admin/knowledge-base/reindex/".concat(g.id));alert("Reindexacion iniciada: ".concat(e.data.documentos_procesados," documento(s)"))}catch(r){var e,t;N((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Error reindexando")}},className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reindexar"]}),(0,kt.jsxs)("label",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 cursor-pointer transition-colors",children:[w?(0,kt.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Subir Documentos",(0,kt.jsx)("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.txt,.xlsx,.csv",onChange:async e=>{const t=e.target.files,r=(null===h||void 0===h?void 0:h.cliente_id)||(null===h||void 0===h?void 0:h.empresa_id);if(t&&r){k(!0),N("");try{for(let a of Array.from(t)){const e=new FormData;e.append("file",a),await Zt.post("/admin/clientes/".concat(r,"/documentos"),e,{headers:{"Content-Type":"multipart/form-data"}})}const e=await Zt.get("/admin/clientes/".concat(r));y(e.data.documentos||[])}catch(s){var a,n;N((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.detail)||"Error subiendo documentos")}finally{k(!1),e.target.value=""}}},className:"hidden",disabled:w})]})]})]}),g?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,kt.jsxs)("div",{className:"bg-emerald-50 rounded-xl p-4 text-center",children:[(0,kt.jsx)("p",{className:"text-2xl font-bold text-emerald-600",children:v.length}),(0,kt.jsx)("p",{className:"text-sm text-gray-600",children:"Documentos"})]}),(0,kt.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 text-center",children:[(0,kt.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:v.reduce((e,t)=>e+(t.chunks||0),0)}),(0,kt.jsx)("p",{className:"text-sm text-gray-600",children:"Chunks RAG"})]}),(0,kt.jsxs)("div",{className:"bg-purple-50 rounded-xl p-4 text-center",children:[(0,kt.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:er(v.reduce((e,t)=>e+(t.tama\u00f1o||0),0))}),(0,kt.jsx)("p",{className:"text-sm text-gray-600",children:"Tama\xf1o Total"})]})]}),v.length>0?(0,kt.jsx)("div",{className:"border rounded-lg divide-y",children:v.map(e=>{var t;return(0,kt.jsxs)("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,kt.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"font-medium text-gray-800",children:e.nombre}),(0,kt.jsxs)("p",{className:"text-sm text-gray-500",children:[er(e.tama\u00f1o)," | ",null===(t=e.tipo)||void 0===t?void 0:t.toUpperCase()," | ",tr(e.fecha_subida)]})]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("procesado"===e.estado?"bg-green-100 text-green-700":"error"===e.estado?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"),children:e.estado}),(0,kt.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEliminar este documento del Knowledge Base?"))try{await Zt.delete("/admin/knowledge-base/".concat(e)),y(t=>t.filter(t=>t.id!==e))}catch(a){var t,r;N((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Error eliminando documento")}})(e.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar documento",children:(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},e.id)})}):(0,kt.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-200 rounded-lg",children:[(0,kt.jsx)("svg",{className:"w-12 h-12 text-gray-300 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,kt.jsx)("p",{className:"text-gray-500",children:"No hay documentos en el Knowledge Base"}),(0,kt.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Sube documentos para alimentar el sistema RAG"})]})]}):(0,kt.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-200 rounded-lg",children:[(0,kt.jsx)("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),(0,kt.jsx)("p",{className:"text-gray-500 mb-2",children:"No hay empresa asociada"}),(0,kt.jsx)("p",{className:"text-sm text-gray-400",children:"El Knowledge Base esta vinculado a empresas"})]})]})]})]})})}const ar=wt.A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL?"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,"/api"):"/api",headers:{"Content-Type":"application/json"}});ar.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});const nr=e=>{switch(e){case"approved":return(0,kt.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-700 rounded-full",children:"Aprobado"});case"rejected":return(0,kt.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-700 rounded-full",children:"Rechazado"});default:return(0,kt.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-700 rounded-full",children:"Pendiente"})}};function sr(){const{user:e,loading:t}=Pt(),[r,n]=(0,a.useState)("usuarios"),[l,o]=(0,a.useState)([]),[i,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,p]=(0,a.useState)([]),[x,h]=(0,a.useState)(!0),[f,g]=(0,a.useState)(null),[b,v]=(0,a.useState)({type:"",text:""}),[y,j]=(0,a.useState)(null),[N,w]=(0,a.useState)([]),[k,S]=(0,a.useState)(null),[C,E]=(0,a.useState)({full_name:"",email:"",company:"",role:"user"}),[_,A]=(0,a.useState)(null),[L,R]=(0,a.useState)(null),[T,O]=(0,a.useState)({nombre_comercial:"",razon_social:"",rfc:"",industria:"",vision:"",mision:"",plan:"basico"}),[z,P]=(0,a.useState)(!1),[D,M]=(0,a.useState)(!1);(0,a.useEffect)(()=>{"admin"===(null===e||void 0===e?void 0:e.role)&&(F(),I(),B())},[e]);const F=async()=>{try{h(!0);const[e,t]=await Promise.all([ar.get("/auth/admin/pending-users"),ar.get("/auth/admin/all-users")]);o(e.data.users||[]),c(t.data.users||[])}catch(e){console.error("Error loading users:",e),v({type:"error",text:"Error al cargar usuarios"})}finally{h(!1)}},I=async()=>{try{const e=await ar.get("/auth/admin/companies");u(e.data.companies||[])}catch(e){console.error("Error loading companies:",e)}},B=async()=>{try{const e=(await ar.get("/empresas/")).data,t=Array.isArray(e)?e:(null===e||void 0===e?void 0:e.empresas)||(null===e||void 0===e?void 0:e.data)||[];p(t)}catch(e){console.error("Error loading empresas:",e),p([])}},W=()=>{R(null),O({nombre_comercial:"",razon_social:"",rfc:"",industria:"",vision:"",mision:"",plan:"basico"})},U=()=>{j(null),w([])},H=()=>{S(null),E({full_name:"",email:"",company:"",role:"user"})};return(0,a.useEffect)(()=>{if(b.text){const e=setTimeout(()=>v({type:"",text:""}),5e3);return()=>clearTimeout(e)}},[b]),t?(0,kt.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"animate-spin text-4xl mb-4",children:"\u231b"}),(0,kt.jsx)("p",{className:"text-gray-600",children:"Cargando..."})]})}):e&&"admin"===e.role?x?(0,kt.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"animate-spin text-4xl mb-4",children:"\u231b"}),(0,kt.jsx)("p",{className:"text-gray-600",children:"Cargando panel de administracion..."})]})}):(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,kt.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,kt.jsxs)("div",{className:"mb-8",children:[(0,kt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Panel de Administracion"}),(0,kt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Gestion de usuarios, empresas y permisos"}),(0,kt.jsxs)("div",{className:"mt-6 flex gap-2 border-b border-gray-200",children:[(0,kt.jsx)("button",{onClick:()=>n("usuarios"),className:"px-4 py-2 text-sm font-medium rounded-t-lg transition-colors ".concat("usuarios"===r?"bg-white text-indigo-600 border-t border-l border-r border-gray-200 -mb-px":"text-gray-500 hover:text-gray-700"),children:"Usuarios"}),(0,kt.jsx)("button",{onClick:()=>n("empresas"),className:"px-4 py-2 text-sm font-medium rounded-t-lg transition-colors ".concat("empresas"===r?"bg-white text-indigo-600 border-t border-l border-r border-gray-200 -mb-px":"text-gray-500 hover:text-gray-700"),children:"Empresas"})]})]}),b.text&&(0,kt.jsx)("div",{className:"mb-6 p-4 rounded-lg ".concat("success"===b.type?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"),children:(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:["success"===b.type?(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,kt.jsx)("span",{children:b.text})]})}),y&&(0,kt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[80vh] overflow-hidden",children:[(0,kt.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Configurar Empresas Permitidas"}),(0,kt.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Usuario: ",y.email]})]}),(0,kt.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[50vh]",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Selecciona las empresas que este usuario puede ver. Si no seleccionas ninguna, el usuario vera todas las empresas."}),0===d.length?(0,kt.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No hay empresas disponibles"}):(0,kt.jsx)("div",{className:"space-y-2",children:d.map(e=>(0,kt.jsxs)("label",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:bg-gray-50 cursor-pointer",children:[(0,kt.jsx)("input",{type:"checkbox",checked:N.includes(e),onChange:()=>(e=>{w(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e),className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),(0,kt.jsx)("span",{className:"text-gray-900",children:e})]},e))})]}),(0,kt.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[(0,kt.jsx)("button",{onClick:U,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),(0,kt.jsx)("button",{onClick:async()=>{if(y)try{g(y.user_id);const e=await ar.post("/auth/admin/user/".concat(y.user_id,"/allowed-companies"),{allowed_companies:N});e.data.success&&(v({type:"success",text:e.data.message}),await F(),U())}catch(r){var e,t;console.error("Error updating allowed companies:",r),v({type:"error",text:(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Error al actualizar empresas"})}finally{g(null)}},disabled:f===y.user_id,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:f===y.user_id?"Guardando...":"Guardar"})]})]})}),k&&(0,kt.jsx)("div",{className:"fixed inset-0 bg-gradient-to-br from-slate-900/80 to-slate-800/80 backdrop-blur-sm flex items-center justify-center z-50",children:(0,kt.jsxs)("div",{className:"bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl max-w-md w-full mx-4 border border-white/20 overflow-hidden",children:[(0,kt.jsxs)("div",{className:"px-6 py-5 bg-gradient-to-r from-indigo-500 to-purple-600",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Editar Usuario"}),(0,kt.jsx)("p",{className:"text-sm text-indigo-100 mt-1",children:k.email})]}),(0,kt.jsxs)("div",{className:"p-6 space-y-5",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre completo"}),(0,kt.jsx)("input",{type:"text",value:C.full_name,onChange:e=>E((0,s.A)((0,s.A)({},C),{},{full_name:e.target.value})),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all outline-none",placeholder:"Nombre completo"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,kt.jsx)("input",{type:"email",value:C.email,onChange:e=>E((0,s.A)((0,s.A)({},C),{},{email:e.target.value})),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all outline-none",placeholder:"correo@ejemplo.com"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Empresa"}),(0,kt.jsxs)("select",{value:C.company,onChange:e=>E((0,s.A)((0,s.A)({},C),{},{company:e.target.value})),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all outline-none bg-white",children:[(0,kt.jsx)("option",{value:"",children:"Seleccionar empresa..."}),d.map(e=>(0,kt.jsx)("option",{value:e,children:e},e))]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rol"}),(0,kt.jsxs)("select",{value:C.role,onChange:e=>E((0,s.A)((0,s.A)({},C),{},{role:e.target.value})),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all outline-none bg-white",children:[(0,kt.jsx)("option",{value:"user",children:"Usuario"}),(0,kt.jsx)("option",{value:"admin",children:"Administrador"})]})]})]}),(0,kt.jsxs)("div",{className:"px-6 py-4 bg-gray-50/80 border-t border-gray-100 flex justify-end gap-3",children:[(0,kt.jsx)("button",{onClick:H,className:"px-5 py-2.5 text-gray-700 bg-white rounded-lg hover:bg-gray-100 border border-gray-200 transition-colors font-medium",children:"Cancelar"}),(0,kt.jsx)("button",{onClick:async()=>{if(k)try{g(k.user_id);const e=await ar.put("/auth/admin/user/".concat(k.user_id),C);e.data.success&&(v({type:"success",text:e.data.message}),await F(),H())}catch(r){var e,t;console.error("Error updating user profile:",r),v({type:"error",text:(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Error al actualizar usuario"})}finally{g(null)}},disabled:f===k.user_id,className:"px-5 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg hover:from-indigo-600 hover:to-purple-700 disabled:opacity-50 transition-all font-medium shadow-lg shadow-indigo-500/25",children:f===k.user_id?"Guardando...":"Guardar"})]})]})}),_&&(0,kt.jsx)(rr,{usuarioId:_.user_id,onClose:()=>A(null),onSave:()=>{A(null),F(),v({type:"success",text:"Usuario actualizado correctamente"})}}),"usuarios"===r&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 mb-8 overflow-hidden",children:[(0,kt.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Solicitudes Pendientes"}),(0,kt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Usuarios que esperan aprobacion para acceder al sistema"})]}),(0,kt.jsxs)("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 text-sm font-medium rounded-full",children:[l.length," pendiente",1!==l.length?"s":""]})]}),(0,kt.jsx)("div",{className:"overflow-x-auto",children:(0,kt.jsxs)("table",{className:"w-full",children:[(0,kt.jsx)("thead",{className:"bg-gray-50 border-b border-gray-100",children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre Completo"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresa"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha de Registro"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,kt.jsx)("tbody",{className:"divide-y divide-gray-100",children:0===l.length?(0,kt.jsx)("tr",{children:(0,kt.jsxs)("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500",children:[(0,kt.jsx)("div",{className:"text-4xl mb-2",children:"\u2714"}),(0,kt.jsx)("p",{className:"font-medium",children:"No hay solicitudes pendientes"}),(0,kt.jsx)("p",{className:"text-sm mt-1",children:"Todas las solicitudes han sido procesadas"})]})}):l.map(e=>{return(0,kt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,kt.jsx)("td",{className:"px-6 py-4",children:(0,kt.jsx)("span",{className:"text-gray-900",children:e.email})}),(0,kt.jsx)("td",{className:"px-6 py-4",children:(0,kt.jsx)("span",{className:"text-gray-900",children:e.full_name||"-"})}),(0,kt.jsx)("td",{className:"px-6 py-4",children:(0,kt.jsx)("span",{className:"text-gray-600",children:e.company||"-"})}),(0,kt.jsx)("td",{className:"px-6 py-4",children:(0,kt.jsx)("span",{className:"text-gray-600 text-sm",children:(t=e.created_at,t?new Date(t).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-")})}),(0,kt.jsx)("td",{className:"px-6 py-4",children:(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("button",{onClick:()=>(async e=>{try{g(e);const t=await ar.post("/auth/admin/approve-user/".concat(e));t.data.success&&(v({type:"success",text:t.data.message}),await F())}catch(a){var t,r;console.error("Error approving user:",a),v({type:"error",text:(null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Error al aprobar usuario"})}finally{g(null)}})(e.user_id),disabled:f===e.user_id,className:"px-3 py-1.5 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f===e.user_id?"...":"Aprobar"}),(0,kt.jsx)("button",{onClick:()=>(async e=>{try{g(e);const t=await ar.post("/auth/admin/reject-user/".concat(e));t.data.success&&(v({type:"success",text:t.data.message}),await F())}catch(a){var t,r;console.error("Error rejecting user:",a),v({type:"error",text:(null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Error al rechazar usuario"})}finally{g(null)}})(e.user_id),disabled:f===e.user_id,className:"px-3 py-1.5 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f===e.user_id?"...":"Rechazar"})]})})]},e.user_id);var t})})]})})]}),(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden",children:[(0,kt.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Todos los Usuarios"}),(0,kt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Lista completa de usuarios registrados - configura permisos por empresa"})]}),(0,kt.jsxs)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded-full",children:[i.length," usuario",1!==i.length?"s":""]})]}),(0,kt.jsx)("div",{className:"overflow-x-auto",children:(0,kt.jsxs)("table",{className:"w-full",children:[(0,kt.jsx)("thead",{className:"bg-gray-50 border-b border-gray-100",children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresas Permitidas"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,kt.jsx)("tbody",{className:"divide-y divide-gray-100",children:0===i.length?(0,kt.jsx)("tr",{children:(0,kt.jsx)("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:(0,kt.jsx)("p",{className:"font-medium",children:"No hay usuarios registrados"})})}):i.map(e=>(0,kt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,kt.jsx)("td",{className:"px-6 py-4",children:(0,kt.jsx)("span",{className:"text-gray-900",children:e.email})}),(0,kt.jsx)("td",{className:"px-6 py-4",children:(0,kt.jsx)("span",{className:"text-gray-900",children:e.full_name||"-"})}),(0,kt.jsx)("td",{className:"px-6 py-4",children:nr(e.approval_status)}),(0,kt.jsx)("td",{className:"px-6 py-4",children:(0,kt.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("admin"===e.role?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"),children:"admin"===e.role?"Admin":"Usuario"})}),(0,kt.jsx)("td",{className:"px-6 py-4",children:e.allowed_companies&&e.allowed_companies.length>0?(0,kt.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.allowed_companies.slice(0,2).map((e,t)=>(0,kt.jsx)("span",{className:"px-2 py-0.5 text-xs bg-blue-50 text-blue-700 rounded",children:e.length>15?e.substring(0,15)+"...":e},t)),e.allowed_companies.length>2&&(0,kt.jsxs)("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded",children:["+",e.allowed_companies.length-2," mas"]})]}):(0,kt.jsx)("span",{className:"text-xs text-gray-400",children:"Todas las empresas"})}),(0,kt.jsx)("td",{className:"px-6 py-4",children:(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("button",{onClick:()=>A(e),className:"px-3 py-1.5 bg-gradient-to-r from-emerald-500 to-teal-600 text-white text-sm font-medium rounded-lg hover:from-emerald-600 hover:to-teal-700 transition-all shadow-sm",children:"Editar"}),(0,kt.jsx)("button",{onClick:()=>{return j(t=e),void w(t.allowed_companies||[]);var t},className:"px-3 py-1.5 bg-gray-100 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-200 transition-colors border border-gray-200",children:"Empresas"})]})})]},e.user_id))})]})})]})]}),"empresas"===r&&(0,kt.jsx)(kt.Fragment,{children:(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden",children:[(0,kt.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Gestion de Empresas"}),(0,kt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Administra las empresas registradas en el sistema"})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsxs)("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 text-sm font-medium rounded-full",children:[m.length," empresa",1!==m.length?"s":""]}),(0,kt.jsx)("button",{onClick:()=>P(!0),className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-600 text-white text-sm font-medium rounded-lg hover:from-indigo-600 hover:to-purple-700 transition-all shadow-sm",children:"+ Nueva Empresa"})]})]}),(0,kt.jsx)("div",{className:"overflow-x-auto",children:(0,kt.jsxs)("table",{className:"w-full",children:[(0,kt.jsx)("thead",{className:"bg-gray-50 border-b border-gray-100",children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"RFC"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Industria"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,kt.jsx)("tbody",{className:"divide-y divide-gray-100",children:Array.isArray(m)&&0!==m.length?m.map(e=>{var t,r,a;return(0,kt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,kt.jsx)("td",{className:"px-6 py-4",children:(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-900 font-medium",children:e.nombre_comercial}),e.razon_social&&(0,kt.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:e.razon_social})]})}),(0,kt.jsx)("td",{className:"px-6 py-4",children:(0,kt.jsx)("span",{className:"text-gray-600 font-mono text-sm",children:e.rfc||"-"})}),(0,kt.jsx)("td",{className:"px-6 py-4",children:(0,kt.jsx)("span",{className:"text-gray-600 capitalize",children:(null===(t=e.industria)||void 0===t?void 0:t.replace(/_/g," "))||"-"})}),(0,kt.jsx)("td",{className:"px-6 py-4",children:(0,kt.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("enterprise"===e.plan?"bg-purple-100 text-purple-700":"profesional"===e.plan?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"),children:(null===(r=e.plan)||void 0===r?void 0:r.charAt(0).toUpperCase())+(null===(a=e.plan)||void 0===a?void 0:a.slice(1))||"Basico"})}),(0,kt.jsx)("td",{className:"px-6 py-4",children:(0,kt.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(e.activa?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.activa?"Activa":"Inactiva"})}),(0,kt.jsx)("td",{className:"px-6 py-4",children:(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("button",{onClick:()=>(e=>{R(e),O({nombre_comercial:e.nombre_comercial||"",razon_social:e.razon_social||"",rfc:e.rfc||"",industria:e.industria||"",vision:e.vision||"",mision:e.mision||"",plan:e.plan||"basico"})})(e),className:"px-3 py-1.5 bg-gradient-to-r from-emerald-500 to-teal-600 text-white text-sm font-medium rounded-lg hover:from-emerald-600 hover:to-teal-700 transition-all shadow-sm",children:"Editar"}),(0,kt.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfDesactivar esta empresa? Los datos se conservar\xe1n."))try{g(e),await ar.delete("/empresas/".concat(e)),v({type:"success",text:"Empresa desactivada correctamente"}),await B(),await I()}catch(a){var t,r;console.error("Error deleting empresa:",a),v({type:"error",text:(null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Error al desactivar empresa"})}finally{g(null)}})(e.id),disabled:f===e.id,className:"px-3 py-1.5 bg-red-100 text-red-700 text-sm font-medium rounded-lg hover:bg-red-200 transition-colors",children:f===e.id?"...":"Desactivar"})]})})]},e.id)}):(0,kt.jsx)("tr",{children:(0,kt.jsxs)("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[(0,kt.jsx)("div",{className:"text-4xl mb-2",children:"\ud83c\udfe2"}),(0,kt.jsx)("p",{className:"font-medium",children:"No hay empresas registradas"}),(0,kt.jsx)("p",{className:"text-sm mt-1",children:"Crea una nueva empresa para comenzar"})]})})})]})})]})}),(L||z)&&(0,kt.jsx)("div",{className:"fixed inset-0 bg-gradient-to-br from-slate-900/80 to-slate-800/80 backdrop-blur-sm flex items-center justify-center z-50",children:(0,kt.jsxs)("div",{className:"bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl max-w-2xl w-full mx-4 border border-white/20 overflow-hidden max-h-[90vh] overflow-y-auto",children:[(0,kt.jsxs)("div",{className:"px-6 py-5 bg-gradient-to-r from-indigo-500 to-purple-600 flex items-center justify-between",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-white",children:L?"Editar Empresa":"Nueva Empresa"}),(0,kt.jsx)("p",{className:"text-sm text-indigo-100 mt-1",children:L?T.nombre_comercial:"Registrar nueva empresa en el sistema"})]}),(0,kt.jsx)("button",{onClick:async()=>{if(T.nombre_comercial){M(!0);try{const e=await ar.post("/empresas/autofill-ia",{nombre_comercial:T.nombre_comercial,razon_social:T.razon_social,rfc:T.rfc,industria:T.industria});if(e.data.success){const t=e.data.data;O(e=>(0,s.A)((0,s.A)({},e),{},{vision:t.vision||e.vision,mision:t.mision||e.mision})),v({type:"success",text:"Perfil generado con IA exitosamente"})}}catch(r){var e,t;console.error("Error autofill:",r),v({type:"error",text:(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Error al generar perfil con IA"})}finally{M(!1)}}else v({type:"error",text:"Ingresa el nombre comercial primero"})},disabled:D||!T.nombre_comercial,className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white text-sm font-medium rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 backdrop-blur-sm border border-white/30",title:"Auto-rellenar Vision y Mision con IA",children:D?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,kt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,kt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,kt.jsx)("span",{children:"Generando..."})]}):(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,kt.jsx)("span",{children:"Auto-rellenar con IA"})]})})]}),(0,kt.jsxs)("div",{className:"p-6 space-y-5",children:[(0,kt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Comercial *"}),(0,kt.jsx)("input",{type:"text",value:T.nombre_comercial,onChange:e=>O((0,s.A)((0,s.A)({},T),{},{nombre_comercial:e.target.value})),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all outline-none",placeholder:"Ej: Fortezza"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RFC"}),(0,kt.jsx)("input",{type:"text",value:T.rfc,onChange:e=>O((0,s.A)((0,s.A)({},T),{},{rfc:e.target.value.toUpperCase()})),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all outline-none font-mono",placeholder:"XAXX010101000",maxLength:13})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Razon Social"}),(0,kt.jsx)("input",{type:"text",value:T.razon_social,onChange:e=>O((0,s.A)((0,s.A)({},T),{},{razon_social:e.target.value})),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all outline-none",placeholder:"Ej: Fortezza Consultores S.A. de C.V."})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industria"}),(0,kt.jsxs)("select",{value:T.industria,onChange:e=>O((0,s.A)((0,s.A)({},T),{},{industria:e.target.value})),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all outline-none bg-white",children:[(0,kt.jsx)("option",{value:"",children:"Seleccionar..."}),(0,kt.jsx)("option",{value:"tecnologia",children:"Tecnologia"}),(0,kt.jsx)("option",{value:"servicios_profesionales",children:"Servicios Profesionales"}),(0,kt.jsx)("option",{value:"manufactura",children:"Manufactura"}),(0,kt.jsx)("option",{value:"comercio",children:"Comercio"}),(0,kt.jsx)("option",{value:"construccion",children:"Construccion"}),(0,kt.jsx)("option",{value:"salud",children:"Salud"}),(0,kt.jsx)("option",{value:"educacion",children:"Educacion"}),(0,kt.jsx)("option",{value:"finanzas",children:"Finanzas"}),(0,kt.jsx)("option",{value:"inmobiliario",children:"Inmobiliario"}),(0,kt.jsx)("option",{value:"otro",children:"Otro"})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan"}),(0,kt.jsxs)("select",{value:T.plan,onChange:e=>O((0,s.A)((0,s.A)({},T),{},{plan:e.target.value})),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all outline-none bg-white",children:[(0,kt.jsx)("option",{value:"basico",children:"Basico"}),(0,kt.jsx)("option",{value:"profesional",children:"Profesional"}),(0,kt.jsx)("option",{value:"enterprise",children:"Enterprise"})]})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vision"}),(0,kt.jsx)("textarea",{value:T.vision,onChange:e=>O((0,s.A)((0,s.A)({},T),{},{vision:e.target.value})),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all outline-none resize-none",rows:2,placeholder:"Vision de la empresa..."})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mision"}),(0,kt.jsx)("textarea",{value:T.mision,onChange:e=>O((0,s.A)((0,s.A)({},T),{},{mision:e.target.value})),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all outline-none resize-none",rows:2,placeholder:"Mision de la empresa..."})]})]}),(0,kt.jsxs)("div",{className:"px-6 py-4 bg-gray-50/80 border-t border-gray-100 flex justify-end gap-3",children:[(0,kt.jsx)("button",{onClick:()=>{W(),P(!1)},className:"px-5 py-2.5 text-gray-700 bg-white rounded-lg hover:bg-gray-100 border border-gray-200 transition-colors font-medium",children:"Cancelar"}),(0,kt.jsx)("button",{onClick:L?async()=>{if(L)try{g(L.id);(await ar.patch("/empresas/".concat(L.id),T)).data&&(v({type:"success",text:"Empresa actualizada correctamente"}),await B(),await I(),W())}catch(r){var e,t;console.error("Error updating empresa:",r),v({type:"error",text:(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Error al actualizar empresa"})}finally{g(null)}}:async()=>{try{g("new");(await ar.post("/empresas/",T)).data&&(v({type:"success",text:"Empresa creada correctamente"}),await B(),await I(),P(!1),O({nombre_comercial:"",razon_social:"",rfc:"",industria:"",vision:"",mision:"",plan:"basico"}))}catch(r){var e,t;console.error("Error creating empresa:",r),v({type:"error",text:(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Error al crear empresa"})}finally{g(null)}},disabled:f===((null===L||void 0===L?void 0:L.id)||"new")||!T.nombre_comercial,className:"px-5 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg hover:from-indigo-600 hover:to-purple-700 disabled:opacity-50 transition-all font-medium shadow-lg shadow-indigo-500/25",children:f===((null===L||void 0===L?void 0:L.id)||"new")?"Guardando...":"Guardar"})]})]})})]})}):(0,kt.jsx)(Te,{to:"/",replace:!0})}const lr=wt.A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL?"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,"/api"):"/api",headers:{"Content-Type":"application/json","Cache-Control":"no-cache"}}),or=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),(0,kt.jsx)("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})},ir=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2"}),(0,kt.jsx)("circle",{cx:"12",cy:"5",r:"2"}),(0,kt.jsx)("path",{d:"M12 7v4"}),(0,kt.jsx)("line",{x1:"8",y1:"16",x2:"8",y2:"16"}),(0,kt.jsx)("line",{x1:"16",y1:"16",x2:"16",y2:"16"})]})},cr=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),(0,kt.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),(0,kt.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})},dr=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,kt.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})},ur=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),(0,kt.jsx)("path",{d:"M9 12l2 2 4-4"})]})},mr=e=>{let{className:t}=e;return(0,kt.jsx)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,kt.jsx)("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})},pr=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("circle",{cx:"12",cy:"12",r:"5"}),(0,kt.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),(0,kt.jsx)("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),(0,kt.jsx)("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),(0,kt.jsx)("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),(0,kt.jsx)("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),(0,kt.jsx)("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),(0,kt.jsx)("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),(0,kt.jsx)("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})},xr=e=>{let{className:t}=e;return(0,kt.jsx)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,kt.jsx)("polyline",{points:"6 9 12 15 18 9"})})},hr=e=>{let{className:t}=e;return(0,kt.jsx)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,kt.jsx)("polyline",{points:"18 15 12 9 6 15"})})},fr=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,kt.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,kt.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})},gr=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,kt.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})},br=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("polyline",{points:"23 4 23 10 17 10"}),(0,kt.jsx)("polyline",{points:"1 20 1 14 7 14"}),(0,kt.jsx)("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})]})},vr=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),(0,kt.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),(0,kt.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})},yr=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),(0,kt.jsx)("polyline",{points:"2 17 12 22 22 17"}),(0,kt.jsx)("polyline",{points:"2 12 12 17 22 12"})]})},jr=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,kt.jsx)("polyline",{points:"12 6 12 12 16 14"})]})},Nr=e=>{let{className:t}=e;return(0,kt.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,kt.jsx)("circle",{cx:"12",cy:"12",r:"6"}),(0,kt.jsx)("circle",{cx:"12",cy:"12",r:"2"})]})};function wr(e){let{title:t,value:r,subtitle:a,icon:n,gradient:s,delay:l="0",valueColor:o}=e;return(0,kt.jsx)("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-2xl p-6 shadow-lg shadow-slate-200/50 dark:shadow-slate-900/50 border border-slate-200/50 dark:border-slate-700/50 animate-fade-in-up",style:{animationDelay:"".concat(l,"ms")},children:(0,kt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),(0,kt.jsx)("p",{className:"text-3xl font-bold mt-1 ".concat(o||"text-slate-800 dark:text-slate-100"),children:r}),(0,kt.jsx)("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:a})]}),(0,kt.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br ".concat(s," flex items-center justify-center shadow-lg"),children:(0,kt.jsx)(n,{className:"w-6 h-6 text-white"})})]})})}function kr(e){let{agent:t,onDownloadMarkdown:r}=e;const[n,s]=(0,a.useState)(!1),l={principal:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",subagent:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300"};return(0,kt.jsxs)("div",{className:"bg-white/70 dark:bg-slate-800/70 backdrop-blur-xl rounded-xl border ".concat(t.can_block?"border-red-300 dark:border-red-700":"border-slate-200/50 dark:border-slate-700/50"," overflow-hidden transition-all duration-300"),children:[(0,kt.jsxs)("div",{className:"p-4 cursor-pointer flex items-center justify-between hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",onClick:()=>s(!n),children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br ".concat("principal"===t.type?"from-blue-500 to-indigo-600":"from-purple-500 to-violet-600"," flex items-center justify-center"),children:(0,kt.jsx)(ir,{className:"w-5 h-5 text-white"})}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("h3",{className:"font-semibold text-slate-800 dark:text-slate-100",children:t.agent_id}),(0,kt.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium ".concat(l[t.type]||l.principal),children:"principal"===t.type?"Principal":"Subagente"}),t.can_block&&(0,kt.jsxs)("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300 flex items-center gap-1",children:[(0,kt.jsx)(vr,{className:"w-3 h-3"}),"Bloqueante"]})]}),(0,kt.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:t.role})]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("button",{onClick:e=>{e.stopPropagation(),r(t.agent_id)},className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",title:"Descargar documentaci\xf3n",children:(0,kt.jsx)(fr,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"})}),n?(0,kt.jsx)(hr,{className:"w-5 h-5 text-slate-400"}):(0,kt.jsx)(xr,{className:"w-5 h-5 text-slate-400"})]})]}),n&&(0,kt.jsxs)("div",{className:"px-4 pb-4 border-t border-slate-200/50 dark:border-slate-700/50 pt-4 animate-fade-in",children:[(0,kt.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:t.description}),t.phases&&t.phases.length>0&&(0,kt.jsxs)("div",{className:"mb-4",children:[(0,kt.jsx)("h4",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Fases"}),(0,kt.jsx)("div",{className:"flex flex-wrap gap-2",children:t.phases.map((e,t)=>(0,kt.jsx)("span",{className:"px-2 py-1 bg-slate-100 dark:bg-slate-700 rounded text-xs text-slate-600 dark:text-slate-300",children:e},t))})]}),t.capabilities&&t.capabilities.length>0&&(0,kt.jsxs)("div",{className:"mb-4",children:[(0,kt.jsx)("h4",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Capacidades"}),(0,kt.jsx)("div",{className:"space-y-2",children:t.capabilities.map((e,t)=>(0,kt.jsxs)("div",{className:"flex items-start gap-2",children:[(0,kt.jsx)("div",{className:"w-2 h-2 rounded-full mt-1.5 ".concat(e.can_block?"bg-red-500":"bg-green-500")}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:e.name}),e.description&&(0,kt.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:e.description})]})]},t))})]}),t.controls&&t.controls.length>0&&(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h4",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Controles"}),(0,kt.jsx)("div",{className:"space-y-2",children:t.controls.map((e,t)=>(0,kt.jsxs)("div",{className:"p-2 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,kt.jsx)(dr,{className:"w-3 h-3 text-amber-500"}),(0,kt.jsx)("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:e.name}),(0,kt.jsxs)("span",{className:"text-xs text-slate-400",children:["(",e.phase,")"]})]}),e.condition&&(0,kt.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 ml-5",children:e.condition})]},t))})]})]})]})}function Sr(e){let{phase:t,index:r}=e;return(0,kt.jsxs)("div",{className:"relative flex items-start gap-4 ".concat(r<9?"pb-8":""),children:[r<9&&(0,kt.jsx)("div",{className:"absolute left-5 top-10 w-0.5 h-full bg-gradient-to-b from-slate-300 to-transparent dark:from-slate-600"}),(0,kt.jsx)("div",{className:"relative z-10 w-10 h-10 rounded-full flex items-center justify-center ".concat(t.is_hard_lock?"bg-gradient-to-br from-red-500 to-rose-600 shadow-lg shadow-red-500/30":"bg-gradient-to-br from-blue-500 to-indigo-600 shadow-lg shadow-blue-500/30"),children:t.is_hard_lock?(0,kt.jsx)(dr,{className:"w-5 h-5 text-white"}):(0,kt.jsx)("span",{className:"text-white font-bold text-sm",children:t.phase_id})}),(0,kt.jsxs)("div",{className:"flex-1 bg-white/70 dark:bg-slate-800/70 backdrop-blur-xl rounded-xl p-4 border border-slate-200/50 dark:border-slate-700/50",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,kt.jsxs)("h3",{className:"font-semibold text-slate-800 dark:text-slate-100",children:[t.phase_id,": ",t.name]}),t.is_hard_lock&&(0,kt.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300",children:"Candado Duro"})]}),(0,kt.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-2",children:t.description}),t.lock_condition&&(0,kt.jsx)("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 rounded-lg",children:(0,kt.jsxs)("p",{className:"text-xs text-red-700 dark:text-red-300 flex items-center gap-1",children:[(0,kt.jsx)(dr,{className:"w-3 h-3"}),t.lock_condition]})}),t.required_agents&&t.required_agents.length>0&&(0,kt.jsx)("div",{className:"mt-2 flex flex-wrap gap-1",children:t.required_agents.map((e,t)=>(0,kt.jsx)("span",{className:"px-2 py-0.5 bg-slate-100 dark:bg-slate-700 rounded text-xs text-slate-600 dark:text-slate-300",children:e},t))})]})]})}function Cr(e){let{pillar:t}=e;const r=["from-blue-500 to-indigo-600","from-green-500 to-emerald-600","from-purple-500 to-violet-600","from-amber-500 to-orange-600"];return(0,kt.jsxs)("div",{className:"bg-white/70 dark:bg-slate-800/70 backdrop-blur-xl rounded-xl p-6 border border-slate-200/50 dark:border-slate-700/50",children:[(0,kt.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,kt.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br ".concat(r[Math.floor(Math.random()*r.length)]," flex items-center justify-center shadow-lg"),children:(0,kt.jsx)(Nr,{className:"w-6 h-6 text-white"})}),(0,kt.jsxs)("div",{className:"text-right",children:[(0,kt.jsx)("span",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:t.max_points}),(0,kt.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"puntos"})]})]}),(0,kt.jsx)("h3",{className:"font-semibold text-slate-800 dark:text-slate-100 mb-2",children:t.name}),(0,kt.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:t.description}),t.criteria&&t.criteria.length>0&&(0,kt.jsxs)("div",{className:"mt-4",children:[(0,kt.jsx)("h4",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Criterios"}),(0,kt.jsx)("ul",{className:"space-y-1",children:t.criteria.map((e,t)=>(0,kt.jsxs)("li",{className:"text-xs text-slate-600 dark:text-slate-300 flex items-start gap-2",children:[(0,kt.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 mt-1.5"}),e]},t))})]})]})}function Er(e){let{snapshot:t}=e;return(0,kt.jsxs)("div",{className:"bg-white/70 dark:bg-slate-800/70 backdrop-blur-xl rounded-xl p-4 border border-slate-200/50 dark:border-slate-700/50",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-slate-500 to-slate-700 flex items-center justify-center",children:(0,kt.jsx)(yr,{className:"w-5 h-5 text-white"})}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("h3",{className:"font-semibold text-slate-800 dark:text-slate-100",children:["v",t.version]}),(0,kt.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:t.snapshot_id})]})]}),(0,kt.jsx)("div",{className:"text-right",children:(0,kt.jsxs)("div",{className:"flex items-center gap-1 text-xs text-slate-500 dark:text-slate-400",children:[(0,kt.jsx)(jr,{className:"w-3 h-3"}),new Date(t.created_at).toLocaleDateString("es-MX")]})})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,kt.jsxs)("span",{className:"text-slate-600 dark:text-slate-300",children:[(0,kt.jsx)("strong",{children:t.agent_count})," agentes"]}),(0,kt.jsxs)("span",{className:"text-slate-600 dark:text-slate-300",children:[(0,kt.jsx)("strong",{children:t.phase_count})," fases"]}),(0,kt.jsxs)("span",{className:"text-slate-600 dark:text-slate-300",children:[(0,kt.jsx)("strong",{children:t.pillar_count})," pilares"]})]}),(0,kt.jsxs)("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-2",children:["Por: ",t.created_by]})]})}const _r=function(){var e,t,r;const[n,s]=(0,a.useState)(null),[l,o]=(0,a.useState)(null),[i,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,p]=(0,a.useState)([]),[x,h]=(0,a.useState)(!0),[f,g]=(0,a.useState)(null),[b,v]=(0,a.useState)("agents"),[y,j]=(0,a.useState)("all"),[N,w]=(0,a.useState)(!1),[k,S]=(0,a.useState)(()=>{if("undefined"!==typeof window){return"true"===localStorage.getItem("durezza-dark-mode")}return!1});async function C(){h(!0),g(null);try{const[e,t,r,a,n]=await Promise.all([lr.get("/docs/overview"),lr.get("/docs/inventory"),lr.get("/docs/phases"),lr.get("/docs/pillars"),lr.get("/docs/snapshots")]);s(e.data),o(t.data),c(r.data),u(a.data),p(n.data)}catch(r){var e,t;console.error("Error loading documentation:",r),g((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||r.message||"Error al cargar la documentaci\xf3n")}h(!1)}async function E(e){try{const t=await lr.get("/docs/agents/".concat(e,"/markdown")),r=new Blob([t.data.markdown],{type:"text/markdown"}),a=URL.createObjectURL(r),n=document.createElement("a");n.href=a,n.download="".concat(e,"_documentation.md"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}catch(t){console.error("Error downloading markdown:",t)}}(0,a.useEffect)(()=>{k?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("durezza-dark-mode",k)},[k]),(0,a.useEffect)(()=>{C()},[]);const _=(null===l||void 0===l||null===(e=l.agents)||void 0===e?void 0:e.filter(e=>"all"===y||("principal"===y?"principal"===e.type:"subagent"===y?"subagent"===e.type:"blocking"!==y||e.can_block)))||[];if(x)return(0,kt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center transition-colors duration-300",children:(0,kt.jsxs)("div",{className:"text-center animate-fade-in",children:[(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 dark:border-blue-800 rounded-full animate-spin border-t-blue-600 dark:border-t-blue-400 mx-auto"}),(0,kt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,kt.jsx)(or,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]}),(0,kt.jsx)("p",{className:"mt-6 text-slate-600 dark:text-slate-300 font-medium",children:"Cargando Hub de Documentaci\xf3n..."})]})});const A=[{id:"agents",label:"Inventario de Agentes",icon:ir},{id:"phases",label:"Fases POE",icon:cr},{id:"pillars",label:"Pilares de Evaluaci\xf3n",icon:ur},{id:"snapshots",label:"Snapshots",icon:yr}];return(0,kt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-slate-50 to-blue-50 dark:from-slate-900 dark:via-slate-900 dark:to-slate-800 transition-colors duration-300",children:[(0,kt.jsxs)("header",{className:"relative overflow-hidden",children:[(0,kt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900 via-blue-900 to-indigo-900"}),(0,kt.jsx)("div",{className:"absolute inset-0 opacity-30",children:(0,kt.jsxs)("svg",{className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[(0,kt.jsx)("defs",{children:(0,kt.jsx)("pattern",{id:"mesh",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:(0,kt.jsx)("circle",{cx:"20",cy:"20",r:"1",fill:"rgba(255,255,255,0.3)"})})}),(0,kt.jsx)("rect",{width:"100%",height:"100%",fill:"url(#mesh)"})]})}),(0,kt.jsx)("div",{className:"absolute inset-0 backdrop-blur-[1px]"}),(0,kt.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:(0,kt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,kt.jsx)("div",{className:"animate-fade-in-up",children:(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-gradient-to-br from-blue-400 to-indigo-600 flex items-center justify-center shadow-lg shadow-blue-500/30",children:(0,kt.jsx)(or,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white tracking-tight",children:"Hub de Documentaci\xf3n"}),(0,kt.jsx)("span",{className:"px-2 py-0.5 bg-white/20 backdrop-blur-md rounded text-xs font-semibold text-white",children:"REVISAR.IA"})]}),(0,kt.jsx)("p",{className:"text-blue-200 text-sm sm:text-base",children:"Documentaci\xf3n automatizada del sistema multi-agente"})]})]})}),(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsxs)("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 text-white transition-all duration-300 hover:scale-105 active:scale-95",children:[(0,kt.jsx)(br,{className:"w-5 h-5"}),(0,kt.jsx)("span",{className:"text-sm font-medium hidden sm:inline",children:"Actualizar"})]}),(0,kt.jsx)("button",{onClick:()=>S(!k),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 text-white transition-all duration-300 hover:scale-105 active:scale-95",children:k?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)(pr,{className:"w-5 h-5"}),(0,kt.jsx)("span",{className:"text-sm font-medium hidden sm:inline",children:"Modo Claro"})]}):(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)(mr,{className:"w-5 h-5"}),(0,kt.jsx)("span",{className:"text-sm font-medium hidden sm:inline",children:"Modo Oscuro"})]})})]})]})})]}),(0,kt.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[f&&(0,kt.jsx)("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:(0,kt.jsxs)("p",{className:"text-red-700 dark:text-red-300 flex items-center gap-2",children:[(0,kt.jsx)(vr,{className:"w-5 h-5"}),f]})}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8",children:[(0,kt.jsx)(wr,{title:"Total Agentes",value:(null===n||void 0===n?void 0:n.total_agents)||11,subtitle:"Principales + Subagentes",icon:ir,gradient:"from-blue-500 to-cyan-500",delay:"0"}),(0,kt.jsx)(wr,{title:"Fases POE",value:(null===n||void 0===n?void 0:n.total_phases)||10,subtitle:"F0 - F9",icon:cr,gradient:"from-violet-500 to-purple-500",delay:"100"}),(0,kt.jsx)(wr,{title:"Pilares",value:(null===n||void 0===n?void 0:n.total_pillars)||4,subtitle:"100 puntos totales",icon:ur,gradient:"from-emerald-500 to-green-500",delay:"200"}),(0,kt.jsx)(wr,{title:"Candados Duros",value:(null===n||void 0===n||null===(t=n.hard_locks)||void 0===t?void 0:t.length)||3,subtitle:(null===n||void 0===n||null===(r=n.hard_locks)||void 0===r?void 0:r.join(", "))||"F2, F6, F8",icon:dr,gradient:"from-rose-500 to-red-500",delay:"300",valueColor:"text-rose-600 dark:text-rose-400"})]}),(0,kt.jsxs)("div",{className:"bg-white/70 dark:bg-slate-800/70 backdrop-blur-xl rounded-2xl shadow-xl shadow-slate-200/50 dark:shadow-slate-900/50 border border-slate-200/50 dark:border-slate-700/50 overflow-hidden",children:[(0,kt.jsx)("div",{className:"border-b border-slate-200/50 dark:border-slate-700/50",children:(0,kt.jsx)("div",{className:"flex overflow-x-auto",children:A.map(e=>{const t=e.icon;return(0,kt.jsxs)("button",{onClick:()=>v(e.id),className:"flex items-center gap-2 px-6 py-4 font-medium text-sm whitespace-nowrap transition-all duration-200 border-b-2 ".concat(b===e.id?"border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50/50 dark:bg-blue-900/20":"border-transparent text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700/50"),children:[(0,kt.jsx)(t,{className:"w-4 h-4"}),e.label]},e.id)})})}),(0,kt.jsxs)("div",{className:"p-6",children:["agents"===b&&(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,kt.jsxs)("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:["Inventario de Agentes (",_.length,")"]}),(0,kt.jsx)("div",{className:"flex items-center gap-2",children:(0,kt.jsxs)("select",{value:y,onChange:e=>j(e.target.value),className:"px-3 py-2 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,kt.jsx)("option",{value:"all",children:"Todos los agentes"}),(0,kt.jsx)("option",{value:"principal",children:"Solo principales"}),(0,kt.jsx)("option",{value:"subagent",children:"Solo subagentes"}),(0,kt.jsx)("option",{value:"blocking",children:"Solo bloqueantes"})]})})]}),(0,kt.jsx)("div",{className:"grid gap-4",children:_.map(e=>(0,kt.jsx)(kr,{agent:e,onDownloadMarkdown:E},e.agent_id))})]}),"phases"===b&&(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-6",children:"Fases del Procedimiento Operativo Est\xe1ndar (POE)"}),(0,kt.jsx)("div",{className:"space-y-0",children:i.map((e,t)=>(0,kt.jsx)(Sr,{phase:e,index:t},e.phase_id))})]}),"pillars"===b&&(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-6",children:"Pilares de Evaluaci\xf3n (100 puntos totales)"}),(0,kt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.map(e=>(0,kt.jsx)(Cr,{pillar:e},e.pillar_id))})]}),"snapshots"===b&&(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,kt.jsx)("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Historial de Snapshots"}),(0,kt.jsx)("button",{onClick:async function(){w(!0);try{await lr.post("/docs/snapshot"),await C()}catch(e){console.error("Error creating snapshot:",e),g("Error al crear snapshot")}w(!1)},disabled:N,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:N?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)(br,{className:"w-4 h-4 animate-spin"}),"Generando..."]}):(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)(gr,{className:"w-4 h-4"}),"Generar Snapshot"]})})]}),0===m.length?(0,kt.jsxs)("div",{className:"text-center py-12",children:[(0,kt.jsx)(yr,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-4"}),(0,kt.jsx)("p",{className:"text-slate-500 dark:text-slate-400",children:"No hay snapshots disponibles"}),(0,kt.jsx)("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:"Genera el primer snapshot para documentar el estado actual del sistema"})]}):(0,kt.jsx)("div",{className:"grid gap-4",children:m.map(e=>(0,kt.jsx)(Er,{snapshot:e},e.snapshot_id))})]})]})]})]})]})},Ar=wt.A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL?"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,"/api"):"/api",headers:{"Content-Type":"application/json"}});Ar.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});const Lr=()=>{const[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)(!0);if((0,a.useEffect)(()=>{const e=async()=>{try{const e=await Ar.get("/metrics/llm-costs");t(e.data),n(!1)}catch(e){console.error("Error fetching metrics:",e),n(!1)}};e();const r=setInterval(e,3e4);return()=>clearInterval(r)},[]),r)return(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,kt.jsx)("div",{className:"text-xl text-gray-600",children:"Cargando m\xe9tricas..."})});if(!e)return(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,kt.jsx)("div",{className:"text-xl text-gray-600",children:"No hay datos disponibles"})});const{query_router:s,embedding_cache:l,rag_parallel:o}=e;return(0,kt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,kt.jsx)("header",{className:"bg-[#1A1A1A] text-white py-4 px-6 shadow-lg",children:(0,kt.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[(0,kt.jsxs)("h1",{className:"text-2xl font-bold",children:[(0,kt.jsx)("span",{className:"text-[#7FEDD8]",children:"Revisar.ia"})," - M\xe9tricas LLM"]}),(0,kt.jsx)(ft,{to:"/",className:"px-4 py-2 bg-[#7FEDD8] text-[#1A1A1A] rounded-lg hover:bg-[#5DD5C0] transition font-medium",children:"Volver al Dashboard"})]})}),(0,kt.jsxs)("main",{className:"max-w-7xl mx-auto p-6",children:[(0,kt.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,kt.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg border-l-4 border-[#7FEDD8]",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Total de Consultas"}),(0,kt.jsx)("p",{className:"text-4xl font-bold text-[#1A1A1A]",children:s.total_queries})]}),(0,kt.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg border-l-4 border-green-500",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Ahorro Estimado"}),(0,kt.jsxs)("p",{className:"text-4xl font-bold text-green-600",children:["$",s.estimated_savings]}),(0,kt.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[s.savings_percent,"% de ahorro"]})]}),(0,kt.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg border-l-4 border-blue-500",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Costo Total"}),(0,kt.jsxs)("p",{className:"text-4xl font-bold text-blue-600",children:["$",s.total_cost]})]})]}),(0,kt.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg mb-8",children:[(0,kt.jsx)("h2",{className:"text-2xl font-bold text-[#1A1A1A] mb-4",children:"Desglose por Tier (Query Router)"}),(0,kt.jsx)("div",{className:"space-y-4",children:Object.entries(s.cost_breakdown).map(e=>{let[t,r]=e;return(0,kt.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"font-semibold capitalize text-lg",children:t}),(0,kt.jsxs)("span",{className:"text-sm text-gray-500 ml-2",children:["(",r.model,")"]})]}),(0,kt.jsxs)("div",{className:"text-right",children:[(0,kt.jsxs)("p",{className:"font-bold text-lg",children:[r.queries," consultas"]}),(0,kt.jsxs)("p",{className:"text-sm text-gray-600",children:["$",r.cost]})]})]},t)})})]}),(0,kt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,kt.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,kt.jsx)("h2",{className:"text-2xl font-bold text-[#1A1A1A] mb-4",children:"Cach\xe9 de Embeddings"}),(0,kt.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,kt.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Tasa de Aciertos"}),(0,kt.jsxs)("p",{className:"text-3xl font-bold text-[#7FEDD8]",children:[l.hit_rate_percent,"%"]})]}),(0,kt.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Aciertos de Cach\xe9"}),(0,kt.jsx)("p",{className:"text-3xl font-bold text-green-600",children:l.cache_hits})]}),(0,kt.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Ahorro"}),(0,kt.jsxs)("p",{className:"text-3xl font-bold text-blue-600",children:["$",l.estimated_cost_saved]})]})]}),(0,kt.jsxs)("div",{className:"mt-4 text-sm text-gray-500",children:["Total solicitudes: ",l.total_requests," | Fallos: ",l.cache_misses]})]}),(0,kt.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,kt.jsx)("h2",{className:"text-2xl font-bold text-[#1A1A1A] mb-4",children:"Pre-carga RAG Paralela"}),(0,kt.jsxs)("div",{className:"text-center p-6 bg-gradient-to-r from-[#7FEDD8]/20 to-[#5DD5C0]/20 rounded-lg",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Tiempo promedio ahorrado por proyecto"}),(0,kt.jsxs)("p",{className:"text-5xl font-bold text-[#1A1A1A]",children:[o.avg_time_saved_seconds,"s"]})]}),(0,kt.jsxs)("div",{className:"mt-4 text-center text-gray-500",children:["Total precargas: ",o.total_preloads]})]})]}),(0,kt.jsxs)("div",{className:"mt-8 bg-gradient-to-r from-[#1A1A1A] to-gray-800 text-white p-6 rounded-lg shadow-lg",children:[(0,kt.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Resumen de Optimizaciones"}),(0,kt.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 text-center",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-[#7FEDD8] text-3xl font-bold",children:"60-70%"}),(0,kt.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:"Ahorro Query Router"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("p",{className:"text-[#7FEDD8] text-3xl font-bold",children:[l.hit_rate_percent,"%"]}),(0,kt.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:"Tasa de Aciertos Cach\xe9"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-[#7FEDD8] text-3xl font-bold",children:"~6s"}),(0,kt.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:"Ahorro RAG Paralelo"})]})]})]}),(0,kt.jsxs)("p",{className:"text-center text-gray-400 text-sm mt-6",children:["\xdaltima actualizaci\xf3n: ",new Date(e.timestamp).toLocaleString("es-MX")]})]})]})},Rr=()=>(0,kt.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,kt.jsx)("rect",{x:"3",y:"12",width:"4",height:"9",rx:"1"}),(0,kt.jsx)("rect",{x:"10",y:"8",width:"4",height:"13",rx:"1"}),(0,kt.jsx)("rect",{x:"17",y:"4",width:"4",height:"17",rx:"1"})]}),Tr=()=>{const[e]=(0,a.useState)([{id:1,type:"simple",model:"GPT-4o-mini",tokens:847,cost:.0012,time:"hace 2s"},{id:2,type:"medium",model:"GPT-4o",tokens:2341,cost:.0089,time:"hace 5s"},{id:3,type:"complex",model:"GPT-4-Turbo",tokens:4521,cost:.0452,time:"hace 12s"},{id:4,type:"simple",model:"GPT-4o-mini",tokens:612,cost:8e-4,time:"hace 18s"},{id:5,type:"medium",model:"GPT-4o",tokens:1893,cost:.0071,time:"hace 25s"}]),t={totalQueries:1523,savings:27.42,totalCost:7.58,efficiency:98.2,savingsPercent:78},r=[{name:"SIMPLE",displayName:"Simple",count:890,color:"#4ade80"},{name:"MEDIUM",displayName:"Medio",count:520,color:"#60a5fa"},{name:"COMPLEX",displayName:"Complejo",count:113,color:"#a78bfa"}],n=Math.max(...r.map(e=>e.count)),l={container:{minHeight:"100vh",background:"linear-gradient(135deg, #0f0f0f 0%, #1a1a2e 50%, #16213e 100%)",padding:"24px",fontFamily:"'Inter', 'Segoe UI', -apple-system, sans-serif",color:"#ffffff"},content:{maxWidth:"1400px",margin:"0 auto"},header:{textAlign:"center",marginBottom:"32px",paddingBottom:"24px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},titleContainer:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"8px"},titleIcon:{color:"#60a5fa"},title:{fontSize:"32px",fontWeight:700,color:"#ffffff",letterSpacing:"1px",margin:0},subtitle:{color:"rgba(255, 255, 255, 0.6)",fontSize:"14px",letterSpacing:"2px",textTransform:"uppercase",margin:0},statusIndicator:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"rgba(74, 222, 128, 0.1)",borderRadius:"20px",border:"1px solid rgba(74, 222, 128, 0.3)",marginTop:"16px"},statusDot:{width:"8px",height:"8px",borderRadius:"50%",background:"#4ade80"},statusText:{fontSize:"12px",color:"#4ade80",textTransform:"uppercase",letterSpacing:"1px"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"24px"},statCard:{background:"rgba(22, 33, 62, 0.8)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)",padding:"24px",textAlign:"center",transition:"all 0.2s ease"},statValue:e=>({fontSize:"32px",fontWeight:700,color:e,marginBottom:"4px"}),statLabel:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)",textTransform:"uppercase",letterSpacing:"1px"},mainGrid:{display:"grid",gridTemplateColumns:"1fr 320px",gap:"24px"},card:{background:"rgba(22, 33, 62, 0.8)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)",padding:"24px",marginBottom:"24px"},sectionTitle:{fontSize:"14px",color:"#60a5fa",textTransform:"uppercase",letterSpacing:"2px",marginBottom:"20px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px"},titleDot:{width:"6px",height:"6px",background:"#60a5fa",borderRadius:"2px"},barChart:{display:"flex",flexDirection:"column",gap:"16px"},barRow:{display:"flex",alignItems:"center",gap:"16px"},barLabel:{width:"80px",fontSize:"14px",color:"#ffffff",fontWeight:500},barContainer:{flex:1,height:"36px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"6px",overflow:"hidden",position:"relative"},bar:(e,t)=>({height:"100%",width:"".concat(e,"%"),background:t,borderRadius:"6px",position:"relative",transition:"width 0.8s ease-out"}),barValue:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",color:"#ffffff",fontWeight:600,fontSize:"14px"},costGrid:{marginTop:"24px",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},costItem:{textAlign:"center",padding:"16px",background:"rgba(15, 15, 15, 0.4)",borderRadius:"8px"},costLabel:e=>({color:e,fontSize:"11px",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px"}),costValue:{color:"#ffffff",fontSize:"18px",fontWeight:600},activityFeed:{display:"flex",flexDirection:"column",gap:"12px",maxHeight:"280px",overflowY:"auto"},activityItem:e=>({background:"rgba(15, 15, 15, 0.4)",borderRadius:"8px",padding:"12px",borderLeft:"3px solid ".concat({simple:"#4ade80",medium:"#60a5fa",complex:"#a78bfa"}[e]),display:"flex",alignItems:"center",gap:"12px"}),activityDot:e=>({width:"8px",height:"8px",borderRadius:"50%",background:{simple:"#4ade80",medium:"#60a5fa",complex:"#a78bfa"}[e],flexShrink:0}),activityDetails:{flex:1},activityModel:{fontSize:"13px",color:"#ffffff",fontWeight:500},activityMeta:{fontSize:"11px",color:"rgba(255, 255, 255, 0.5)",marginTop:"2px"},activityCost:{fontSize:"13px",color:"#4ade80",fontWeight:600},circularProgress:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"16px"},svgContainer:{position:"relative",width:"160px",height:"160px"},progressText:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},progressValue:{fontSize:"36px",fontWeight:700,color:"#4ade80"},progressLabel:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)",textTransform:"uppercase",letterSpacing:"1px"},modelAllocation:{display:"flex",flexDirection:"column",gap:"14px"},modelRow:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},modelName:{color:"#ffffff",fontSize:"13px"},modelPercent:e=>({color:e,fontSize:"13px",fontWeight:600}),modelBar:{height:"6px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"3px",overflow:"hidden"},modelBarFill:(e,t)=>({height:"100%",width:"".concat(e,"%"),background:t,borderRadius:"3px",transition:"width 0.8s ease-out"}),projectedCard:{background:"rgba(22, 33, 62, 0.8)",borderRadius:"12px",border:"1px solid rgba(74, 222, 128, 0.2)",padding:"24px",textAlign:"center"},projectedLabel:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px"},projectedValue:{fontSize:"28px",fontWeight:700,color:"#4ade80"},projectedSaving:{fontSize:"12px",color:"#4ade80",marginTop:"8px"},footer:{marginTop:"24px",textAlign:"center",color:"rgba(255, 255, 255, 0.3)",fontSize:"11px",letterSpacing:"1px"}},o=e=>{let{percentage:t}=e;const r=2*Math.PI*60,a=r-t/100*r;return(0,kt.jsxs)("svg",{width:"160",height:"160",style:{transform:"rotate(-90deg)"},children:[(0,kt.jsx)("circle",{cx:"80",cy:"80",r:60,fill:"none",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"10"}),(0,kt.jsx)("circle",{cx:"80",cy:"80",r:60,fill:"none",stroke:"#4ade80",strokeWidth:"10",strokeDasharray:r,strokeDashoffset:a,strokeLinecap:"round",style:{transition:"stroke-dashoffset 1s ease-out"}})]})};return(0,kt.jsx)("div",{style:l.container,children:(0,kt.jsxs)("div",{style:l.content,children:[(0,kt.jsxs)("div",{style:l.header,children:[(0,kt.jsxs)("div",{style:l.titleContainer,children:[(0,kt.jsx)("span",{style:l.titleIcon,children:(0,kt.jsx)(Rr,{})}),(0,kt.jsx)("h1",{style:l.title,children:"Panel de Costos LLM"})]}),(0,kt.jsx)("p",{style:l.subtitle,children:"An\xe1lisis de Procesamiento y Optimizaci\xf3n"}),(0,kt.jsxs)("div",{style:l.statusIndicator,children:[(0,kt.jsx)("div",{style:l.statusDot}),(0,kt.jsx)("span",{style:l.statusText,children:"Sistema Activo"})]})]}),(0,kt.jsx)("div",{style:l.statsGrid,children:[{label:"Total de Consultas",value:t.totalQueries.toLocaleString(),color:"#60a5fa"},{label:"Ahorro en Costos",value:"$".concat(t.savings.toFixed(2)),color:"#4ade80"},{label:"Gasto Total",value:"$".concat(t.totalCost.toFixed(2)),color:"#a78bfa"},{label:"Eficiencia",value:"".concat(t.efficiency,"%"),color:"#fbbf24"}].map((e,t)=>(0,kt.jsxs)("div",{style:l.statCard,children:[(0,kt.jsx)("div",{style:l.statValue(e.color),children:e.value}),(0,kt.jsx)("div",{style:l.statLabel,children:e.label})]},t))}),(0,kt.jsxs)("div",{style:l.mainGrid,children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("div",{style:l.card,children:[(0,kt.jsxs)("div",{style:l.sectionTitle,children:[(0,kt.jsx)("div",{style:l.titleDot}),"Distribuci\xf3n de Consultas por Complejidad"]}),(0,kt.jsx)("div",{style:l.barChart,children:r.map((e,t)=>(0,kt.jsxs)("div",{style:l.barRow,children:[(0,kt.jsx)("div",{style:l.barLabel,children:e.displayName}),(0,kt.jsx)("div",{style:l.barContainer,children:(0,kt.jsx)("div",{style:l.bar(e.count/n*100,e.color),children:(0,kt.jsx)("span",{style:l.barValue,children:e.count})})})]},t))}),(0,kt.jsx)("div",{style:l.costGrid,children:r.map((e,t)=>(0,kt.jsxs)("div",{style:l.costItem,children:[(0,kt.jsxs)("div",{style:l.costLabel(e.color),children:["Costo ",e.displayName]}),(0,kt.jsxs)("div",{style:l.costValue,children:["$",(e.count*(0===t?.001:1===t?.008:.045)).toFixed(2)]})]},t))})]}),(0,kt.jsxs)("div",{style:l.card,children:[(0,kt.jsxs)("div",{style:l.sectionTitle,children:[(0,kt.jsx)("div",{style:(0,s.A)((0,s.A)({},l.titleDot),{},{background:"#4ade80"})}),"Actividad Reciente"]}),(0,kt.jsx)("div",{style:l.activityFeed,children:e.map(e=>(0,kt.jsxs)("div",{style:l.activityItem(e.type),children:[(0,kt.jsx)("div",{style:l.activityDot(e.type)}),(0,kt.jsxs)("div",{style:l.activityDetails,children:[(0,kt.jsx)("div",{style:l.activityModel,children:e.model}),(0,kt.jsxs)("div",{style:l.activityMeta,children:[e.tokens.toLocaleString()," tokens \u2022 ",e.time]})]}),(0,kt.jsxs)("div",{style:l.activityCost,children:["$",e.cost.toFixed(4)]})]},e.id))})]})]}),(0,kt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[(0,kt.jsxs)("div",{style:l.card,children:[(0,kt.jsxs)("div",{style:l.sectionTitle,children:[(0,kt.jsx)("div",{style:(0,s.A)((0,s.A)({},l.titleDot),{},{background:"#4ade80"})}),"Eficiencia de Costos"]}),(0,kt.jsx)("div",{style:l.circularProgress,children:(0,kt.jsxs)("div",{style:l.svgContainer,children:[(0,kt.jsx)(o,{percentage:t.savingsPercent}),(0,kt.jsxs)("div",{style:l.progressText,children:[(0,kt.jsxs)("div",{style:l.progressValue,children:[t.savingsPercent,"%"]}),(0,kt.jsx)("div",{style:l.progressLabel,children:"Ahorro"})]})]})}),(0,kt.jsx)("div",{style:{textAlign:"center",marginTop:"8px"},children:(0,kt.jsx)("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px"},children:"vs. usar siempre GPT-4"})})]}),(0,kt.jsxs)("div",{style:l.card,children:[(0,kt.jsxs)("div",{style:l.sectionTitle,children:[(0,kt.jsx)("div",{style:(0,s.A)((0,s.A)({},l.titleDot),{},{background:"#a78bfa"})}),"Distribuci\xf3n de Modelos"]}),(0,kt.jsx)("div",{style:l.modelAllocation,children:[{name:"GPT-4o-mini",pct:58,color:"#4ade80"},{name:"GPT-4o",pct:34,color:"#60a5fa"},{name:"GPT-4-Turbo",pct:8,color:"#a78bfa"}].map((e,t)=>(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("div",{style:l.modelRow,children:[(0,kt.jsx)("span",{style:l.modelName,children:e.name}),(0,kt.jsxs)("span",{style:l.modelPercent(e.color),children:[e.pct,"%"]})]}),(0,kt.jsx)("div",{style:l.modelBar,children:(0,kt.jsx)("div",{style:l.modelBarFill(e.pct,e.color)})})]},t))})]}),(0,kt.jsxs)("div",{style:l.projectedCard,children:[(0,kt.jsx)("div",{style:l.projectedLabel,children:"Proyecci\xf3n Mensual"}),(0,kt.jsx)("div",{style:l.projectedValue,children:"$152.40"}),(0,kt.jsx)("div",{style:l.projectedSaving,children:"\u25bc 78% vs l\xednea base"})]})]})]}),(0,kt.jsx)("div",{style:l.footer,children:"REVISAR.IA \u2014 PANEL DE OPTIMIZACI\xd3N DE COSTOS v2.1.0"})]})})},Or="",zr={crear:async e=>(await fetch("".concat(Or,"/api/empresas/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),obtener:async e=>(await fetch("".concat(Or,"/api/empresas/").concat(e))).json(),listar:async()=>(await fetch("".concat(Or,"/api/empresas/"))).json(),actualizar:async(e,t)=>(await fetch("".concat(Or,"/api/empresas/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json(),actualizarVisionMision:async(e,t,r)=>(await fetch("".concat(Or,"/api/empresas/").concat(e,"/vision-mision"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({vision:t,mision:r})})).json(),actualizarPilares:async(e,t)=>(await fetch("".concat(Or,"/api/empresas/").concat(e,"/pilares"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({pilares:t})})).json(),actualizarOKRs:async(e,t)=>(await fetch("".concat(Or,"/api/empresas/").concat(e,"/okrs"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({okrs:t})})).json(),getTipologias:async e=>(await fetch("".concat(Or,"/api/empresas/").concat(e,"/tipologias"))).json(),configurarTipologias:async(e,t)=>(await fetch("".concat(Or,"/api/empresas/").concat(e,"/tipologias"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({tipologias:t})})).json()},Pr=e=>{let{industry:t}=e;const r={"Tecnolog\xeda":"bg-blue-100 text-blue-700",Finanzas:"bg-green-100 text-green-700",Manufactura:"bg-orange-100 text-orange-700",Retail:"bg-purple-100 text-purple-700","Servicios Profesionales":"bg-indigo-100 text-indigo-700","Construcci\xf3n":"bg-yellow-100 text-yellow-700",Salud:"bg-red-100 text-red-700","Educaci\xf3n":"bg-cyan-100 text-cyan-700","Transporte y Log\xedstica":"bg-teal-100 text-teal-700","Energ\xeda":"bg-amber-100 text-amber-700",Agroindustria:"bg-lime-100 text-lime-700"}[t]||"bg-gray-100 text-gray-700";return(0,kt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(r),children:t||"Sin industria"})},Dr=e=>{var t,r;let{empresa:a}=e;const n=xe(),s=(null===(t=a.tipologias_activas)||void 0===t?void 0:t.length)||0;return(0,kt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[(0,kt.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:a.nombre}),(0,kt.jsx)("p",{className:"text-sm text-gray-500 font-mono",children:a.rfc})]}),(0,kt.jsx)(Pr,{industry:a.industria})]}),a.vision&&(0,kt.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:a.vision}),(0,kt.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,kt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),s," tipolog\xeda",1!==s?"s":""]}),(null===(r=a.pilares_estrategicos)||void 0===r?void 0:r.length)>0&&(0,kt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),a.pilares_estrategicos.length," pilar",1!==a.pilares_estrategicos.length?"es":""]})]}),(0,kt.jsx)("button",{onClick:()=>n("/empresa/".concat(a.id,"/configuracion")),className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",children:"Configurar"})]})]})},Mr=()=>(0,kt.jsxs)("div",{className:"text-center py-16 bg-white rounded-xl border-2 border-dashed border-gray-300",children:[(0,kt.jsx)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),(0,kt.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No hay empresas registradas"}),(0,kt.jsx)("p",{className:"text-gray-500 mb-6 max-w-sm mx-auto",children:"Comience creando su primera empresa para configurar el sistema multi-tenant."}),(0,kt.jsxs)(ft,{to:"/empresas/nueva",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Crear Primera Empresa"]})]});function Fr(){const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{o()},[]);const o=async()=>{try{n(!0);const e=await zr.listar();t(e.empresas||[]),l(null)}catch(e){l("Error al cargar las empresas"),console.error(e)}finally{n(!1)}};return r?(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"w-12 h-12 border-4 border-blue-200 rounded-full animate-spin border-t-blue-600 mx-auto"}),(0,kt.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando empresas..."})]})}):(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,kt.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,kt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Empresas"}),(0,kt.jsx)("p",{className:"text-gray-600",children:"Gestione las empresas del sistema multi-tenant"})]}),(0,kt.jsxs)(ft,{to:"/empresas/nueva",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-sm",children:[(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nueva Empresa"]})]}),s&&(0,kt.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[s,(0,kt.jsx)("button",{onClick:o,className:"ml-4 underline hover:no-underline",children:"Reintentar"})]}),0===e.length?(0,kt.jsx)(Mr,{}):(0,kt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,kt.jsx)(Dr,{empresa:e},e.id))})]})})}const Ir=[{id:"consultoria_macro_mercado",nombre:"Consultor\xeda Macro/Mercado",descripcion:"Servicios de consultor\xeda estrat\xe9gica y an\xe1lisis de mercado"},{id:"intragrupo_management_fee",nombre:"Intragrupo/Management Fee",descripcion:"Servicios de gesti\xf3n entre empresas del mismo grupo"},{id:"software_saas_desarrollo",nombre:"Software/SaaS/Desarrollo",descripcion:"Desarrollo de software y servicios en la nube"},{id:"marketing_publicidad",nombre:"Marketing/Publicidad",descripcion:"Servicios de marketing y campa\xf1as publicitarias"},{id:"legal_fiscal",nombre:"Legal/Fiscal",descripcion:"Asesor\xeda legal y fiscal especializada"},{id:"rrhh_capacitacion",nombre:"RRHH/Capacitaci\xf3n",descripcion:"Servicios de recursos humanos y formaci\xf3n"}],Br=["Tecnolog\xeda","Finanzas","Manufactura","Retail","Servicios Profesionales","Construcci\xf3n","Salud","Educaci\xf3n","Transporte y Log\xedstica","Energ\xeda","Agroindustria","Otro"],Wr=e=>{let{currentStep:t,totalSteps:r}=e;return(0,kt.jsx)("div",{className:"flex items-center justify-center mb-8",children:[...Array(r)].map((e,n)=>(0,kt.jsxs)(a.Fragment,{children:[(0,kt.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-medium transition-all ".concat(n+1<t?"bg-green-500 text-white":n+1===t?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"),children:n+1<t?(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n+1}),n<r-1&&(0,kt.jsx)("div",{className:"w-16 h-1 mx-2 ".concat(n+1<t?"bg-green-500":"bg-gray-200")})]},n))})},Ur=e=>{let{data:t,onChange:r}=e;return(0,kt.jsxs)("div",{className:"space-y-6",children:[(0,kt.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Informaci\xf3n B\xe1sica"}),(0,kt.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:"Complete la informaci\xf3n b\xe1sica de su empresa para comenzar."}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de la Empresa *"}),(0,kt.jsx)("input",{type:"text",value:t.nombre||"",onChange:e=>r((0,s.A)((0,s.A)({},t),{},{nombre:e.target.value})),placeholder:"Ej: Grupo Fortezza S.A. de C.V.",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RFC *"}),(0,kt.jsx)("input",{type:"text",value:t.rfc||"",onChange:e=>r((0,s.A)((0,s.A)({},t),{},{rfc:e.target.value.toUpperCase()})),placeholder:"Ej: GFO850101XXX",maxLength:13,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 uppercase"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industria *"}),(0,kt.jsxs)("select",{value:t.industria||"",onChange:e=>r((0,s.A)((0,s.A)({},t),{},{industria:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,kt.jsx)("option",{value:"",children:"Seleccione una industria"}),Br.map(e=>(0,kt.jsx)("option",{value:e,children:e},e))]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email de Contacto"}),(0,kt.jsx)("input",{type:"email",value:t.email||"",onChange:e=>r((0,s.A)((0,s.A)({},t),{},{email:e.target.value})),placeholder:"contacto@empresa.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})},Hr=e=>{let{data:t,onChange:r}=e;const[n,l]=(0,a.useState)(""),o=()=>{if(n.trim()){const e=t.pilares_estrategicos||[];r((0,s.A)((0,s.A)({},t),{},{pilares_estrategicos:[...e,n.trim()]})),l("")}};return(0,kt.jsxs)("div",{className:"space-y-6",children:[(0,kt.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Estrategia Empresarial"}),(0,kt.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:"Define la visi\xf3n, misi\xf3n y pilares estrat\xe9gicos de tu empresa."}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Visi\xf3n"}),(0,kt.jsx)("textarea",{value:t.vision||"",onChange:e=>r((0,s.A)((0,s.A)({},t),{},{vision:e.target.value})),placeholder:"\xbfHacia d\xf3nde quiere llegar su empresa en el futuro?",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Misi\xf3n"}),(0,kt.jsx)("textarea",{value:t.mision||"",onChange:e=>r((0,s.A)((0,s.A)({},t),{},{mision:e.target.value})),placeholder:"\xbfCu\xe1l es el prop\xf3sito fundamental de su empresa?",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pilares Estrat\xe9gicos"}),(0,kt.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,kt.jsx)("input",{type:"text",value:n,onChange:e=>l(e.target.value),placeholder:"Agregar pilar estrat\xe9gico...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),o())}),(0,kt.jsx)("button",{type:"button",onClick:o,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Agregar"})]}),(0,kt.jsx)("div",{className:"space-y-2",children:(t.pilares_estrategicos||[]).map((e,a)=>(0,kt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,kt.jsx)("span",{className:"text-gray-700",children:e}),(0,kt.jsx)("button",{type:"button",onClick:()=>(e=>{const a=t.pilares_estrategicos||[];r((0,s.A)((0,s.A)({},t),{},{pilares_estrategicos:a.filter((t,r)=>r!==e)}))})(a),className:"text-red-500 hover:text-red-700",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},a))})]})]})},Vr=e=>{let{data:t,onChange:r}=e;const a=t.tipologias_activas||[];return(0,kt.jsxs)("div",{className:"space-y-6",children:[(0,kt.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Tipolog\xedas de Servicio"}),(0,kt.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:"Seleccione los tipos de servicio que maneja su empresa. Esto habilitar\xe1 los checklists de cumplimiento correspondientes."}),(0,kt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Ir.map(e=>(0,kt.jsx)("div",{onClick:()=>{return n=e.id,void(a.includes(n)?r((0,s.A)((0,s.A)({},t),{},{tipologias_activas:a.filter(e=>e!==n)})):r((0,s.A)((0,s.A)({},t),{},{tipologias_activas:[...a,n]})));var n},className:"p-4 border-2 rounded-lg cursor-pointer transition-all ".concat(a.includes(e.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"),children:(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("div",{className:"w-5 h-5 rounded flex-shrink-0 border-2 flex items-center justify-center mt-0.5 ".concat(a.includes(e.id)?"bg-blue-500 border-blue-500":"border-gray-300"),children:a.includes(e.id)&&(0,kt.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h4",{className:"font-medium text-gray-800",children:e.nombre}),(0,kt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.descripcion})]})]})},e.id))})]})},qr=e=>{var t,r;let{data:a}=e;return(0,kt.jsxs)("div",{className:"space-y-6",children:[(0,kt.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Confirmaci\xf3n"}),(0,kt.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:"Revise la informaci\xf3n antes de crear la empresa."}),(0,kt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[(0,kt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:"Nombre"}),(0,kt.jsx)("p",{className:"font-medium text-gray-800",children:a.nombre||"-"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:"RFC"}),(0,kt.jsx)("p",{className:"font-medium text-gray-800",children:a.rfc||"-"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:"Industria"}),(0,kt.jsx)("p",{className:"font-medium text-gray-800",children:a.industria||"-"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,kt.jsx)("p",{className:"font-medium text-gray-800",children:a.email||"-"})]})]}),a.vision&&(0,kt.jsxs)("div",{className:"pt-4 border-t",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:"Visi\xf3n"}),(0,kt.jsx)("p",{className:"text-gray-700",children:a.vision})]}),a.mision&&(0,kt.jsxs)("div",{className:"pt-4 border-t",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:"Misi\xf3n"}),(0,kt.jsx)("p",{className:"text-gray-700",children:a.mision})]}),(null===(t=a.pilares_estrategicos)||void 0===t?void 0:t.length)>0&&(0,kt.jsxs)("div",{className:"pt-4 border-t",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Pilares Estrat\xe9gicos"}),(0,kt.jsx)("div",{className:"flex flex-wrap gap-2",children:a.pilares_estrategicos.map((e,t)=>(0,kt.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:e},t))})]}),(null===(r=a.tipologias_activas)||void 0===r?void 0:r.length)>0&&(0,kt.jsxs)("div",{className:"pt-4 border-t",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Tipolog\xedas Activas"}),(0,kt.jsx)("div",{className:"flex flex-wrap gap-2",children:a.tipologias_activas.map(e=>{const t=Ir.find(t=>t.id===e);return t?(0,kt.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:t.nombre},e):null})})]})]})]})};function Kr(){const e=xe(),[t,r]=(0,a.useState)(1),[n,s]=(0,a.useState)(!1),[l,o]=(0,a.useState)(null),[i,c]=(0,a.useState)({nombre:"",rfc:"",industria:"",email:"",vision:"",mision:"",pilares_estrategicos:[],tipologias_activas:[]});return(0,kt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 py-12",children:(0,kt.jsxs)("div",{className:"max-w-2xl mx-auto px-4",children:[(0,kt.jsxs)("div",{className:"text-center mb-8",children:[(0,kt.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Nueva Empresa"}),(0,kt.jsx)("p",{className:"text-gray-600",children:"Configure su empresa en unos simples pasos"})]}),(0,kt.jsx)(Wr,{currentStep:t,totalSteps:4}),(0,kt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[l&&(0,kt.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:l}),1===t&&(0,kt.jsx)(Ur,{data:i,onChange:c}),2===t&&(0,kt.jsx)(Hr,{data:i,onChange:c}),3===t&&(0,kt.jsx)(Vr,{data:i,onChange:c}),4===t&&(0,kt.jsx)(qr,{data:i}),(0,kt.jsxs)("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[(0,kt.jsx)("button",{onClick:1===t?()=>e("/empresas"):()=>{o(null),r(t-1)},className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:1===t?"Cancelar":"Anterior"}),t<4?(0,kt.jsx)("button",{onClick:()=>{(()=>{var e,r;if(1===t){if(null===(e=i.nombre)||void 0===e||!e.trim())return o("El nombre de la empresa es requerido"),!1;if(null===(r=i.rfc)||void 0===r||!r.trim())return o("El RFC es requerido"),!1;if(!i.industria)return o("Seleccione una industria"),!1}return o(null),!0})()&&r(t+1)},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Siguiente"}):(0,kt.jsx)("button",{onClick:async()=>{try{s(!0),o(null);const t=await zr.crear(i);t.empresa_id?e("/empresa/".concat(t.empresa_id,"/configuracion")):e("/empresas")}catch(t){o("Error al crear la empresa. Por favor intente nuevamente."),console.error(t)}finally{s(!1)}},disabled:n,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:n?"Creando...":"Crear Empresa"})]})]})]})})}const Gr=[{id:"consultoria_macro_mercado",nombre:"Consultor\xeda Macro/Mercado",descripcion:"Servicios de consultor\xeda estrat\xe9gica y an\xe1lisis de mercado"},{id:"intragrupo_management_fee",nombre:"Intragrupo/Management Fee",descripcion:"Servicios de gesti\xf3n entre empresas del mismo grupo"},{id:"software_saas_desarrollo",nombre:"Software/SaaS/Desarrollo",descripcion:"Desarrollo de software y servicios en la nube"},{id:"marketing_publicidad",nombre:"Marketing/Publicidad",descripcion:"Servicios de marketing y campa\xf1as publicitarias"},{id:"legal_fiscal",nombre:"Legal/Fiscal",descripcion:"Asesor\xeda legal y fiscal especializada"},{id:"rrhh_capacitacion",nombre:"RRHH/Capacitaci\xf3n",descripcion:"Servicios de recursos humanos y formaci\xf3n"}],$r=e=>{let{active:t,onClick:r,children:a}=e;return(0,kt.jsx)("button",{onClick:r,className:"px-4 py-2 text-sm font-medium rounded-t-lg transition-all ".concat(t?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"),children:a})},Jr=e=>{let{label:t,value:r,onChange:a,type:n="text",placeholder:s,disabled:l=!1}=e;return(0,kt.jsxs)("div",{className:"mb-4",children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,kt.jsx)("input",{type:n,value:r||"",onChange:e=>a(e.target.value),placeholder:s,disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"})]})},Qr=e=>{let{label:t,value:r,onChange:a,placeholder:n,rows:s=3}=e;return(0,kt.jsxs)("div",{className:"mb-4",children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,kt.jsx)("textarea",{value:r||"",onChange:e=>a(e.target.value),placeholder:n,rows:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})},Xr=e=>{let{empresa:t,onUpdate:r,saving:n}=e;const[l,o]=(0,a.useState)({nombre:(null===t||void 0===t?void 0:t.nombre)||"",rfc:(null===t||void 0===t?void 0:t.rfc)||"",industria:(null===t||void 0===t?void 0:t.industria)||"",direccion:(null===t||void 0===t?void 0:t.direccion)||"",telefono:(null===t||void 0===t?void 0:t.telefono)||"",email:(null===t||void 0===t?void 0:t.email)||""});(0,a.useEffect)(()=>{t&&o({nombre:t.nombre||"",rfc:t.rfc||"",industria:t.industria||"",direccion:t.direccion||"",telefono:t.telefono||"",email:t.email||""})},[t]);return(0,kt.jsxs)("div",{className:"p-6",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Informaci\xf3n de la Empresa"}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,kt.jsx)(Jr,{label:"Nombre de la Empresa",value:l.nombre,onChange:e=>o((0,s.A)((0,s.A)({},l),{},{nombre:e})),placeholder:"Ingrese el nombre"}),(0,kt.jsx)(Jr,{label:"RFC",value:l.rfc,onChange:e=>o((0,s.A)((0,s.A)({},l),{},{rfc:e})),placeholder:"RFC de la empresa"}),(0,kt.jsx)(Jr,{label:"Industria",value:l.industria,onChange:e=>o((0,s.A)((0,s.A)({},l),{},{industria:e})),placeholder:"Sector o industria"}),(0,kt.jsx)(Jr,{label:"Tel\xe9fono",value:l.telefono,onChange:e=>o((0,s.A)((0,s.A)({},l),{},{telefono:e})),placeholder:"Tel\xe9fono de contacto"}),(0,kt.jsx)(Jr,{label:"Email",value:l.email,onChange:e=>o((0,s.A)((0,s.A)({},l),{},{email:e})),placeholder:"Email de contacto",type:"email"}),(0,kt.jsx)(Jr,{label:"Direcci\xf3n",value:l.direccion,onChange:e=>o((0,s.A)((0,s.A)({},l),{},{direccion:e})),placeholder:"Direcci\xf3n fiscal"})]}),(0,kt.jsx)("div",{className:"mt-6 flex justify-end",children:(0,kt.jsx)("button",{onClick:()=>{r(l)},disabled:n,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:n?"Guardando...":"Guardar Cambios"})})]})},Yr=e=>{let{empresa:t,onUpdateVisionMision:r,onUpdatePilares:n,saving:s}=e;const[l,o]=(0,a.useState)((null===t||void 0===t?void 0:t.vision)||""),[i,c]=(0,a.useState)((null===t||void 0===t?void 0:t.mision)||""),[d,u]=(0,a.useState)((null===t||void 0===t?void 0:t.pilares_estrategicos)||[]),[m,p]=(0,a.useState)("");(0,a.useEffect)(()=>{t&&(o(t.vision||""),c(t.mision||""),u(t.pilares_estrategicos||[]))},[t]);const x=()=>{m.trim()&&(u([...d,m.trim()]),p(""))};return(0,kt.jsxs)("div",{className:"p-6",children:[(0,kt.jsxs)("div",{className:"mb-8",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Visi\xf3n y Misi\xf3n"}),(0,kt.jsx)(Qr,{label:"Visi\xf3n",value:l,onChange:o,placeholder:"Describa la visi\xf3n de la empresa...",rows:4}),(0,kt.jsx)(Qr,{label:"Misi\xf3n",value:i,onChange:c,placeholder:"Describa la misi\xf3n de la empresa...",rows:4}),(0,kt.jsx)("div",{className:"flex justify-end",children:(0,kt.jsx)("button",{onClick:()=>{r(l,i)},disabled:s,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:s?"Guardando...":"Guardar Visi\xf3n y Misi\xf3n"})})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Pilares Estrat\xe9gicos"}),(0,kt.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,kt.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),placeholder:"Nuevo pilar estrat\xe9gico...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyPress:e=>"Enter"===e.key&&x()}),(0,kt.jsx)("button",{onClick:x,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Agregar"})]}),(0,kt.jsxs)("div",{className:"space-y-2 mb-4",children:[d.map((e,t)=>(0,kt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,kt.jsx)("span",{className:"text-gray-700",children:e}),(0,kt.jsx)("button",{onClick:()=>(e=>{u(d.filter((t,r)=>r!==e))})(t),className:"text-red-500 hover:text-red-700",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t)),0===d.length&&(0,kt.jsx)("p",{className:"text-gray-500 text-sm italic",children:"No hay pilares estrat\xe9gicos definidos"})]}),(0,kt.jsx)("div",{className:"flex justify-end",children:(0,kt.jsx)("button",{onClick:()=>{n(d)},disabled:s,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:s?"Guardando...":"Guardar Pilares"})})]})]})},Zr=e=>{let{empresa:t,onUpdateOKRs:r,saving:n}=e;const[l,o]=(0,a.useState)((null===t||void 0===t?void 0:t.okrs)||[]);(0,a.useEffect)(()=>{null!==t&&void 0!==t&&t.okrs&&o(t.okrs)},[t]);return(0,kt.jsxs)("div",{className:"p-6",children:[(0,kt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Objetivos y Resultados Clave (OKRs)"}),(0,kt.jsx)("button",{onClick:()=>{o([...l,{objetivo:"",resultados_clave:[""]}])},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"+ Nuevo OKR"})]}),(0,kt.jsxs)("div",{className:"space-y-6",children:[l.map((e,t)=>(0,kt.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[(0,kt.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,kt.jsxs)("div",{className:"flex-1 mr-4",children:[(0,kt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Objetivo ",t+1]}),(0,kt.jsx)("input",{type:"text",value:e.objetivo,onChange:e=>((e,t)=>{const r=[...l];r[e].objetivo=t,o(r)})(t,e.target.value),placeholder:"Describa el objetivo...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,kt.jsx)("button",{onClick:()=>{return e=t,void o(l.filter((t,r)=>r!==e));var e},className:"text-red-500 hover:text-red-700 mt-6",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),(0,kt.jsxs)("div",{className:"ml-4",children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Resultados Clave"}),e.resultados_clave.map((e,r)=>(0,kt.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,kt.jsx)("input",{type:"text",value:e,onChange:e=>((e,t,r)=>{const a=[...l];a[e].resultados_clave[t]=r,o(a)})(t,r,e.target.value),placeholder:"Resultado clave ".concat(r+1,"..."),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"}),(0,kt.jsx)("button",{onClick:()=>((e,t)=>{const r=[...l];r[e].resultados_clave=r[e].resultados_clave.filter((e,r)=>r!==t),o(r)})(t,r),className:"text-red-400 hover:text-red-600",children:(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},r)),(0,kt.jsx)("button",{onClick:()=>(e=>{const t=[...l];t[e].resultados_clave.push(""),o(t)})(t),className:"text-sm text-blue-600 hover:text-blue-800",children:"+ Agregar resultado clave"})]})]},t)),0===l.length&&(0,kt.jsx)("p",{className:"text-gray-500 text-center py-8 italic",children:'No hay OKRs definidos. Haga clic en "Nuevo OKR" para comenzar.'})]}),(0,kt.jsx)("div",{className:"mt-6 flex justify-end",children:(0,kt.jsx)("button",{onClick:()=>{const e=l.filter(e=>e.objetivo.trim()).map(e=>(0,s.A)((0,s.A)({},e),{},{resultados_clave:e.resultados_clave.filter(e=>e.trim())}));r(e)},disabled:n,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:n?"Guardando...":"Guardar OKRs"})})]})},ea=e=>{let{empresa:t,onUpdateTipologias:r,saving:n}=e;const[s,l]=(0,a.useState)((null===t||void 0===t?void 0:t.tipologias_activas)||[]);(0,a.useEffect)(()=>{null!==t&&void 0!==t&&t.tipologias_activas&&l(t.tipologias_activas)},[t]);return(0,kt.jsxs)("div",{className:"p-6",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Tipolog\xedas de Servicio Activas"}),(0,kt.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:"Seleccione las tipolog\xedas de servicio que aplican a su empresa para habilitar los checklists correspondientes."}),(0,kt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Gr.map(e=>(0,kt.jsx)("div",{onClick:()=>{return t=e.id,void(s.includes(t)?l(s.filter(e=>e!==t)):l([...s,t]));var t},className:"p-4 border-2 rounded-lg cursor-pointer transition-all ".concat(s.includes(e.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("div",{className:"w-5 h-5 rounded flex-shrink-0 border-2 flex items-center justify-center mt-0.5 ".concat(s.includes(e.id)?"bg-blue-500 border-blue-500":"border-gray-300"),children:s.includes(e.id)&&(0,kt.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h4",{className:"font-medium text-gray-800",children:e.nombre}),(0,kt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.descripcion})]})]})},e.id))}),(0,kt.jsx)("div",{className:"mt-6 flex justify-end",children:(0,kt.jsx)("button",{onClick:()=>{r(s)},disabled:n,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:n?"Guardando...":"Guardar Tipolog\xedas"})})]})},ta=e=>{let{empresa:t}=e;const[r,n]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0),[o,i]=(0,a.useState)([]);(0,a.useEffect)(()=>{c()},[]);const c=async()=>{try{const e=await fetch("/api/templates/"),t=await e.json();n(t)}catch(e){console.error("Error loading templates:",e)}finally{l(!1)}},d=r.reduce((e,t)=>{var r;return e+((null===(r=t.plantillas)||void 0===r?void 0:r.length)||0)},0),u={A1_ESTRATEGIA:"from-blue-500 to-blue-600",A2_PMO:"from-green-500 to-green-600",A3_FISCAL:"from-red-500 to-red-600",A4_LEGAL:"from-purple-500 to-purple-600",A5_FINANZAS:"from-yellow-500 to-yellow-600",A6_PROVEEDOR:"from-orange-500 to-orange-600",A7_DEFENSA:"from-indigo-500 to-indigo-600",KNOWLEDGE_BASE:"from-gray-600 to-gray-700"};return(0,kt.jsxs)("div",{className:"p-6 space-y-8",children:[(0,kt.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white mb-6",children:(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-xl font-bold mb-1",children:"Sistema RAG Multi-Tenant"}),(0,kt.jsx)("p",{className:"text-blue-100 text-sm",children:"Documentos de contexto para que los agentes IA entiendan su empresa"})]}),(0,kt.jsxs)("div",{className:"flex gap-4",children:[(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"text-3xl font-bold",children:r.length}),(0,kt.jsx)("div",{className:"text-xs text-blue-200",children:"Agentes"})]}),(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"text-3xl font-bold",children:d}),(0,kt.jsx)("div",{className:"text-xs text-blue-200",children:"Plantillas"})]})]})]})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Plantillas de Documentos por Agente"}),(0,kt.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"Descargue estas plantillas, compl\xe9telas con informaci\xf3n de su empresa, y s\xfabalas para personalizar el contexto de cada agente IA."}),s?(0,kt.jsx)("div",{className:"text-center py-8",children:(0,kt.jsx)("div",{className:"w-8 h-8 border-4 border-blue-200 rounded-full animate-spin border-t-blue-600 mx-auto"})}):(0,kt.jsx)("div",{className:"space-y-6",children:r.map(e=>{var t,r;return(0,kt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,kt.jsxs)("h4",{className:"font-medium text-gray-700 mb-3 flex items-center justify-between",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("span",{className:"w-8 h-8 bg-gradient-to-r ".concat(u[e.agente]||"from-gray-500 to-gray-600"," text-white rounded-lg flex items-center justify-center text-xs font-bold shadow-sm"),children:(null===(t=e.agente)||void 0===t?void 0:t.substring(0,2))||"?"}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"font-semibold",children:e.agente_nombre||e.agente}),(0,kt.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",(null===(r=e.plantillas)||void 0===r?void 0:r.length)||0," docs)"]})]})]}),"KNOWLEDGE_BASE"===e.agente&&(0,kt.jsx)("span",{className:"px-2 py-1 bg-gray-200 text-gray-600 text-xs rounded-full",children:"Universal"})]}),(0,kt.jsx)("div",{className:"grid gap-3",children:e.plantillas.map(t=>(0,kt.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-gray-200 flex items-center justify-between hover:border-blue-300 transition-colors",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("svg",{className:"w-8 h-8 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"font-medium text-gray-800 text-sm",children:t.nombre}),(0,kt.jsx)("p",{className:"text-xs text-gray-500",children:t.descripcion})]})]}),(0,kt.jsxs)("a",{href:"/api/templates/".concat(e.agente,"/").concat(t.id,"/download"),download:!0,className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium flex items-center gap-1",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Descargar"]})]},t.id))})]},e.agente)})})]}),(0,kt.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Documentos de su Empresa"}),(0,kt.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"Suba los documentos completados para que los agentes puedan entender el contexto de su empresa."}),(0,kt.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[(0,kt.jsx)("svg",{className:"w-10 h-10 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,kt.jsx)("p",{className:"text-gray-500 text-sm mb-2",children:"Arrastre archivos aqu\xed o"}),(0,kt.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",disabled:!0,children:"Seleccionar Archivos (Pr\xf3ximamente)"}),(0,kt.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"PDF, Word, Markdown. M\xe1x 10MB"})]}),0===o.length&&(0,kt.jsx)("p",{className:"text-center text-gray-400 text-sm mt-4",children:"No hay documentos cargados a\xfan"})]})]})};function ra(){const{empresaId:e}=he(),t=xe(),[r,n]=(0,a.useState)(null),[s,l]=(0,a.useState)(!0),[o,i]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)("perfil"),[p,x]=(0,a.useState)("");(0,a.useEffect)(()=>{h()},[e]);const h=async()=>{try{l(!0);const t=await zr.obtener(e);n(t),d(null)}catch(t){d("Error al cargar la informaci\xf3n de la empresa"),console.error(t)}finally{l(!1)}},f=e=>{x(e),setTimeout(()=>x(""),3e3)};return s?(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"w-12 h-12 border-4 border-blue-200 rounded-full animate-spin border-t-blue-600 mx-auto"}),(0,kt.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando configuraci\xf3n..."})]})}):(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,kt.jsxs)("div",{className:"max-w-5xl mx-auto px-4",children:[(0,kt.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("button",{onClick:()=>t("/empresas"),className:"text-gray-500 hover:text-gray-700 mb-2 flex items-center gap-1 text-sm",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Volver a empresas"]}),(0,kt.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Configuraci\xf3n de Empresa"}),(0,kt.jsx)("p",{className:"text-gray-600",children:(null===r||void 0===r?void 0:r.nombre)||"Empresa"})]})}),c&&(0,kt.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:c}),p&&(0,kt.jsx)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg text-green-700",children:p}),(0,kt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,kt.jsx)("div",{className:"border-b border-gray-200 bg-gray-50 px-4 pt-4",children:(0,kt.jsxs)("div",{className:"flex gap-2 overflow-x-auto",children:[(0,kt.jsx)($r,{active:"perfil"===u,onClick:()=>m("perfil"),children:"Perfil"}),(0,kt.jsx)($r,{active:"estrategia"===u,onClick:()=>m("estrategia"),children:"Estrategia"}),(0,kt.jsx)($r,{active:"okrs"===u,onClick:()=>m("okrs"),children:"OKRs"}),(0,kt.jsx)($r,{active:"tipologias"===u,onClick:()=>m("tipologias"),children:"Tipolog\xedas"}),(0,kt.jsx)($r,{active:"conocimiento"===u,onClick:()=>m("conocimiento"),children:"Base de Conocimiento"})]})}),"perfil"===u&&(0,kt.jsx)(Xr,{empresa:r,onUpdate:async t=>{try{i(!0),await zr.actualizar(e,t),await h(),f("Perfil actualizado correctamente")}catch(r){d("Error al actualizar el perfil")}finally{i(!1)}},saving:o}),"estrategia"===u&&(0,kt.jsx)(Yr,{empresa:r,onUpdateVisionMision:async(t,r)=>{try{i(!0),await zr.actualizarVisionMision(e,t,r),await h(),f("Visi\xf3n y misi\xf3n actualizadas correctamente")}catch(a){d("Error al actualizar visi\xf3n y misi\xf3n")}finally{i(!1)}},onUpdatePilares:async t=>{try{i(!0),await zr.actualizarPilares(e,t),await h(),f("Pilares estrat\xe9gicos actualizados correctamente")}catch(r){d("Error al actualizar pilares")}finally{i(!1)}},saving:o}),"okrs"===u&&(0,kt.jsx)(Zr,{empresa:r,onUpdateOKRs:async t=>{try{i(!0),await zr.actualizarOKRs(e,t),await h(),f("OKRs actualizados correctamente")}catch(r){d("Error al actualizar OKRs")}finally{i(!1)}},saving:o}),"tipologias"===u&&(0,kt.jsx)(ea,{empresa:r,onUpdateTipologias:async t=>{try{i(!0),await zr.configurarTipologias(e,t),await h(),f("Tipolog\xedas actualizadas correctamente")}catch(r){d("Error al actualizar tipolog\xedas")}finally{i(!1)}},saving:o}),"conocimiento"===u&&(0,kt.jsx)(ta,{empresa:r})]})]})})}const aa=e=>{let{projectId:t,currentProjectId:r}=e;const[n,s]=(0,a.useState)([]),[l,o]=(0,a.useState)(!0),[i,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(null);(0,a.useEffect)(()=>{t&&(async()=>{try{o(!0);const e=localStorage.getItem("auth_token"),r=await fetch("/api/projects/".concat(t,"/versions"),{headers:{Authorization:"Bearer ".concat(e)}});if(!r.ok)throw new Error("Error al cargar historial");const a=await r.json();s(a.versions||[])}catch(e){c(e.message)}finally{o(!1)}})()},[t]);const m=e=>{if(!e)return"-";return new Date(e).toLocaleDateString("es-MX",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})},p=e=>{switch(e){case"approve":case"approved":return"bg-green-500";case"request_adjustment":case"requires_adjustment":return"bg-amber-500";case"reject":case"rejected":return"bg-red-500";default:return"bg-gray-400"}},x=e=>{switch(e){case"approve":case"approved":return"Aprobado";case"request_adjustment":case"requires_adjustment":return"Ajustes";case"reject":case"rejected":return"Rechazado";default:return"Pendiente"}},h=e=>({A1_SPONSOR:"Estrategia",A3_FISCAL:"Fiscal",A5_FINANZAS:"Finanzas",LEGAL:"Legal",A2_PMO:"PMO",STRATEGY_COUNCIL:"Consejo"}[e]||e);return l?(0,kt.jsx)("div",{className:"bg-white rounded-xl border border-gray-100 p-6",children:(0,kt.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,kt.jsx)("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,kt.jsx)("span",{className:"text-gray-500",children:"Cargando historial..."})]})}):i?(0,kt.jsx)("div",{className:"bg-white rounded-xl border border-gray-100 p-6",children:(0,kt.jsx)("p",{className:"text-red-500 text-sm",children:i})}):0===n.length?(0,kt.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:(0,kt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,kt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:(0,kt.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Historial de Versiones"}),(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:"No hay versiones registradas a\xfan"})]})]})}):(0,kt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,kt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:(0,kt.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Historial de Versiones"}),(0,kt.jsxs)("p",{className:"text-sm text-gray-500",children:[n.length," versiones del proyecto"]})]})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),(0,kt.jsx)("div",{className:"space-y-4",children:n.map((e,t)=>{const a=e.project_id===r,n=d===e.project_id,s="v".concat(e.version||t+1,".0");return(0,kt.jsxs)("div",{className:"relative pl-10",children:[(0,kt.jsx)("div",{className:"absolute left-2 w-5 h-5 rounded-full border-2 ".concat(a?"bg-indigo-500 border-indigo-500":"approved"===e.final_decision?"bg-green-500 border-green-500":"rejected"===e.final_decision?"bg-red-500 border-red-500":"bg-white border-gray-300"),children:a&&(0,kt.jsx)("div",{className:"absolute inset-0 rounded-full animate-ping bg-indigo-400 opacity-50"})}),(0,kt.jsxs)("div",{className:"border rounded-xl p-4 transition-all cursor-pointer ".concat(a?"border-indigo-300 bg-indigo-50/50 shadow-sm":"border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm"),onClick:()=>u(n?null:e.project_id),children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("span",{className:"px-2 py-1 rounded-lg text-sm font-bold ".concat(a?"bg-indigo-500 text-white":"bg-gray-100 text-gray-700"),children:s}),a&&(0,kt.jsx)("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs font-medium rounded-full",children:"Actual"}),e.is_adjustment&&(0,kt.jsx)("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 text-xs font-medium rounded-full",children:"Ajuste"})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsxs)("span",{className:"px-2 py-1 rounded-lg text-sm font-semibold ".concat((l=e.compliance_score,l>=75?"text-green-600 bg-green-100":l>=50?"text-amber-600 bg-amber-100":"text-red-600 bg-red-100")),children:[e.compliance_score,"%"]}),(0,kt.jsx)("svg",{className:"w-5 h-5 text-gray-400 transition-transform ".concat(n?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),(0,kt.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:m(e.created_at)}),(0,kt.jsxs)("div",{className:"flex items-center gap-1",children:[e.agent_states&&e.agent_states.map((e,t)=>(0,kt.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white ".concat(p(e.decision)),title:"".concat(h(e.agent_id),": ").concat(x(e.decision)),children:h(e.agent_id).charAt(0)},t)),(!e.agent_states||0===e.agent_states.length)&&(0,kt.jsx)("span",{className:"text-xs text-gray-400",children:"Sin deliberaciones"})]}),n&&(0,kt.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,kt.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Estado de Agentes"}),(0,kt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:e.agent_states&&e.agent_states.map((e,t)=>(0,kt.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[(0,kt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(p(e.decision))}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-xs font-medium text-gray-700",children:h(e.agent_id)}),(0,kt.jsx)("p",{className:"text-xs text-gray-500",children:x(e.decision)})]})]},t))}),e.adjustment_notes&&(0,kt.jsxs)("div",{className:"mt-3 p-3 bg-amber-50 rounded-lg",children:[(0,kt.jsx)("p",{className:"text-xs font-medium text-amber-800 mb-1",children:"Notas de ajuste:"}),(0,kt.jsx)("p",{className:"text-xs text-amber-700",children:e.adjustment_notes})]}),!a&&(0,kt.jsxs)(ft,{to:"/project/".concat(e.project_id),className:"mt-3 inline-flex items-center gap-1 text-sm text-indigo-600 hover:text-indigo-800 font-medium",children:["Ver esta versi\xf3n",(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]},e.project_id);var l})})]})]})};function na(){const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[l,o]=(0,a.useState)(!1),[i,c]=(0,a.useState)(!1),d=(0,a.useRef)(null),u=(0,a.useRef)(null);(0,a.useEffect)(()=>{var e;null===(e=u.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[e]);const m=(0,a.useCallback)(function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const a={id:"user-".concat(Date.now()),role:"user",type:"user",content:e,text:e,attachments:r,timestamp:(new Date).toISOString()};return t(e=>[...e,a]),n(t=>[...t,{role:"user",content:e}]),a},[]),p=(0,a.useCallback)(function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(0,s.A)({id:"bot-".concat(Date.now()),role:"assistant",type:"bot",content:e,text:e,timestamp:(new Date).toISOString()},r);return t(e=>[...e,a]),n(t=>[...t,{role:"assistant",content:e}]),a},[]),x=(0,a.useCallback)(function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const a={id:"system-".concat(Date.now()),role:"system",type:r,content:e,text:e,timestamp:(new Date).toISOString()};return t(e=>[...e,a]),a},[]),h=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(!0);const r=(0,s.A)({id:"streaming-".concat(Date.now()),role:"assistant",type:"bot",content:"",text:"",isStreaming:!0,timestamp:(new Date).toISOString()},e);return d.current=r.id,t(e=>[...e,r]),r.id},[]),f=(0,a.useCallback)(e=>{d.current&&t(t=>t.map(t=>t.id===d.current?(0,s.A)((0,s.A)({},t),{},{content:t.content+e,text:t.text+e}):t))},[]),g=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d.current&&(t(t=>{const a=t.map(t=>t.id===d.current?(0,s.A)((0,s.A)({},t),{},{content:e||t.content,text:e||t.text,isStreaming:!1},r):t),l=a.find(e=>e.id===d.current);return l&&n(e=>[...e,{role:"assistant",content:l.content}]),a}),d.current=null,c(!1))},[]),b=(0,a.useCallback)(()=>{d.current&&(t(e=>e.filter(e=>e.id!==d.current)),d.current=null,c(!1))},[]),v=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t>0?setTimeout(()=>o(e),t):o(e)},[]),y=(0,a.useCallback)(()=>{t([]),n([])},[]),j=(0,a.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]),N=(0,a.useCallback)((e,r)=>{t(t=>t.map(t=>t.id===e?(0,s.A)((0,s.A)({},t),r):t))},[]);return{messages:e,conversationHistory:r,isTyping:l,isStreaming:i,messagesEndRef:u,addUserMessage:m,addBotMessage:p,addSystemMessage:x,startStreaming:h,updateStreamingMessage:f,finalizeStreamingMessage:g,cancelStreaming:b,setTyping:v,clearMessages:y,removeMessage:j,updateMessage:N,setMessages:t}}const sa=[".pdf",".docx",".xlsx",".txt",".xml",".png",".jpg",".jpeg"];function la(e){const[t,r]=(0,a.useState)([]),[n,l]=(0,a.useState)([]),[o,i]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)([]),[p,x]=(0,a.useState)([]),[h,f]=(0,a.useState)({}),[g,b]=(0,a.useState)(null),v=(0,a.useCallback)(e=>{const t="."+e.name.split(".").pop().toLowerCase();return sa.includes(t)?e.size>52428800?{valid:!1,error:"Archivo muy grande: ".concat((e.size/1024/1024).toFixed(2),"MB. M\xe1ximo: 50MB")}:{valid:!0}:{valid:!1,error:"Tipo de archivo no permitido: ".concat(t,". Permitidos: ").concat(sa.join(", "))}},[]),y=(0,a.useCallback)(async e=>{b(null);const t=[],a=[];for(const r of e){const e=v(r);e.valid?t.push({id:"file-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:r,name:r.name,size:r.size,type:r.type,status:"pending",progress:0}):a.push({file:r.name,error:e.error})}return a.length>0&&b(a.map(e=>"".concat(e.file,": ").concat(e.error)).join("\n")),t.length>0&&r(e=>[...e,...t]),t},[v]),j=(0,a.useCallback)(async e=>{const t=new FormData;t.append("file",e);const r=new AbortController,a=setTimeout(()=>r.abort(),6e4);try{i(!0),console.log("[useFileUpload] Analizando: ".concat(e.name));const l=await fetch("/api/chat/archivo/analyze-document",{method:"POST",body:t,signal:r.signal});clearTimeout(a);const o=await l.text();let c;console.log("[useFileUpload] Respuesta para ".concat(e.name,":"),o.substring(0,200));try{c=o?JSON.parse(o):{}}catch(n){throw console.error("[useFileUpload] JSON parse error para ".concat(e.name,":"),n),new Error("Respuesta inv\xe1lida del servidor")}if(!l.ok)throw console.error("[useFileUpload] Error HTTP ".concat(l.status," para ").concat(e.name,":"),c),new Error(c.detail||"Error del servidor (".concat(l.status,")"));return m(e=>[...e,c]),c.extracted_text&&x(t=>[...t,{filename:e.name,text:c.extracted_text,classification:c.classification}]),console.log("[useFileUpload] An\xe1lisis exitoso para ".concat(e.name,":"),c.classification),(0,s.A)((0,s.A)({},c),{},{success:!0})}catch(g){clearTimeout(a);let r=g.message;return"AbortError"===g.name&&(r="Tiempo de espera agotado (60s). El archivo puede ser muy grande."),console.error("[useFileUpload] Error analizando ".concat(e.name,":"),r),{success:!1,classification:"unknown",file_name:e.name,error:r}}finally{i(!1)}},[]),N=(0,a.useCallback)(async t=>{i(!0);const a=[];for(const e of t)try{r(t=>t.map(t=>t.id===e.id?(0,s.A)((0,s.A)({},t),{},{status:"analyzing"}):t));const t=e.file||e,n=await j(t);a.push((0,s.A)({fileId:e.id,fileName:e.name||t.name},n)),r(t=>t.map(t=>t.id===e.id?(0,s.A)((0,s.A)({},t),{},{status:"analyzed",analysis:n}):t))}catch(n){console.error("Error analizando ".concat(e.name,":"),n),r(t=>t.map(t=>t.id===e.id?(0,s.A)((0,s.A)({},t),{},{status:"error",error:n.message}):t))}return i(!1),e&&a.length>0&&e(a),a},[j,e]),w=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=new FormData;t.forEach(e=>n.append("files",e.file)),e&&n.append("mensaje",e),a&&n.append("empresaId",a);try{d(!0);const e=await fetch("/api/upload",{method:"POST",body:n}),t=await e.text();let a;try{a=JSON.parse(t)}catch(l){a={detail:t||"Error de servidor"}}if(!e.ok)throw new Error(a.detail||a.error||"Error uploading files");return r(e=>e.map(e=>(0,s.A)((0,s.A)({},e),{},{status:"uploaded"}))),a}catch(g){return console.error("Upload error:",g),b("Error subiendo archivos: ".concat(g.message)),{success:!1,error:g.message}}finally{d(!1)}},[t]),k=(0,a.useCallback)(e=>{r(t=>t.filter(t=>t.id!==e)),m(t=>t.filter(t=>t.fileId!==e)),x(t=>t.filter(t=>t.fileId!==e))},[]),S=(0,a.useCallback)(()=>{r([]),l([]),m([]),x([]),b(null)},[]),C=(0,a.useCallback)(e=>t.find(t=>t.id===e),[t]),E=(0,a.useCallback)(e=>u.find(t=>t.fileId===e),[u]);return{uploadedFiles:t,additionalFiles:n,isProcessingFile:o,isUploadingDocuments:c,fileAnalysisResults:u,extractedDocumentContents:p,uploadProgress:h,error:g,handleFileSelect:y,analyzeDocument:j,analyzeFiles:N,uploadFilesToCloud:w,removeFile:k,clearAllFiles:S,getFileById:C,getAnalysisForFile:E,setUploadedFiles:r,setAdditionalFiles:l,setExtractedDocumentContents:x,clearError:()=>b(null)}}const oa=[{id:0,key:"welcome",title:"Bienvenida",description:"Identificar tipo de entidad",requiredFields:[],agent:"ARCHIVO"},{id:1,key:"entity_type",title:"Tipo de Entidad",description:"Seleccionar cliente o proveedor",requiredFields:["entityType"],agent:"ARCHIVO"},{id:2,key:"basic_info",title:"Informaci\xf3n B\xe1sica",description:"RFC, raz\xf3n social, datos de contacto",requiredFields:["rfc","razonSocial"],agent:"ARCHIVO"},{id:3,key:"documents",title:"Documentaci\xf3n",description:"Subir constancia fiscal, identificaci\xf3n",requiredFields:["constanciaFiscal"],agent:"ARCHIVO"},{id:4,key:"ai_analysis",title:"An\xe1lisis IA",description:"Extracci\xf3n autom\xe1tica de datos",requiredFields:[],agent:"ARCHIVO"},{id:5,key:"confirmation",title:"Confirmaci\xf3n",description:"Validar datos extra\xeddos",requiredFields:["dataConfirmed"],agent:"ARCHIVO"},{id:6,key:"efos_check",title:"Verificaci\xf3n EFOS",description:"Consulta Lista 69-B SAT",requiredFields:[],agent:"A6_PROVEEDOR"},{id:7,key:"complete",title:"Completado",description:"Entidad registrada exitosamente",requiredFields:[],agent:"ARCHIVO"}];function ia(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const[t,r]=(0,a.useState)(e),[n,l]=(0,a.useState)({}),[o,i]=(0,a.useState)(null),[c,d]=(0,a.useState)({}),[u,m]=(0,a.useState)("idle"),[p,x]=(0,a.useState)(null),[h,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(null),[j,N]=(0,a.useState)(""),[w,k]=(0,a.useState)(null),S="number"===typeof t?oa[t]:null,C=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;if("number"!==typeof e)return{valid:!0,missingFields:[]};const r=oa[e];if(!r)return{valid:!1,missingFields:[]};const a=r.requiredFields.filter(e=>{const t=n[e]||c[e];return!t||"string"===typeof t&&""===t.trim()});return{valid:0===a.length,missingFields:a}},[t,n,c]),E=(0,a.useCallback)(()=>{if("number"!==typeof t)return!1;const e=C();return e.valid?t<oa.length-1&&(r(e=>e+1),x(null),!0):(x("Campos requeridos faltantes: ".concat(e.missingFields.join(", "))),!1)},[t,C]),_=(0,a.useCallback)(()=>"number"===typeof t&&(t>0&&(r(e=>e-1),x(null),!0)),[t]),A=(0,a.useCallback)(e=>("number"===typeof e&&e>=0&&e<oa.length||"string"===typeof e)&&(r(e),x(null),!0),[]),L=(0,a.useCallback)((e,t)=>{l(r=>(0,s.A)((0,s.A)({},r),{},{[e]:t}))},[]),R=(0,a.useCallback)(e=>{l(t=>(0,s.A)((0,s.A)({},t),e))},[]),T=(0,a.useCallback)(e=>{d(t=>(0,s.A)((0,s.A)({},t),e))},[]),O=(0,a.useCallback)(e=>("cliente"===e||"proveedor"===e)&&(i(e),L("entityType",e),!0),[L]),z=(0,a.useCallback)(()=>{l(e=>(0,s.A)((0,s.A)((0,s.A)({},e),c),{},{dataConfirmed:!0})),f(!1)},[c]),P=(0,a.useCallback)(async e=>{m("completed"),y(e),A(oa.length-1)},[A]),D=(0,a.useCallback)(()=>{r(0),l({}),i(null),d({}),m("idle"),x(null),f(!1),y(null),N(""),k(null)},[]),M=(0,a.useCallback)(()=>"number"!==typeof t?{current:0,total:oa.length,percentage:0}:{current:t,total:oa.length,percentage:Math.round(t/(oa.length-1)*100)},[t]),F=(0,a.useCallback)(e=>"number"===typeof t&&e<t,[t]),I=(0,a.useCallback)(e=>"number"===typeof t&&e<=t,[t]);return{currentStep:t,currentStepData:S,steps:oa,collectedData:n,entityType:o,extractedData:c,onboardingStatus:u,onboardingError:p,showConfirmation:h,intelligentMode:g,createdEntity:v,emailContacto:j,createdClienteId:w,nextStep:E,prevStep:_,goToStep:A,setCurrentStep:r,updateCollectedData:L,mergeCollectedData:R,mergeExtractedData:T,selectEntityType:O,confirmExtractedData:z,setShowConfirmation:f,setIntelligentMode:b,setEmailContacto:N,setCreatedClienteId:k,setCollectedData:l,setExtractedData:d,setOnboardingStatus:m,setOnboardingError:x,completeOnboarding:P,resetOnboarding:D,validateStep:C,getProgress:M,isStepCompleted:F,isStepAccessible:I,clearError:()=>x(null)}}function ca(){const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(!0),[s,l]=(0,a.useState)(null),o=(0,a.useRef)(null),i=(0,a.useCallback)(async e=>{let{message:t,conversationHistory:r=[],companyId:a=null,companyContext:n={},stream:s=!0,onStreamChunk:i=null}=e;o.current&&o.current.abort(),o.current=new AbortController,l(null);try{const e=await fetch("/api/chat/archivo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t,history:r,company_id:a,company_context:n}),signal:o.current.signal});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));if(s&&i){const t=e.body.getReader(),r=new TextDecoder;let a="";for(;;){const{done:e,value:n}=await t.read();if(e)break;const s=r.decode(n,{stream:!0});a+=s,i(s)}return{message:a,streamed:!0}}{const t=await e.json();return{message:t.message||t.response,suggestions:t.suggestions||[],extractedData:t.extracted_data}}}catch(c){if("AbortError"===c.name)return null;const e=c.message||"Error de conexi\xf3n";throw l(e),new Error(e)}},[]),c=(0,a.useCallback)(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t(!0),l(null);try{const t=await fetch("/api/chat/archivo/web-search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,rfc:r})});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(a){const e=a.message;throw l(e),a}finally{t(!1)}},[]);return{isSearchingWeb:e,useRealAI:r,lastError:s,sendToClaudeAPI:i,searchWeb:c,analyzeDocumentWithAI:(0,a.useCallback)(async e=>{const t=new FormData;t.append("file",e);try{const e=await fetch("/api/chat/archivo/analyze-document",{method:"POST",body:t});if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.detail||"Error analyzing document")}return await e.json()}catch(r){const e=r.message;throw l(e),r}},[]),cancelRequest:(0,a.useCallback)(()=>{o.current&&o.current.abort()},[]),toggleRealAI:(0,a.useCallback)(e=>{n(e)},[]),clearError:()=>l(null),abortControllerRef:o}}new Map;const da={ARCHIVO:{id:"ARCHIVO",name:"Archivo",displayName:"Asistente de Onboarding",avatar:"\ud83d\udcc1",color:"#6366f1"},A1_ESTRATEGIA:{id:"A1_ESTRATEGIA",name:"Mar\xeda Rodr\xedguez",displayName:"Mar\xeda Rodr\xedguez",role:"Sponsor/Estrategia",avatar:"\ud83d\udc69\u200d\ud83d\udcbc",color:"#8b5cf6"},A3_FISCAL:{id:"A3_FISCAL",name:"Laura S\xe1nchez",displayName:"Laura S\xe1nchez",role:"Especialista Fiscal",avatar:"\ud83d\udc69\u200d\u2696\ufe0f",color:"#10b981"},A6_PROVEEDOR:{id:"A6_PROVEEDOR",name:"Ana Garc\xeda",displayName:"Ana Garc\xeda",role:"Verificaci\xf3n Proveedores",avatar:"\ud83d\udd0d",color:"#f59e0b"}},ua="pending",ma="analyzing",pa="analyzed",xa="uploading",ha="uploaded",fa="error",ga=[".pdf",".docx",".xlsx",".txt",".xml",".png",".jpg",".jpeg"];function ba(e){let{message:t,onSuggestionClick:r}=e;const a="user"===t.role||"user"===t.type,n="system"===t.role,s=t.isStreaming,l=t.agent&&da[t.agent]||da.ARCHIVO;return n?(0,kt.jsx)("div",{className:"flex justify-center my-2",children:(0,kt.jsx)("div",{className:"px-4 py-2 rounded-lg text-sm ".concat("error"===t.type?"bg-red-500/20 text-red-300 border border-red-500/30":"success"===t.type?"bg-green-500/20 text-green-300 border border-green-500/30":"warning"===t.type?"bg-yellow-500/20 text-yellow-300 border border-yellow-500/30":"bg-white/10 text-gray-300 border border-white/20"),children:t.content||t.text})}):(0,kt.jsx)("div",{className:"flex ".concat(a?"justify-end":"justify-start"," mb-4"),children:(0,kt.jsxs)("div",{className:"flex ".concat(a?"flex-row-reverse":"flex-row"," items-end gap-2 max-w-[80%]"),children:[!a&&l&&(0,kt.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-lg",style:{backgroundColor:l.color+"30"},title:l.displayName,children:l.avatar}),(0,kt.jsxs)("div",{className:"flex flex-col ".concat(a?"items-end":"items-start"),children:[!a&&l&&(0,kt.jsxs)("span",{className:"text-xs text-gray-400 mb-1 ml-1",children:[l.displayName,l.role&&(0,kt.jsxs)("span",{className:"text-gray-500",children:[" \xb7 ",l.role]})]}),(0,kt.jsxs)("div",{className:"px-4 py-3 rounded-2xl ".concat(a?"bg-blue-600 text-white rounded-br-md":"bg-white/10 backdrop-blur-sm text-gray-100 rounded-bl-md border border-white/20"," ").concat(s?"animate-pulse":""),children:[(0,kt.jsxs)("div",{className:"whitespace-pre-wrap break-words",children:[t.content||t.text,s&&(0,kt.jsx)("span",{className:"inline-block w-2 h-4 ml-1 bg-gray-400 animate-pulse rounded"})]}),t.attachments&&t.attachments.length>0&&(0,kt.jsx)("div",{className:"mt-2 pt-2 border-t border-white/20",children:t.attachments.map((e,t)=>(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-sm opacity-80",children:[(0,kt.jsx)("span",{children:"\ud83d\udcce"}),(0,kt.jsx)("span",{children:e.name}),e.size&&(0,kt.jsxs)("span",{className:"text-xs",children:["(",(e.size/1024).toFixed(1)," KB)"]})]},t))})]}),!a&&t.suggestions&&t.suggestions.length>0&&(0,kt.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:t.suggestions.map((e,t)=>(0,kt.jsx)("button",{onClick:()=>null===r||void 0===r?void 0:r(e),className:"px-3 py-1.5 text-sm bg-white/10 border border-white/30 text-gray-200 rounded-full hover:bg-white/20 hover:border-white/40 transition-colors",children:"string"===typeof e?e:e.text},t))}),(0,kt.jsx)("span",{className:"text-xs text-gray-500 mt-1 mx-1",children:new Date(t.timestamp).toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit"})})]}),a&&(0,kt.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white text-sm font-medium",children:"T\xfa"})]})})}const va=(0,a.memo)(ba);function ya(e){let{agent:t}=e;const r=t&&da[t]||da.ARCHIVO;return(0,kt.jsxs)("div",{className:"flex items-end gap-2 mb-4",children:[(0,kt.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-lg",style:{backgroundColor:r.color+"30"},children:r.avatar}),(0,kt.jsxs)("div",{className:"flex flex-col items-start",children:[(0,kt.jsx)("span",{className:"text-xs text-gray-400 mb-1 ml-1",children:r.displayName}),(0,kt.jsx)("div",{className:"px-4 py-3 rounded-2xl rounded-bl-md bg-white/10 backdrop-blur-sm border border-white/20",children:(0,kt.jsxs)("div",{className:"flex gap-1",children:[(0,kt.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,kt.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,kt.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})]})}function ja(e){let{messages:t,isTyping:r,currentAgent:n,onSuggestionClick:s,className:l=""}=e;const o=(0,a.useRef)(null),i=(0,a.useRef)(null);return(0,a.useEffect)(()=>{o.current&&o.current.scrollIntoView({behavior:"smooth"})},[t,r]),(0,kt.jsx)("div",{ref:i,className:"flex-1 overflow-y-auto p-4 space-y-1 ".concat(l),children:0===t.length?(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,kt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcac"}),(0,kt.jsx)("p",{className:"text-lg",children:"Inicia la conversaci\xf3n"}),(0,kt.jsx)("p",{className:"text-sm",children:"Escribe un mensaje para comenzar"})]}):(0,kt.jsxs)(kt.Fragment,{children:[t.map(e=>(0,kt.jsx)(va,{message:e,onSuggestionClick:s},e.id)),r&&(0,kt.jsx)(ya,{agent:n}),(0,kt.jsx)("div",{ref:o})]})})}function Na(e){let{onSend:t,onAttach:r,disabled:n=!1,placeholder:s="Escribe un mensaje...",showAttachButton:l=!0,maxLength:o=4e3}=e;const[i,c]=(0,a.useState)(""),d=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=d.current;e&&(e.style.height="auto",e.style.height=Math.min(e.scrollHeight,200)+"px")},[i]),(0,a.useEffect)(()=>{var e;n||(null===(e=d.current)||void 0===e||e.focus())},[n]);const u=(0,a.useCallback)(e=>{null===e||void 0===e||e.preventDefault();const r=i.trim();r&&!n&&(t(r),c(""),d.current&&(d.current.style.height="auto"))},[i,n,t]),m=(0,a.useCallback)(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),u())},[u]),p=(0,a.useCallback)(e=>{const t=e.target.value;t.length<=o&&c(t)},[o]),x=o-i.length,h=i.length>.8*o;return(0,kt.jsxs)("form",{onSubmit:u,className:"border-t border-white/10 bg-black/20 backdrop-blur-sm p-4",children:[(0,kt.jsxs)("div",{className:"flex items-end gap-2",children:[l&&(0,kt.jsx)("button",{type:"button",onClick:r,disabled:n,className:"flex-shrink-0 p-2 text-gray-400 hover:text-gray-200 hover:bg-white/10 rounded-full transition-colors disabled:opacity-50",title:"Adjuntar archivo",children:(0,kt.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),(0,kt.jsxs)("div",{className:"flex-1 relative",children:[(0,kt.jsx)("textarea",{ref:d,value:i,onChange:p,onKeyDown:m,disabled:n,placeholder:s,rows:1,className:"w-full px-4 py-3 pr-12 bg-white/10 border border-white/20 text-gray-100 placeholder-gray-500 rounded-2xl resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-white/5 disabled:text-gray-500",style:{maxHeight:"200px"}}),h&&(0,kt.jsx)("span",{className:"absolute bottom-1 right-14 text-xs ".concat(x<100?"text-red-400":"text-gray-500"),children:x})]}),(0,kt.jsx)("button",{type:"submit",disabled:n||!i.trim(),className:"flex-shrink-0 p-3 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed",title:"Enviar mensaje",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Presiona Enter para enviar, Shift+Enter para nueva l\xednea"})]})}function wa(e){let{onFilesSelected:t,uploadedFiles:r=[],isProcessing:n=!1,onRemoveFile:s,maxFiles:l=10,className:o=""}=e;const[i,c]=(0,a.useState)(!1),d=(0,a.useRef)(null),u=(0,a.useCallback)(e=>{e.preventDefault(),c(!0)},[]),m=(0,a.useCallback)(e=>{e.preventDefault(),c(!1)},[]),p=(0,a.useCallback)(e=>{e.preventDefault(),c(!1);const r=Array.from(e.dataTransfer.files);r.length>0&&t(r)},[t]),x=(0,a.useCallback)(()=>{var e;null===(e=d.current)||void 0===e||e.click()},[]),h=(0,a.useCallback)(e=>{const r=Array.from(e.target.files||[]);r.length>0&&t(r),e.target.value=""},[t]),f=e=>{switch(e){case ua:case"pending":return"\u23f3";case ma:case"analyzing":return"\ud83d\udd0d";case pa:case"analyzed":return"\u2705";case xa:case"uploading":return"\ud83d\udce4";case ha:case"uploaded":return"\u2601\ufe0f";case fa:case"error":return"\u274c";default:return"\ud83d\udcc4"}},g=e=>{switch(e){case ua:case"pending":return"Pendiente";case ma:case"analyzing":return"Analizando con IA...";case pa:case"analyzed":return"Analizado";case xa:case"uploading":return"Subiendo...";case ha:case"uploaded":return"Subido";case fa:case"error":return"Error";default:return""}},b=r.length<l;return(0,kt.jsxs)("div",{className:o,children:[b&&(0,kt.jsxs)("div",{onClick:x,onDragOver:u,onDragLeave:m,onDrop:p,className:"border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-colors ".concat(i?"border-blue-500 bg-blue-500/10":"border-white/30 hover:border-white/50 hover:bg-white/5"," ").concat(n?"opacity-50 pointer-events-none":""),children:[(0,kt.jsx)("input",{ref:d,type:"file",multiple:!0,accept:ga.join(","),onChange:h,className:"hidden"}),(0,kt.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udcc1"}),(0,kt.jsx)("p",{className:"text-gray-200 font-medium",children:i?"Suelta los archivos aqu\xed":"Arrastra archivos o haz clic para seleccionar"}),(0,kt.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:["Formatos: ",ga.join(", ")]}),(0,kt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["M\xe1ximo ",50,"MB por archivo"]})]}),r.length>0&&(0,kt.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,kt.jsxs)("p",{className:"text-sm font-medium text-gray-300",children:["Archivos (",r.length,"/",l,")"]}),r.map(e=>(0,kt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg border ".concat("error"===e.status?"border-red-500/50 bg-red-500/10":"border-white/10"),children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,kt.jsx)("span",{className:"text-xl",children:f(e.status)}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsx)("p",{className:"text-sm font-medium text-gray-200 truncate",children:e.name}),(0,kt.jsxs)("p",{className:"text-xs text-gray-400",children:[(e.size/1024).toFixed(1)," KB \xb7 ",g(e.status)]}),e.error&&(0,kt.jsx)("p",{className:"text-xs text-red-400 mt-1",children:e.error})]})]}),"uploading"!==e.status&&(0,kt.jsx)("button",{onClick:()=>null===s||void 0===s?void 0:s(e.id),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",title:"Eliminar archivo",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),("analyzing"===e.status||"uploading"===e.status)&&(0,kt.jsx)("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})]},e.id))]}),r.some(e=>e.analysis)&&(0,kt.jsxs)("div",{className:"mt-4 p-4 bg-green-500/10 rounded-lg border border-green-500/30",children:[(0,kt.jsx)("p",{className:"text-sm font-medium text-green-300 mb-2",children:"\u2728 Datos extra\xeddos por IA"}),r.filter(e=>e.analysis).map(e=>(0,kt.jsxs)("div",{className:"text-sm text-green-200",children:[(0,kt.jsxs)("p",{className:"font-medium",children:[e.name,":"]}),e.analysis.categoria&&(0,kt.jsxs)("p",{className:"ml-2",children:["Categor\xeda: ",e.analysis.categoria]}),e.analysis.resumen&&(0,kt.jsx)("p",{className:"ml-2 text-xs text-green-300",children:e.analysis.resumen})]},e.id))]})]})}function ka(e){let{steps:t,currentStep:r,onStepClick:a,className:n=""}=e;const s="number"===typeof r?r:0;return(0,kt.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 ".concat(n),children:[(0,kt.jsx)("h3",{className:"text-sm font-semibold text-gray-300 mb-4",children:"Progreso del Onboarding"}),(0,kt.jsx)("div",{className:"space-y-3",children:t.map((e,t)=>{const r=t<s,n=t===s,l=t<=s&&a;return(0,kt.jsxs)("div",{onClick:()=>l&&a(t),className:"flex items-center gap-3 p-2 rounded-lg transition-colors ".concat(l?"cursor-pointer hover:bg-white/10":""," ").concat(n?"bg-blue-500/20":""),children:[(0,kt.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(r?"bg-green-500 text-white":n?"bg-blue-600 text-white":"bg-white/10 text-gray-500"),children:r?(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):t+1}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsx)("p",{className:"text-sm font-medium truncate ".concat(n?"text-blue-300":r?"text-gray-300":"text-gray-500"),children:e.title}),n&&e.description&&(0,kt.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.description})]})]},e.id||e.key||t)})}),(0,kt.jsxs)("div",{className:"mt-4 pt-4 border-t border-white/10",children:[(0,kt.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[(0,kt.jsx)("span",{children:"Progreso total"}),(0,kt.jsxs)("span",{children:[Math.round(s/Math.max(t.length-1,1)*100),"%"]})]}),(0,kt.jsx)("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:(0,kt.jsx)("div",{className:"h-full bg-blue-600 transition-all duration-300",style:{width:"".concat(s/Math.max(t.length-1,1)*100,"%")}})})]})]})}function Sa(e){let{title:t="Confirmar datos",data:r,onConfirm:a,onEdit:n,onCancel:s,isLoading:l=!1,fieldLabels:o={}}=e;const i=Object.entries(r||{}).filter(e=>{let[t]=e;return!t.startsWith("_")&&!["dataConfirmed","entityType"].includes(t)}),c=e=>o[e]||e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()),d=e=>null===e||void 0===e?"\u2014":"boolean"===typeof e?e?"S\xed":"No":Array.isArray(e)?e.join(", "):"object"===typeof e?JSON.stringify(e):String(e);return(0,kt.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/20 overflow-hidden",children:[(0,kt.jsxs)("div",{className:"px-6 py-4 bg-white/5 border-b border-white/10",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-100",children:t}),(0,kt.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Revisa que la informaci\xf3n sea correcta antes de continuar"})]}),(0,kt.jsxs)("div",{className:"p-6",children:[(0,kt.jsx)("dl",{className:"space-y-4",children:i.map(e=>{let[t,r]=e;return(0,kt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:gap-4",children:[(0,kt.jsx)("dt",{className:"text-sm font-medium text-gray-400 sm:w-1/3",children:c(t)}),(0,kt.jsx)("dd",{className:"text-sm text-gray-200 sm:w-2/3 mt-1 sm:mt-0",children:d(r)})]},t)})}),0===i.length&&(0,kt.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No hay datos para mostrar"})]}),(0,kt.jsxs)("div",{className:"px-6 py-4 bg-white/5 border-t border-white/10 flex flex-col sm:flex-row gap-3 sm:justify-end",children:[s&&(0,kt.jsx)("button",{onClick:s,disabled:l,className:"px-4 py-2 text-gray-300 bg-white/10 border border-white/20 rounded-lg hover:bg-white/20 transition-colors disabled:opacity-50",children:"Cancelar"}),n&&(0,kt.jsx)("button",{onClick:n,disabled:l,className:"px-4 py-2 text-blue-300 bg-blue-500/20 border border-blue-500/30 rounded-lg hover:bg-blue-500/30 transition-colors disabled:opacity-50",children:"Editar datos"}),a&&(0,kt.jsxs)("button",{onClick:a,disabled:l,className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[l&&(0,kt.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Confirmar y continuar"]})]})]})}function Ca(e){let{isOpen:t,onClose:r,title:n,children:s,size:l="md",showCloseButton:o=!0}=e;const i=(0,a.useCallback)(e=>{"Escape"===e.key&&t&&(null===r||void 0===r||r())},[t,r]);if((0,a.useEffect)(()=>(document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)),[i]),(0,a.useEffect)(()=>(document.body.style.overflow=t?"hidden":"",()=>{document.body.style.overflow=""}),[t]),!t)return null;const c={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl",full:"max-w-full mx-4"};return(0,kt.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,kt.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:r}),(0,kt.jsxs)("div",{className:"relative bg-gray-900/95 backdrop-blur-lg rounded-2xl border border-white/20 shadow-2xl w-full ".concat(c[l]||c.md," max-h-[90vh] overflow-hidden"),children:[n&&(0,kt.jsxs)("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[(0,kt.jsx)("h2",{className:"text-lg font-semibold text-gray-100",children:n}),o&&(0,kt.jsx)("button",{onClick:r,className:"p-1 text-gray-400 hover:text-gray-200 hover:bg-white/10 rounded-lg transition-colors",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,kt.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:s})]})]})}function Ea(e){let{message:t,onRetry:r,onDismiss:a}=e;return t?(0,kt.jsx)("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-4 mb-4",children:(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("div",{className:"flex-shrink-0 text-red-400",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,kt.jsx)("div",{className:"flex-1",children:(0,kt.jsx)("p",{className:"text-sm text-red-300",children:t})}),(0,kt.jsxs)("div",{className:"flex-shrink-0 flex gap-2",children:[r&&(0,kt.jsx)("button",{onClick:r,className:"text-xs text-red-300 hover:text-red-200 underline",children:"Reintentar"}),a&&(0,kt.jsx)("button",{onClick:a,className:"text-red-400 hover:text-red-300",children:(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}):null}const _a=()=>{var e;xe(),(0,a.useRef)(null);const t=na(),r=la(async function(e){if(0===e.length)return;const r={};e.forEach(e=>{(e.extracted_data||e.extractedData)&&Object.assign(r,e.extracted_data||e.extractedData)}),Object.keys(r).length>0&&n.mergeExtractedData(r);t.addBotMessage("\ud83d\udcca **An\xe1lisis completado**\n\nHe analizado ".concat(e.length," documento(s) y extra\xeddo la siguiente informaci\xf3n."),{agent:"ARCHIVO"}),r.email||n.emailContacto?x():p()}),n=ia(),l=ca(),[o,i]=(0,a.useState)(!1);(0,a.useEffect)(()=>{0===t.messages.length&&setTimeout(()=>{t.addBotMessage("\xa1Hola! \ud83d\udc4b Soy el Asistente de Archivo de REVISAR.IA.\n\nPuedo ayudarte a dar de alta nuevos **clientes** o **proveedores** de forma inteligente.\n\n**\xbfC\xf3mo funciona?**\n1. \ud83d\udcc1 Sube los documentos que tengas (contratos, facturas, CSF, etc.)\n2. \ud83d\udce7 Dame un email de contacto\n3. \ud83d\udd0d Analizar\xe9 los documentos y buscar\xe9 datos faltantes en internet\n4. \u2705 Confirmas y creamos el registro autom\xe1ticamente\n\n**\xbfQu\xe9 quieres dar de alta hoy?**",{agent:"ARCHIVO",suggestions:[{text:"Registrar cliente",value:"cliente"},{text:"Registrar proveedor",value:"proveedor"}]}),n.setCurrentStep("select_type")},500)},[]);const c=(0,a.useCallback)(e=>{n.selectEntityType(e),n.setIntelligentMode(!0),t.addUserMessage("Quiero dar de alta un ".concat(e)),setTimeout(()=>{"cliente"===e?t.addBotMessage("Perfecto, vamos a dar de alta un nuevo **cliente**.\n\nPara clientes los requisitos son m\xednimos. Puedes:\n\n\ud83d\udcdd **Opci\xf3n 1: Datos b\xe1sicos**\nSimplemente dime el nombre de la empresa y un email de contacto.\n\n\ud83d\udcc1 **Opci\xf3n 2: Con documentos** (opcional)\nSi tienes contratos u otros documentos, s\xfabelos y extraer\xe9 los datos autom\xe1ticamente.\n\n*El RFC y CSF no son obligatorios para clientes.*\n\n\xbfC\xf3mo prefieres continuar?",{agent:"ARCHIVO"}):t.addBotMessage("Perfecto, vamos a dar de alta un nuevo **proveedor**.\n\n\u26a0\ufe0f **Para proveedores se requiere validaci\xf3n fiscal completa:**\n\n\ud83d\udccb **Documentos OBLIGATORIOS:**\n1. **Acta Constitutiva** - Para verificar el objeto social vs lo que facturan\n2. **Constancia de Situaci\xf3n Fiscal (CSF)** - Para validar r\xe9gimen fiscal\n3. **Opini\xf3n de Cumplimiento del SAT** - Para verificar que est\xe9 al corriente\n\n\ud83d\udcc1 **Documentos opcionales:**\n- Contratos de servicio\n- Facturas de muestra\n- Identificaci\xf3n del representante legal\n\nSube los documentos y analizar\xe9 que todo sea congruente.",{agent:"ARCHIVO"}),n.setCurrentStep("upload_docs")},500)},[t,n]),d=(0,a.useCallback)(async e=>{if(t.addUserMessage(e),"select_type"===n.currentStep){if(e.toLowerCase().includes("cliente"))return void c("cliente");if(e.toLowerCase().includes("proveedor"))return void c("proveedor")}if("request_email"===n.currentStep){const r=e.match(/[^\s@]+@[^\s@]+\.[^\s@]+/);return void(r?(n.setEmailContacto(r[0]),t.addBotMessage("\u2705 Email registrado: ".concat(r[0]),{agent:"ARCHIVO"}),x()):t.addBotMessage("\u26a0\ufe0f No encontr\xe9 un email v\xe1lido. Por favor proporciona un email como ejemplo@empresa.com",{agent:"ARCHIVO"}))}if("awaiting_data"===n.currentStep){const t=(0,s.A)({},n.extractedData||{});t.nombre||t.razon_social||(t.nombre=e,t.razon_social=e);const r=e.match(/[A-Z\xd1&]{3,4}[0-9]{6}[A-Z0-9]{3}/i);r&&(t.rfc=r[0].toUpperCase());const a=e.match(/[^\s@]+@[^\s@]+\.[^\s@]+/);return a&&(t.email=a[0],n.setEmailContacto(a[0])),n.mergeExtractedData(t),void(t.email||n.emailContacto?x():p())}if(l.useRealAI){t.setTyping(!0);try{t.startStreaming({agent:"ARCHIVO"}),await l.sendToClaudeAPI({message:e,conversationHistory:t.conversationHistory,companyContext:n.collectedData,stream:!0,onStreamChunk:e=>t.updateStreamingMessage(e)}),t.finalizeStreamingMessage()}catch(r){t.cancelStreaming(),t.addSystemMessage("Error: ".concat(r.message),"error")}t.setTyping(!1)}},[t,n,l,c]),u=(0,a.useCallback)(e=>{const t="string"===typeof e?e:e.value||e.text;"cliente"===t||"proveedor"===t?c(t):d(t)},[c,d]);const m=(0,a.useCallback)(async e=>{const a=Array.from(e);await r.handleFileSelect(a),t.addUserMessage("\ud83d\udcce Subiendo ".concat(a.length," archivo(s): ").concat(a.map(e=>e.name).join(", ")));const n="analyzing-".concat(Date.now());t.addBotMessage("\ud83d\udd0d Analizando documentos con IA...",{agent:"ARCHIVO",id:n});const s=a.map((e,t)=>({id:"file-".concat(Date.now(),"-").concat(t),file:e,name:e.name}));try{const e=await r.analyzeFiles(s);t.removeMessage(n);const a=e.filter(e=>e.success).length,l=e.filter(e=>!e.success).length;if(l>0){const r=e.filter(e=>!e.success).map(e=>e.fileName||e.file_name).join(", ");t.addBotMessage("\u26a0\ufe0f Algunos archivos no pudieron analizarse: ".concat(r,". Puedes continuar con los datos que tenemos o intentar subir nuevamente."),{agent:"ARCHIVO"})}a>0?t.addBotMessage("\u2705 ".concat(a," archivo(s) analizados correctamente. Ahora puedo extraer la informaci\xf3n relevante."),{agent:"ARCHIVO"}):l>0&&0===a&&t.addBotMessage("\u274c No se pudo analizar ning\xfan archivo. Intenta con otro formato (PDF, DOCX) o ingresa los datos manualmente.",{agent:"ARCHIVO"})}catch(l){console.error("Error analizando archivos:",l),t.removeMessage(n),t.addBotMessage("\u274c Error al analizar documentos: ".concat(l.message||"Error desconocido",". Puedes intentar nuevamente o ingresar los datos manualmente."),{agent:"ARCHIVO"})}i(!1)},[r,t]),p=(0,a.useCallback)(()=>{n.setCurrentStep("request_email"),t.addBotMessage("\ud83d\udce7 **\xbfCu\xe1l es el email de contacto del ".concat(n.entityType||"cliente","?**\n\nEste email se usar\xe1 para:\n- Enviar notificaciones\n- Comunicaciones del sistema\n- Solicitar documentos adicionales"),{agent:"ARCHIVO"})},[n,t]),x=(0,a.useCallback)(()=>{n.setShowConfirmation(!0),t.addBotMessage("\u2705 **\xa1Listo! He recopilado la siguiente informaci\xf3n.** Revisa los datos y confirma para crear el registro.",{agent:"ARCHIVO"})},[n,t]),h=(0,a.useCallback)(async()=>{n.confirmExtractedData(),n.setOnboardingStatus("loading"),t.addBotMessage("\ud83d\udccb Creando ".concat(n.entityType||"cliente","..."),{agent:"ARCHIVO"});try{var e,r,a,s;const o=localStorage.getItem("auth_token");if(!o)throw new Error("No est\xe1s autenticado. Por favor, inicia sesi\xf3n primero.");const i=await fetch("/api/archivo/crear-entidad",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify({tipo:n.entityType||"cliente",datos:n.extractedData,email_contacto:n.emailContacto||(null===(e=n.extractedData)||void 0===e?void 0:e.email)||"",archivos_ids:[]})}),c=await i.text();let d;try{d=c?JSON.parse(c):{}}catch(l){throw console.error("[ChatbotArchivo] JSON parse error:",l,"Response:",c.substring(0,200)),new Error("Respuesta inv\xe1lida del servidor: ".concat(c.substring(0,100)))}if(!i.ok)throw new Error(d.detail||"Error del servidor (".concat(i.status,")"));n.setOnboardingStatus("completed"),n.setShowConfirmation(!1),t.addBotMessage("\ud83c\udf89 **\xa1".concat("proveedor"===n.entityType?"Proveedor":"Cliente"," creado exitosamente!**\n\n**").concat((null===(r=n.extractedData)||void 0===r?void 0:r.nombre)||(null===(a=n.extractedData)||void 0===a?void 0:a.razon_social),"**\nRFC: ").concat((null===(s=n.extractedData)||void 0===s?void 0:s.rfc)||"N/A","\n\n\u2705 Registro creado en el sistema\n\u2705 Documentos guardados en su expediente\n").concat(n.emailContacto?"\u2705 Se enviar\xe1 email de bienvenida a ".concat(n.emailContacto):"","\n\nPuedes editar este ").concat(n.entityType||"cliente"," desde el **Panel de Administraci\xf3n**."),{agent:"ARCHIVO",suggestions:[{text:"Dar de alta otro",value:"nuevo"},{text:"Ir al Dashboard",value:"dashboard"}]})}catch(o){n.setOnboardingStatus("error"),t.addBotMessage("\u26a0\ufe0f Error creando ".concat(n.entityType||"cliente",": ").concat(o.message),{agent:"ARCHIVO"})}},[n,t]),f=(0,a.useCallback)(()=>{n.resetOnboarding(),r.clearAllFiles(),t.clearMessages(),setTimeout(()=>{t.addBotMessage("\xa1Hola! \ud83d\udc4b \xbfQu\xe9 quieres dar de alta hoy?",{agent:"ARCHIVO",suggestions:[{text:"Registrar cliente",value:"cliente"},{text:"Registrar proveedor",value:"proveedor"}]}),n.setCurrentStep("select_type")},300)},[n,r,t]);return(0,kt.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:[(0,kt.jsx)("aside",{className:"hidden lg:block w-80 bg-black/30 backdrop-blur-sm border-r border-white/10 overflow-y-auto",children:(0,kt.jsxs)("div",{className:"p-4",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,kt.jsx)("div",{className:"w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-xl",children:"\ud83d\udcc1"}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{className:"text-lg font-bold text-gray-100",children:"ARCHIVO"}),(0,kt.jsx)("p",{className:"text-xs text-gray-400",children:"Asistente de Onboarding"})]})]}),n.entityType&&(0,kt.jsx)("div",{className:"mb-4 p-3 bg-white/5 rounded-lg border border-white/10",children:(0,kt.jsxs)("p",{className:"text-sm text-gray-300",children:["Registrando: ",(0,kt.jsx)("span",{className:"font-semibold text-indigo-400",children:"cliente"===n.entityType?"Cliente":"Proveedor"})]})}),"number"===typeof n.currentStep&&(0,kt.jsx)(ka,{steps:n.steps,currentStep:n.currentStep,onStepClick:n.goToStep}),(0,kt.jsx)("button",{onClick:f,className:"w-full mt-4 px-4 py-2 text-sm text-gray-400 hover:text-gray-200 hover:bg-white/10 rounded-lg transition-colors",children:"\ud83d\udd04 Empezar de nuevo"})]})}),(0,kt.jsxs)("main",{className:"flex-1 flex flex-col",children:[(0,kt.jsxs)("header",{className:"lg:hidden bg-black/30 backdrop-blur-sm border-b border-white/10 px-4 py-3 flex items-center justify-between",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("span",{className:"text-xl",children:"\ud83d\udcc1"}),(0,kt.jsx)("h1",{className:"font-semibold text-gray-100",children:"ARCHIVO"})]}),n.entityType&&(0,kt.jsx)("span",{className:"text-sm text-indigo-400",children:"cliente"===n.entityType?"Cliente":"Proveedor"})]}),(0,kt.jsx)(ja,{messages:t.messages,isTyping:t.isTyping,currentAgent:"ARCHIVO",onSuggestionClick:u,className:"flex-1"}),(l.lastError||n.onboardingError)&&(0,kt.jsx)("div",{className:"px-4",children:(0,kt.jsx)(Ea,{message:l.lastError||n.onboardingError,onDismiss:()=>{l.clearError(),n.clearError()}})}),(0,kt.jsx)(Na,{onSend:d,onAttach:()=>i(!0),disabled:t.isTyping||t.isStreaming||l.isSearchingWeb,placeholder:n.entityType?"Escribe aqu\xed para continuar con el registro del ".concat(n.entityType,"..."):"Escribe aqu\xed para comenzar..."})]}),(0,kt.jsxs)(Ca,{isOpen:o,onClose:()=>i(!1),title:"Subir documentos",size:"lg",children:[(0,kt.jsx)(wa,{onFilesSelected:m,uploadedFiles:r.uploadedFiles,isProcessing:r.isProcessingFile,onRemoveFile:r.removeFile}),r.uploadedFiles.length>0&&(0,kt.jsxs)("div",{className:"mt-4 flex justify-end gap-3",children:[(0,kt.jsx)("button",{onClick:()=>i(!1),className:"px-4 py-2 text-gray-300 hover:bg-white/10 rounded-lg transition-colors",children:"Cancelar"}),(0,kt.jsx)("button",{onClick:async()=>{await r.uploadFilesToCloud(),i(!1)},disabled:r.isUploadingDocuments,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:r.isUploadingDocuments?"Subiendo...":"Confirmar"})]})]}),(0,kt.jsx)(Ca,{isOpen:n.showConfirmation,onClose:()=>n.setShowConfirmation(!1),title:"Confirmar informaci\xf3n",size:"lg",children:(0,kt.jsx)(Sa,{data:(0,s.A)((0,s.A)((0,s.A)({},n.collectedData),n.extractedData),{},{email:n.emailContacto||(null===(e=n.extractedData)||void 0===e?void 0:e.email)}),onConfirm:h,onEdit:()=>{n.setShowConfirmation(!1),t.addBotMessage("\xbfQu\xe9 datos necesitas corregir?",{agent:"ARCHIVO"})},onCancel:()=>n.setShowConfirmation(!1),isLoading:"loading"===n.onboardingStatus,fieldLabels:{rfc:"RFC",razon_social:"Raz\xf3n Social",nombre:"Nombre",nombreComercial:"Nombre Comercial",regimenFiscal:"R\xe9gimen Fiscal",domicilioFiscal:"Domicilio Fiscal",direccion:"Direcci\xf3n",email:"Email",telefono:"Tel\xe9fono",giro:"Giro"}})})]})},Aa=wt.A.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});Aa.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});const La=()=>{var e,t;const r=xe(),[n,s]=(0,a.useState)([]),[l,o]=(0,a.useState)(""),[i,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[m,p]=(0,a.useState)(null),[x,h]=(0,a.useState)([]),[f,g]=(0,a.useState)(0),[b,v]=(0,a.useState)(0),[y,j]=(0,a.useState)(""),[N,w]=(0,a.useState)(!1),[k,S]=(0,a.useState)(null),C=(0,a.useRef)(null),E=(0,a.useRef)(null);(0,a.useEffect)(()=>{_(),A(),L()},[]),(0,a.useEffect)(()=>{var e;null===(e=C.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[n]);const _=async()=>{try{const e=await Aa.get("/kb/chat/greeting");s([{id:"1",role:"assistant",content:e.data.greeting,timestamp:new Date}])}catch(e){s([{id:"1",role:"assistant",content:"\xa1Hola! Soy Bibliotecar.IA \ud83d\udcda Tu aliada para mantener actualizado el conocimiento de Revisar.IA.\n\nPuedo ayudarte a:\n\u2022 \ud83d\udcca Ver el estado del acervo\n\u2022 \ud83d\udce5 Cargar nuevos documentos\n\u2022 \ud83d\udd0d Buscar informaci\xf3n espec\xedfica\n\u2022 \ud83d\udd14 Ver solicitudes pendientes",timestamp:new Date}])}},A=async()=>{try{const e=await Aa.get("/kb/dashboard");u(e.data)}catch(e){console.error("Error loading stats:",e)}},L=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";w(!0);try{const t=e?"?categoria=".concat(e,"&limit=20"):"?limit=20",r=await Aa.get("/kb/documentos-lista".concat(t));h(r.data.documentos||[]),g(r.data.total||0),v(r.data.pendientes||0)}catch(t){console.error("Error loading documentos:",t),h([])}finally{w(!1)}},R=e=>{const t=(e||"").toLowerCase();return t.includes("pdf")?"\ud83d\udcc4":t.includes("doc")?"\ud83d\udcd1":t.includes("xls")||t.includes("xlsx")?"\ud83d\udcca":t.includes("json")?"\ud83d\udccb":t.includes("csv")?"\ud83d\udcc8":t.includes("txt")||t.includes("md")?"\ud83d\udcdd":"\ud83d\udcc4"},T=async()=>{if(!l.trim()||i)return;const e={id:Date.now().toString(),role:"user",content:l,timestamp:new Date};s(t=>[...t,e]),o(""),c(!0);try{const e=await Aa.post("/kb/chat",{message:l,session_id:m});e.data.session_id&&p(e.data.session_id);const t={id:(Date.now()+1).toString(),role:"assistant",content:e.data.response,timestamp:new Date};s(e=>[...e,t]),A()}catch(t){const e={id:(Date.now()+1).toString(),role:"assistant",content:"\u274c Hubo un error al procesar tu mensaje. Por favor intenta de nuevo.",timestamp:new Date};s(t=>[...t,e])}finally{c(!1)}},O=[{label:"\ud83d\udcca Estado del acervo",query:"estado"},{label:"\ud83d\udd14 Ver alertas",query:"alertas"},{label:"\ud83d\udcdc Versiones de leyes",query:"versiones"},{label:"\ud83d\udce5 Cargar documento",action:()=>{var e;return null===(e=E.current)||void 0===e?void 0:e.click()}}],z=e=>{switch(e){case"completo":return"\ud83d\udfe2";case"actualizable":return"\ud83d\udfe1";case"incompleto":return"\ud83d\udfe0";case"critico":return"\ud83d\udd34";default:return"\u26aa"}};return(0,kt.jsxs)("div",{className:"flex h-screen bg-slate-900",children:[(0,kt.jsxs)("div",{className:"w-80 bg-slate-800 border-r border-slate-700 flex flex-col",children:[(0,kt.jsx)("div",{className:"p-4 border-b border-slate-700 bg-gradient-to-r from-purple-600/20 to-indigo-600/20",children:(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-indigo-500 flex items-center justify-center",children:(0,kt.jsx)("span",{className:"text-xl",children:"\ud83d\udcda"})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"font-bold text-lg text-white",children:"Bibliotecar.IA"}),(0,kt.jsx)("p",{className:"text-purple-300 text-sm",children:"Dra. Elena V\xe1zquez"})]})]})}),d&&(0,kt.jsxs)("div",{className:"p-4 space-y-4 overflow-y-auto flex-1",children:[(0,kt.jsxs)("h2",{className:"font-semibold text-slate-300 flex items-center gap-2 text-sm",children:[(0,kt.jsx)("span",{children:"\ud83e\udde0"})," Estado del Conocimiento"]}),(0,kt.jsxs)("div",{className:"bg-slate-700/50 rounded-lg p-3",children:[(0,kt.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,kt.jsx)("span",{className:"text-slate-400",children:"Completitud"}),(0,kt.jsxs)("span",{className:"font-semibold text-white",children:[Math.round(100*d.completitud_general),"%"]})]}),(0,kt.jsx)("div",{className:"w-full bg-slate-600 rounded-full h-2",children:(0,kt.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-500 h-2 rounded-full transition-all",style:{width:"".concat(100*d.completitud_general,"%")}})})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,kt.jsxs)("div",{className:"bg-blue-900/30 rounded-lg p-3 text-center",children:[(0,kt.jsx)("div",{className:"text-xl font-bold text-blue-400",children:d.total_documentos}),(0,kt.jsx)("div",{className:"text-xs text-blue-300",children:"Documentos"})]}),(0,kt.jsxs)("div",{className:"bg-green-900/30 rounded-lg p-3 text-center",children:[(0,kt.jsx)("div",{className:"text-xl font-bold text-green-400",children:d.total_chunks}),(0,kt.jsx)("div",{className:"text-xs text-green-300",children:"Chunks RAG"})]})]}),(0,kt.jsxs)("div",{className:"space-y-2",children:[(0,kt.jsx)("h3",{className:"text-xs font-semibold text-slate-400 uppercase",children:"Categor\xedas"}),null===(e=d.categorias)||void 0===e?void 0:e.map((e,t)=>(0,kt.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,kt.jsxs)("span",{className:"text-slate-300",children:[z(e.estado)," ",e.icono," ",e.nombre]}),(0,kt.jsxs)("span",{className:"text-slate-500",children:[Math.round(100*e.completitud),"%"]})]},t))]}),(0,kt.jsxs)("div",{className:"space-y-2",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsxs)("h3",{className:"text-xs font-semibold text-slate-400 uppercase flex items-center gap-1",children:["\ud83d\udcda Documentos del Acervo",b>0&&(0,kt.jsx)("span",{className:"bg-amber-500 text-slate-900 text-xs px-1.5 py-0.5 rounded-full font-bold animate-pulse",children:b})]}),(0,kt.jsxs)("span",{className:"text-xs text-slate-500",children:[f," total"]})]}),(0,kt.jsx)("select",{value:y,onChange:e=>{return t=e.target.value,j(t),void L(t);var t},className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-xs text-slate-300 focus:outline-none focus:ring-1 focus:ring-purple-500",children:[{value:"",label:"Todas"},{value:"marco_legal",label:"Marco Legal"},{value:"jurisprudencias",label:"Jurisprudencias"},{value:"criterios_sat",label:"Criterios SAT"},{value:"catalogos_sat",label:"Cat\xe1logos SAT"},{value:"casos_referencia",label:"Casos Ref."},{value:"glosarios",label:"Glosarios"},{value:"plantillas",label:"Plantillas"}].map(e=>(0,kt.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,kt.jsx)("div",{className:"max-h-48 overflow-y-auto space-y-1 pr-1 scrollbar-thin scrollbar-thumb-slate-600 scrollbar-track-slate-800",children:N?(0,kt.jsx)("div",{className:"text-center py-3 text-slate-500 text-xs",children:(0,kt.jsx)("div",{className:"animate-spin inline-block w-4 h-4 border-2 border-purple-500 border-t-transparent rounded-full"})}):0===x.length?(0,kt.jsx)("div",{className:"text-center py-3 text-slate-500 text-xs",children:"No hay documentos"}):x.map(e=>(0,kt.jsx)("div",{className:"bg-slate-700/50 rounded p-2 hover:bg-slate-700 transition-colors group",children:(0,kt.jsxs)("div",{className:"flex items-start gap-2",children:[(0,kt.jsx)("span",{className:"text-base flex-shrink-0",children:R(e.tipo_archivo)}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsx)("div",{className:"text-xs text-slate-200 truncate font-medium",title:e.nombre,children:e.nombre}),(0,kt.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,kt.jsxs)("span",{className:"text-xs ".concat("procesado"===e.estado?"text-green-400":"text-amber-400"),children:["procesado"===e.estado?"\u2705":"\u23f3"," ",e.estado]}),(0,kt.jsxs)("span",{className:"text-xs text-slate-500",children:[e.chunks," chunks"]})]})]}),(0,kt.jsx)("button",{onClick:()=>(async e=>{if(!k){S(e);try{const t=await Aa.post("/kb/reingest/".concat(e));if(t.data.success){const e={id:Date.now().toString(),role:"assistant",content:"\ud83d\udd04 Documento reingestado exitosamente.\n".concat(t.data.message),timestamp:new Date};s(t=>[...t,e]),L(y),A()}}catch(a){var t,r;console.error("Error reingesting:",a);const e={id:Date.now().toString(),role:"assistant",content:"\u274c Error al reingestar documento: ".concat((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||a.message),timestamp:new Date};s(t=>[...t,e])}finally{S(null)}}})(e.id),disabled:k===e.id,className:"opacity-0 group-hover:opacity-100 p-1 rounded bg-slate-600 hover:bg-purple-600 text-slate-300 hover:text-white transition-all disabled:opacity-50",title:"Reingestar documento",children:k===e.id?(0,kt.jsx)("div",{className:"w-3 h-3 border border-white border-t-transparent rounded-full animate-spin"}):(0,kt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})},e.id))}),f>20&&(0,kt.jsxs)("div",{className:"text-center text-xs text-slate-500",children:["Mostrando 20 de ",f]})]}),(null===(t=d.alertas)||void 0===t?void 0:t.length)>0&&(0,kt.jsxs)("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-lg p-3",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-amber-400 mb-2",children:[(0,kt.jsx)("span",{children:"\u26a0\ufe0f"}),(0,kt.jsxs)("span",{className:"text-sm font-medium",children:[d.alertas.length," alertas"]})]}),d.alertas.slice(0,2).map((e,t)=>(0,kt.jsx)("p",{className:"text-xs text-amber-300/80 mb-1",children:e.mensaje},t))]})]}),(0,kt.jsx)("div",{className:"p-4 border-t border-slate-700 space-y-2",children:O.map((e,t)=>(0,kt.jsx)("button",{onClick:()=>e.action?e.action():o(e.query),className:"w-full text-left px-3 py-2 rounded-lg hover:bg-slate-700 text-sm text-slate-300 transition-colors",children:e.label},t))}),(0,kt.jsx)("div",{className:"p-4 border-t border-slate-700",children:(0,kt.jsx)("button",{onClick:()=>r("/"),className:"w-full px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm transition-colors",children:"\u2190 Volver al Dashboard"})})]}),(0,kt.jsxs)("div",{className:"flex-1 flex flex-col bg-slate-900",children:[(0,kt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[n.map(e=>(0,kt.jsxs)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:["assistant"===e.role&&(0,kt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-indigo-500 flex items-center justify-center mr-3 flex-shrink-0",children:(0,kt.jsx)("span",{children:"\ud83d\udcda"})}),(0,kt.jsx)("div",{className:"max-w-2xl rounded-2xl px-4 py-3 ".concat("user"===e.role?"bg-purple-600 text-white rounded-br-md":"bg-slate-800 text-slate-200 rounded-bl-md"),children:(0,kt.jsx)("div",{className:"whitespace-pre-wrap",children:e.content})})]},e.id)),i&&(0,kt.jsxs)("div",{className:"flex items-center gap-3 text-slate-400",children:[(0,kt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-indigo-500 flex items-center justify-center",children:(0,kt.jsx)("span",{children:"\ud83d\udcda"})}),(0,kt.jsxs)("div",{className:"flex gap-1",children:[(0,kt.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,kt.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,kt.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}),(0,kt.jsx)("div",{ref:C})]}),(0,kt.jsxs)("div",{className:"border-t border-slate-700 bg-slate-800 p-4",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3 max-w-4xl mx-auto",children:[(0,kt.jsx)("button",{onClick:()=>{var e;return null===(e=E.current)||void 0===e?void 0:e.click()},className:"p-2 rounded-lg hover:bg-slate-700 text-slate-400 transition-colors",title:"Subir documento",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),(0,kt.jsx)("input",{type:"text",value:l,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&T(),placeholder:"Pregunta sobre el conocimiento o sube un documento...",className:"flex-1 px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,kt.jsx)("button",{onClick:T,disabled:!l.trim()||i,className:"p-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),(0,kt.jsx)("input",{ref:E,type:"file",accept:".pdf,.docx,.xlsx,.json,.csv,.txt,.md",onChange:e=>(async e=>{if(!e||0===e.length)return;c(!0);const t=e[0],r={id:Date.now().toString(),role:"user",content:"\ud83d\udcc4 Analizando archivo: ".concat(t.name),timestamp:new Date};s(e=>[...e,r]);try{const e=new FormData;e.append("file",t);const r=await Aa.post("/kb/upload-file",e,{headers:{"Content-Type":"multipart/form-data"}});if(r.data.success){const{extracted_text:e,analysis_success:t,filename:a,rag_processed:n,chunks_created:l,documento_id:o,pcloud_uploaded:i,pcloud_link:c}=r.data;let d="";if(n&&l>0){const t=e.length>500?e.substring(0,500)+"...":e;let r="- Chunks RAG generados: **".concat(l,"**");i&&(r+="\n- Respaldado en pCloud",c&&(r+=" ([ver enlace](".concat(c,"))"))),d='\u2705 **Documento "'.concat(a,'" procesado y guardado exitosamente**\n\n')+"\ud83d\udcca **Resumen del procesamiento:**\n"+"- ID del documento: `".concat(o,"`\n")+"".concat(r,"\n")+"- Caracteres extra\xeddos: ".concat(e.length,"\n\n")+"\ud83d\udcc4 **Vista previa del contenido:**\n\n"+"```\n".concat(t,"\n```\n\n")+"El documento ya est\xe1 disponible para consultas RAG."}else if(t&&e){const t=e.length>500?e.substring(0,500)+"...":e;d='\u26a0\ufe0f **Documento "'.concat(a,'" analizado pero no indexado**\n\n')+"El texto se extrajo correctamente (".concat(e.length," caracteres), pero hubo un problema al guardarlo en el RAG.\n\n")+"\ud83d\udcc4 **Vista previa:**\n```\n".concat(t,"\n```\n\n")+"Por favor intenta nuevamente o contacta soporte."}else d='\u26a0\ufe0f El archivo "'.concat(a,'" se subi\xf3 correctamente, pero no se pudo extraer texto del documento.\n\n')+"Esto puede ocurrir con PDFs escaneados o archivos protegidos. \xbfDeseas intentar con otro archivo?";const u={id:(Date.now()+1).toString(),role:"assistant",content:d,timestamp:new Date};s(e=>[...e,u]),A(),L(y)}}catch(l){var a,n;const e={id:(Date.now()+1).toString(),role:"assistant",content:"\u274c Error al procesar el archivo: ".concat((null===(a=l.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.detail)||l.message),timestamp:new Date};s(t=>[...t,e])}finally{c(!1)}})(e.target.files),className:"hidden"})]})]})]})},Ra=wt.A.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});Ra.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});const Ta=e=>{switch(e){case"critico":return"text-red-400 bg-red-500/20 border-red-500/30";case"importante":return"text-amber-400 bg-amber-500/20 border-amber-500/30";case"recomendado":return"text-blue-400 bg-blue-500/20 border-blue-500/30";default:return"text-slate-400 bg-slate-500/20 border-slate-500/30"}},Oa=e=>{switch(e){case"critico":return"Cr\xedtico";case"importante":return"Importante";case"recomendado":return"Recomendado";default:return e}},za=e=>{if(!e)return null;try{return new Date(e).toLocaleDateString("es-MX",{day:"numeric",month:"short",year:"numeric"})}catch(t){return e}},Pa=e=>{let{statsDoc:t,onClose:r}=e;return t?(0,kt.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,kt.jsx)("div",{className:"bg-slate-800/95 backdrop-blur-xl rounded-2xl border border-slate-700/50 max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,kt.jsxs)("div",{className:"p-6",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,kt.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,kt.jsx)("span",{children:"\ud83d\udcca"})," Estad\xedsticas del Documento"]}),(0,kt.jsx)("button",{onClick:r,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors text-slate-400 hover:text-white",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,kt.jsxs)("div",{className:"space-y-4",children:[(0,kt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{className:"bg-slate-700/50 rounded-xl p-4 border border-slate-600/30",children:[(0,kt.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:t.total_chunks||0}),(0,kt.jsx)("div",{className:"text-xs text-slate-400 mt-1",children:"Total Chunks"})]}),(0,kt.jsxs)("div",{className:"bg-slate-700/50 rounded-xl p-4 border border-slate-600/30",children:[(0,kt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:t.total_articulos||0}),(0,kt.jsx)("div",{className:"text-xs text-slate-400 mt-1",children:"Total Art\xedculos"})]}),(0,kt.jsxs)("div",{className:"bg-slate-700/50 rounded-xl p-4 border border-slate-600/30",children:[(0,kt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:t.veces_recuperado||0}),(0,kt.jsx)("div",{className:"text-xs text-slate-400 mt-1",children:"Veces Recuperado"})]}),(0,kt.jsxs)("div",{className:"bg-slate-700/50 rounded-xl p-4 border border-slate-600/30",children:[(0,kt.jsx)("div",{className:"text-2xl font-bold text-amber-400",children:(t.caracteres||0).toLocaleString()}),(0,kt.jsx)("div",{className:"text-xs text-slate-400 mt-1",children:"Caracteres"})]})]}),t.agentes_asignados&&t.agentes_asignados.length>0&&(0,kt.jsxs)("div",{className:"bg-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:[(0,kt.jsx)("h3",{className:"text-sm font-semibold text-slate-300 mb-3",children:"\ud83e\udd16 Agentes Asignados"}),(0,kt.jsx)("div",{className:"flex flex-wrap gap-2",children:t.agentes_asignados.map((e,t)=>(0,kt.jsx)("span",{className:"text-xs px-3 py-1.5 bg-purple-500/20 text-purple-300 rounded-full border border-purple-500/30",children:e},t))})]}),t.tipos_contenido&&t.tipos_contenido.length>0&&(0,kt.jsxs)("div",{className:"bg-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:[(0,kt.jsx)("h3",{className:"text-sm font-semibold text-slate-300 mb-3",children:"\ud83d\udcd1 Tipos de Contenido"}),(0,kt.jsx)("div",{className:"flex flex-wrap gap-2",children:t.tipos_contenido.map((e,t)=>(0,kt.jsx)("span",{className:"text-xs px-3 py-1.5 bg-blue-500/20 text-blue-300 rounded-full border border-blue-500/30",children:e},t))})]})]}),(0,kt.jsx)("div",{className:"mt-6 flex justify-end",children:(0,kt.jsx)("button",{onClick:r,className:"px-6 py-2.5 bg-slate-700 hover:bg-slate-600 text-white rounded-xl font-medium transition-colors",children:"Cerrar"})})]})})}):null},Da=e=>{let{agente:t,onUpload:r,onReingestar:a,onVerStats:n,reingestando:s,expandedAgent:l,setExpandedAgent:o}=e;const i=l===t.id;return(0,kt.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-lg rounded-xl border border-slate-700/50 overflow-hidden transition-all duration-300 hover:border-slate-600/50",children:[(0,kt.jsxs)("button",{onClick:()=>o(i?null:t.id),className:"w-full p-4 flex items-center justify-between text-left hover:bg-slate-700/30 transition-colors",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("span",{className:"text-2xl",children:t.icono}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("span",{className:"text-xs font-bold text-slate-500",children:t.id}),(0,kt.jsx)("h3",{className:"font-semibold text-white",children:t.nombre})]}),(0,kt.jsxs)("p",{className:"text-sm text-slate-400",children:[t.docs_cargados,"/",t.docs_totales," documentos"]})]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,kt.jsxs)("div",{className:"w-32",children:[(0,kt.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,kt.jsx)("span",{className:"text-slate-400",children:"Progreso"}),(0,kt.jsxs)("span",{className:"font-bold ".concat(t.progreso>=80?"text-green-400":t.progreso>=50?"text-amber-400":"text-red-400"),children:[t.progreso,"%"]})]}),(0,kt.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2",children:(0,kt.jsx)("div",{className:"h-2 rounded-full transition-all ".concat(t.progreso>=80?"bg-green-500":t.progreso>=50?"bg-amber-500":"bg-red-500"),style:{width:"".concat(t.progreso,"%")}})})]}),(0,kt.jsx)("svg",{className:"w-5 h-5 text-slate-400 transition-transform ".concat(i?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),i&&(0,kt.jsx)("div",{className:"border-t border-slate-700/50 p-4 space-y-2 bg-slate-900/30",children:t.documentos.map(e=>(0,kt.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border ".concat(e.cargado?e.pendiente_procesar?"bg-amber-500/10 border-amber-500/30":"bg-green-500/10 border-green-500/30":"bg-slate-800/50 border-slate-600/30"),children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,kt.jsx)("span",{className:"text-lg",children:e.cargado?e.pendiente_procesar?"\u23f3":"\u2705":"\u2b1a"}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,kt.jsx)("span",{className:"".concat(e.cargado?"font-bold text-white":"text-slate-300"," truncate"),children:e.nombre}),(0,kt.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full border ".concat(Ta(e.criticidad)),children:Oa(e.criticidad)}),e.cargado&&(0,kt.jsxs)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-600/50 text-slate-300 border border-slate-500/30",children:["v",e.version||"1.0"]}),e.pendiente_procesar&&(0,kt.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-amber-500/20 text-amber-400 border border-amber-500/30 animate-pulse",children:"\u26a0\ufe0f PENDIENTE PROCESAR"})]}),e.cargado&&(0,kt.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-xs text-slate-500",children:[e.fecha_carga&&(0,kt.jsxs)("span",{children:["\ud83d\udcc5 ",za(e.fecha_carga)]}),e.ultima_reforma&&(0,kt.jsxs)("span",{className:"text-amber-400",children:["\u26a1 Reforma: ",e.ultima_reforma]})]}),e.descripcion&&!e.cargado&&(0,kt.jsx)("p",{className:"text-xs text-slate-500 truncate mt-0.5",children:e.descripcion})]})]}),(0,kt.jsx)("div",{className:"flex items-center gap-2 ml-2",children:e.cargado?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("span",{className:"text-xs text-green-400 bg-green-500/20 px-2 py-1 rounded-md",children:[e.chunks_count," chunks"]}),(0,kt.jsx)("button",{className:"p-1.5 hover:bg-slate-700 rounded-md transition-colors",title:"Ver documento",children:(0,kt.jsx)("span",{className:"text-lg",children:"\ud83d\udc41\ufe0f"})}),(0,kt.jsx)("button",{onClick:t=>{t.stopPropagation(),n(e.documento_id||e.id)},className:"p-1.5 hover:bg-slate-700 rounded-md transition-colors",title:"Ver estad\xedsticas",children:(0,kt.jsx)("span",{className:"text-lg",children:"\ud83d\udcca"})}),(0,kt.jsx)("button",{onClick:t=>{t.stopPropagation(),a(e.documento_id||e.id)},disabled:s===(e.documento_id||e.id),className:"p-1.5 hover:bg-slate-700 rounded-md transition-colors ".concat(s===(e.documento_id||e.id)?"opacity-50 cursor-not-allowed":""),title:e.pendiente_procesar?"Procesar documento":"Reingestar documento",children:(0,kt.jsx)("span",{className:"text-lg ".concat(s===(e.documento_id||e.id)?"animate-spin inline-block":""),children:"\u27f3"})})]}):(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("span",{className:"text-xs text-slate-500 bg-slate-700/50 px-2 py-1 rounded-md",children:"falta"}),(0,kt.jsx)("button",{onClick:t=>{t.stopPropagation(),r(e)},className:"p-1.5 hover:bg-slate-700 rounded-md transition-colors",title:"Subir documento",children:(0,kt.jsx)("span",{className:"text-lg",children:"\ud83d\udce4"})})]})})]},e.id))})]})},Ma=()=>{var e;const t=xe(),[r,n]=(0,a.useState)(!0),[s,l]=(0,a.useState)(null),[o,i]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(null),[p,x]=(0,a.useState)(null),[h,f]=(0,a.useState)(0);(0,a.useEffect)(()=>{g()},[]),(0,a.useEffect)(()=>{if(void 0!==(null===s||void 0===s?void 0:s.documentos_pendientes))f(s.documentos_pendientes);else if(null!==s&&void 0!==s&&s.agentes){const e=s.agentes.reduce((e,t)=>{var r,a;return e+((null===(r=t.documentos)||void 0===r||null===(a=r.filter(e=>e.pendiente_procesar))||void 0===a?void 0:a.length)||0)},0);f(e)}},[s]);const g=async()=>{try{n(!0);const e=await Ra.get("/biblioteca/estado-acervo");l(e.data),i(null)}catch(e){console.error("Error loading estado acervo:",e),i("No se pudo cargar el estado del acervo")}finally{n(!1)}},b=e=>{t("/biblioteca",{state:{uploadDoc:e}})},v=async e=>{if(e&&!u)try{var t;m(e);const a=await Ra.post("/biblioteca/documento/".concat(e,"/reingestar"));var r;if(null!==(t=a.data)&&void 0!==t&&t.success)alert("\u2705 Documento reingestado exitosamente.\n".concat(a.data.message||""));else alert("\u26a0\ufe0f ".concat((null===(r=a.data)||void 0===r?void 0:r.message)||"Documento procesado"));await g()}catch(s){var a,n;console.error("Error reingestando documento:",s),alert("\u274c Error al reingestar: ".concat((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.detail)||s.message))}finally{m(null)}},y=async e=>{if(e)try{const t=await Ra.get("/biblioteca/documento/".concat(e,"/stats"));x(t.data)}catch(a){var t,r;console.error("Error obteniendo stats:",a),alert("\u274c Error al obtener estad\xedsticas: ".concat((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||a.message))}};if(r)return(0,kt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"w-16 h-16 border-4 border-purple-200 rounded-full animate-spin border-t-purple-600 mx-auto"}),(0,kt.jsx)("p",{className:"mt-6 text-slate-400",children:"Cargando estado del acervo..."})]})});if(o)return(0,kt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"text-4xl mb-4",children:"\u26a0\ufe0f"}),(0,kt.jsx)("p",{className:"text-red-400",children:o}),(0,kt.jsx)("button",{onClick:g,className:"mt-4 px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-white transition-colors",children:"Reintentar"})]})});const j=(null===s||void 0===s?void 0:s.completitud_global)>=80?"text-green-400":(null===s||void 0===s?void 0:s.completitud_global)>=50?"text-amber-400":"text-red-400";return(0,kt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 py-8 px-4",children:[(0,kt.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,kt.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-xl rounded-2xl border border-slate-700/50 p-6 mb-6",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,kt.jsx)("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center shadow-lg",children:(0,kt.jsx)("span",{className:"text-3xl",children:"\ud83d\udcda"})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Estado del Acervo"}),(0,kt.jsx)("p",{className:"text-slate-400",children:"Documentos requeridos por agente para Bibliotecar.IA"})]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsxs)("button",{onClick:g,disabled:r,className:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-xl font-medium transition-all shadow-lg hover:shadow-purple-500/25 disabled:opacity-50",children:[(0,kt.jsx)("svg",{className:"w-5 h-5 ".concat(r?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Actualizar"]}),h>0&&(0,kt.jsxs)("button",{onClick:async()=>{if(u)return;if(window.confirm("\xbfDesea procesar ".concat(h," documento(s) pendiente(s)?")))try{var e;m("todos");const r=await Ra.post("/biblioteca/reingestar-todos");var t;if(null!==(e=r.data)&&void 0!==e&&e.success)alert("\u2705 ".concat(r.data.procesados||h," documentos procesados exitosamente."));else alert("\u26a0\ufe0f ".concat((null===(t=r.data)||void 0===t?void 0:t.message)||"Proceso completado"));await g()}catch(n){var r,a;console.error("Error reingestando todos:",n),alert("\u274c Error al procesar: ".concat((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||n.message))}finally{m(null)}},disabled:"todos"===u,className:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white rounded-xl font-medium transition-all shadow-lg hover:shadow-amber-500/25 disabled:opacity-50",children:["todos"===u?(0,kt.jsx)("span",{className:"animate-spin",children:"\u27f3"}):(0,kt.jsx)("span",{children:"\u26a1"}),"Procesar ",h," pendiente",1!==h?"s":""]})]})]}),(0,kt.jsxs)("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,kt.jsxs)("div",{className:"bg-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:[(0,kt.jsxs)("div",{className:"text-3xl font-bold ".concat(j),children:[(null===s||void 0===s?void 0:s.completitud_global)||0,"%"]}),(0,kt.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Completitud Global"})]}),(0,kt.jsxs)("div",{className:"bg-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:[(0,kt.jsxs)("div",{className:"text-3xl font-bold text-white",children:[(null===s||void 0===s?void 0:s.documentos_cargados)||0,"/",(null===s||void 0===s?void 0:s.total_documentos)||0]}),(0,kt.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Documentos"})]}),(0,kt.jsxs)("div",{className:"bg-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:[(0,kt.jsx)("div",{className:"text-3xl font-bold text-green-400",children:(null===s||void 0===s?void 0:s.documentos_cargados)||0}),(0,kt.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Cargados"})]}),(0,kt.jsxs)("div",{className:"bg-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:[(0,kt.jsx)("div",{className:"text-3xl font-bold ".concat(h>0?"text-amber-400":"text-slate-400"),children:h}),(0,kt.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Pendientes"})]})]}),(0,kt.jsxs)("div",{className:"mt-6",children:[(0,kt.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,kt.jsx)("span",{className:"text-slate-400",children:"Progreso General"}),(0,kt.jsxs)("span",{className:"font-semibold ".concat(j),children:[(null===s||void 0===s?void 0:s.completitud_global)||0,"%"]})]}),(0,kt.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-3",children:(0,kt.jsx)("div",{className:"h-3 rounded-full transition-all ".concat((null===s||void 0===s?void 0:s.completitud_global)>=80?"bg-gradient-to-r from-green-500 to-emerald-400":(null===s||void 0===s?void 0:s.completitud_global)>=50?"bg-gradient-to-r from-amber-500 to-yellow-400":"bg-gradient-to-r from-red-500 to-rose-400"),style:{width:"".concat((null===s||void 0===s?void 0:s.completitud_global)||0,"%")}})})]})]}),(0,kt.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,kt.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[(0,kt.jsx)("span",{children:"\ud83e\udd16"})," Agentes"]})}),(0,kt.jsx)("div",{className:"space-y-3",children:null===s||void 0===s||null===(e=s.agentes)||void 0===e?void 0:e.map(e=>(0,kt.jsx)(Da,{agente:e,onUpload:b,onReingestar:v,onVerStats:y,reingestando:u,expandedAgent:c,setExpandedAgent:d},e.id))}),(0,kt.jsxs)("div",{className:"mt-6 bg-slate-800/30 backdrop-blur rounded-xl border border-slate-700/50 p-4",children:[(0,kt.jsx)("h3",{className:"text-sm font-semibold text-slate-400 mb-3",children:"Leyenda de Criticidad"}),(0,kt.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("span",{className:"text-xs px-2 py-1 rounded-full border ".concat(Ta("critico")),children:"Cr\xedtico"}),(0,kt.jsx)("span",{className:"text-xs text-slate-500",children:"Indispensable para el agente"})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("span",{className:"text-xs px-2 py-1 rounded-full border ".concat(Ta("importante")),children:"Importante"}),(0,kt.jsx)("span",{className:"text-xs text-slate-500",children:"Mejora significativamente la calidad"})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("span",{className:"text-xs px-2 py-1 rounded-full border ".concat(Ta("recomendado")),children:"Recomendado"}),(0,kt.jsx)("span",{className:"text-xs text-slate-500",children:"Complementa el conocimiento"})]})]})]}),(0,kt.jsx)("div",{className:"mt-4 text-center",children:(0,kt.jsxs)("button",{onClick:()=>t("/biblioteca"),className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-xl font-medium transition-all shadow-lg hover:shadow-purple-500/25",children:[(0,kt.jsx)("span",{children:"\ud83d\udcda"}),"Ir a Bibliotecar.IA"]})})]}),(0,kt.jsx)(Pa,{statsDoc:p,onClose:()=>x(null)})]})};function Fa(){var e,t,r,n,s,l,o,i,c,d,u,m,p,x,h,f,g,b,v,y,j,N,w,k,S,C,E;const[_,A]=(0,a.useState)(null),[L,R]=(0,a.useState)([]),[T,O]=(0,a.useState)(!0),[z,P]=(0,a.useState)(""),[D,M]=(0,a.useState)([]),[F,I]=(0,a.useState)(!1),[B,W]=(0,a.useState)("dashboard"),U=(0,a.useRef)(null);(0,a.useEffect)(()=>{H()},[]),(0,a.useEffect)(()=>{var e;null===(e=U.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[D]);const H=async()=>{O(!0);try{const[e,t]=await Promise.all([fetch("/api/disenar/auditoria"),fetch("/api/disenar/sugerencias")]),r=await e.json();r.success&&A(r);const a=await t.json();a.success&&R(a.sugerencias)}catch(e){console.error("Error:",e)}finally{O(!1)}},V=async()=>{if(!z.trim()||F)return;const e=z;P(""),M(t=>[...t,{role:"user",content:e}]),I(!0);try{const t=await fetch("/api/disenar/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,history:D})}),r=await t.json();r.success?M(e=>[...e,{role:"assistant",content:r.response}]):M(e=>[...e,{role:"assistant",content:"Error: ".concat(r.detail||"No se pudo obtener respuesta")}])}catch(t){console.error("Error:",t),M(e=>[...e,{role:"assistant",content:"Error de conexi\xf3n con el servidor"}])}finally{I(!1)}};return T?(0,kt.jsx)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),(0,kt.jsx)("p",{className:"text-slate-400 text-lg",children:"Dise\xf1ar.IA est\xe1 analizando el dise\xf1o..."})]})}):(0,kt.jsx)("div",{className:"min-h-screen bg-slate-900 p-4 md:p-6",children:(0,kt.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,kt.jsxs)("div",{className:"bg-gradient-to-r from-purple-900/50 to-pink-900/50 rounded-2xl p-6 mb-6 border border-purple-500/30 backdrop-blur-sm",children:[(0,kt.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,kt.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center text-3xl shadow-lg shadow-purple-500/20",children:"\ud83c\udfa8"}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Dise\xf1ar.IA"}),(0,kt.jsx)("p",{className:"text-purple-200/80",children:"Guardi\xe1n del Dise\xf1o y la Experiencia de Usuario"})]})]}),(0,kt.jsxs)("button",{onClick:H,className:"px-5 py-2.5 bg-purple-600 hover:bg-purple-500 text-white rounded-xl flex items-center gap-2 transition-all shadow-lg shadow-purple-600/20",children:[(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Auditar Ahora"]})]}),_&&(0,kt.jsxs)("div",{className:"mt-6 flex items-center gap-6",children:[(0,kt.jsxs)("div",{className:"text-5xl font-bold ".concat((q=_.score_general,q>=90?"text-emerald-400":q>=70?"text-yellow-400":"text-red-400")),children:[_.score_general,"%"]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("div",{className:"text-lg text-white font-semibold",children:_.mensaje}),(0,kt.jsxs)("div",{className:"text-sm text-slate-400",children:["\xdaltima auditor\xeda: ",new Date(_.timestamp).toLocaleString("es-MX")]}),(0,kt.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:["Tiempo: ",null===(e=_.tiempo_auditoria_ms)||void 0===e?void 0:e.toFixed(0),"ms"]})]})]})]}),(0,kt.jsx)("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[{id:"dashboard",icon:"\ud83d\udcca",label:"Dashboard"},{id:"chat",icon:"\ud83d\udcac",label:"Chat"},{id:"sugerencias",icon:"\ud83d\udca1",label:"Nuevas Tecnolog\xedas"}].map(e=>(0,kt.jsxs)("button",{onClick:()=>W(e.id),className:"px-4 py-2.5 rounded-xl font-medium transition-all whitespace-nowrap flex items-center gap-2 ".concat(B===e.id?"bg-purple-600 text-white shadow-lg shadow-purple-600/20":"bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white"),children:[(0,kt.jsx)("span",{children:e.icon}),e.label]},e.id))}),"dashboard"===B&&_&&(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,kt.jsx)(Ia,{titulo:"\ud83c\udfa8 Colorimetr\xeda",score:(null===(t=_.colorimetria)||void 0===t?void 0:t.score)||0,detalles:["".concat((null===(r=_.colorimetria)||void 0===r?void 0:r.total_colores)||0," colores detectados"),"".concat((null===(n=_.colorimetria)||void 0===n||null===(s=n.colores_prohibidos)||void 0===s?void 0:s.length)||0," fuera de paleta")],problemas:null===(l=_.colorimetria)||void 0===l||null===(o=l.colores_prohibidos)||void 0===o?void 0:o.slice(0,3)}),(0,kt.jsx)(Ia,{titulo:"\ud83d\udd24 Tipograf\xedas",score:(null===(i=_.tipografia)||void 0===i?void 0:i.score)||0,detalles:["Fuentes oficiales: ".concat(null===(c=_.tipografia)||void 0===c||null===(d=c.fuentes_oficiales)||void 0===d?void 0:d.join(", ")),"".concat((null===(u=_.tipografia)||void 0===u||null===(m=u.fuentes_no_oficiales)||void 0===m?void 0:m.length)||0," fuentes no oficiales")]}),(0,kt.jsx)(Ia,{titulo:"\ud83d\udcf1 Responsive / M\xf3vil",score:(null===(p=_.responsive)||void 0===p?void 0:p.score)||0,detalles:["".concat((null===(x=_.responsive)||void 0===x?void 0:x.componentes_analizados)||0," componentes"),"".concat((null===(h=_.responsive)||void 0===h?void 0:h.total_problemas)||0," problemas detectados")],problemas:null===(f=_.responsive)||void 0===f||null===(g=f.problemas)||void 0===g?void 0:g.slice(0,3)}),(0,kt.jsx)(Ia,{titulo:"\ud83e\udde9 Componentes UI",score:(null===(b=_.componentes)||void 0===b?void 0:b.score)||0,detalles:["".concat((null===(v=_.componentes)||void 0===v?void 0:v.total_componentes)||0," componentes analizados")]}),(0,kt.jsx)(Ia,{titulo:"\u267f Accesibilidad",score:(null===(y=_.accesibilidad)||void 0===y?void 0:y.score)||0,detalles:["".concat((null===(j=_.accesibilidad)||void 0===j?void 0:j.total_problemas)||0," problemas a11y")],problemas:null===(N=_.accesibilidad)||void 0===N||null===(w=N.problemas)||void 0===w?void 0:w.slice(0,3)}),(0,kt.jsx)(Ia,{titulo:"\u26a1 Rendimiento CSS",score:(null===(k=_.rendimiento)||void 0===k?void 0:k.score)||0,detalles:["".concat((null===(S=_.rendimiento)||void 0===S?void 0:S.total_problemas)||0," optimizaciones sugeridas")],problemas:null===(C=_.rendimiento)||void 0===C||null===(E=C.problemas)||void 0===E?void 0:E.slice(0,3)})]}),"chat"===B&&(0,kt.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl overflow-hidden border border-slate-700",children:[(0,kt.jsxs)("div",{className:"h-[28rem] overflow-y-auto p-4 space-y-4",children:[0===D.length&&(0,kt.jsxs)("div",{className:"text-center text-slate-500 py-12",children:[(0,kt.jsx)("div",{className:"text-5xl mb-4",children:"\ud83c\udfa8"}),(0,kt.jsx)("p",{className:"text-lg mb-4",children:"Hola, soy Dise\xf1ar.IA"}),(0,kt.jsx)("p",{className:"text-sm mb-4",children:"Preg\xfantame sobre dise\xf1o, colores, responsive o UX"}),(0,kt.jsx)("div",{className:"flex flex-wrap justify-center gap-2",children:["\xbfC\xf3mo puedo mejorar el responsive?","\xbfQu\xe9 colores debo usar?","\xbfC\xf3mo implemento animaciones?"].map((e,t)=>(0,kt.jsx)("button",{onClick:()=>P(e),className:"text-purple-400 hover:text-purple-300 text-sm px-3 py-1.5 bg-slate-700/50 rounded-lg hover:bg-slate-700 transition-all",children:e},t))})]}),D.map((e,t)=>(0,kt.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,kt.jsxs)("div",{className:"max-w-[85%] p-4 rounded-2xl ".concat("user"===e.role?"bg-purple-600 text-white":"bg-slate-700/70 text-slate-100"),children:["assistant"===e.role&&(0,kt.jsxs)("div",{className:"text-xs text-purple-400 mb-2 flex items-center gap-1",children:[(0,kt.jsx)("span",{children:"\ud83c\udfa8"})," Dise\xf1ar.IA"]}),(0,kt.jsx)("div",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:e.content})]})},t)),F&&(0,kt.jsx)("div",{className:"flex justify-start",children:(0,kt.jsx)("div",{className:"bg-slate-700/70 p-4 rounded-2xl",children:(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("div",{className:"animate-spin w-5 h-5 border-2 border-purple-500 border-t-transparent rounded-full"}),(0,kt.jsx)("span",{className:"text-slate-400",children:"Dise\xf1ar.IA est\xe1 pensando..."})]})})}),(0,kt.jsx)("div",{ref:U})]}),(0,kt.jsx)("div",{className:"p-4 border-t border-slate-700 bg-slate-800/80",children:(0,kt.jsxs)("div",{className:"flex gap-3",children:[(0,kt.jsx)("input",{type:"text",value:z,onChange:e=>P(e.target.value),onKeyPress:e=>"Enter"===e.key&&V(),placeholder:"Pregunta sobre dise\xf1o, colores, responsive...",className:"flex-1 px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all"}),(0,kt.jsxs)("button",{onClick:V,disabled:F||!z.trim(),className:"px-6 py-3 bg-purple-600 hover:bg-purple-500 text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-purple-600/20 flex items-center gap-2",children:[(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),"Enviar"]})]})})]}),"sugerencias"===B&&(0,kt.jsx)("div",{className:"space-y-4",children:L.map((e,t)=>(0,kt.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-700 hover:border-purple-500/30 transition-all",children:[(0,kt.jsxs)("div",{className:"flex flex-col md:flex-row items-start justify-between gap-4",children:[(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-3 flex-wrap",children:[(0,kt.jsx)("span",{className:"text-2xl",children:"\ud83d\udca1"}),e.tecnologia,(0,kt.jsx)("span",{className:"text-xs px-2.5 py-1 rounded-full font-medium ".concat("baja"===e.dificultad?"bg-emerald-600/20 text-emerald-400 border border-emerald-500/30":"media"===e.dificultad?"bg-yellow-600/20 text-yellow-400 border border-yellow-500/30":"bg-red-600/20 text-red-400 border border-red-500/30"),children:e.dificultad})]}),(0,kt.jsx)("p",{className:"text-slate-400 mt-2",children:e.descripcion}),(0,kt.jsxs)("p",{className:"text-purple-400 mt-2 flex items-center gap-2",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"Impacto: ",e.impacto]})]}),(0,kt.jsxs)("div",{className:"flex gap-2",children:[(0,kt.jsx)("button",{className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-all text-sm",children:"Ver Demo"}),(0,kt.jsx)("button",{className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-all text-sm shadow-lg shadow-purple-600/20",children:"Implementar"})]})]}),e.ejemplo&&(0,kt.jsxs)("div",{className:"mt-4",children:[(0,kt.jsx)("div",{className:"text-xs text-slate-500 mb-2",children:"Ejemplo de c\xf3digo:"}),(0,kt.jsx)("pre",{className:"bg-slate-900/80 p-4 rounded-xl text-sm text-slate-300 overflow-x-auto border border-slate-700",children:(0,kt.jsx)("code",{children:e.ejemplo})})]})]},t))})]})});var q}function Ia(e){let{titulo:t,score:r,detalles:a,problemas:n}=e;return(0,kt.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-5 border border-slate-700 hover:border-purple-500/30 transition-all",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-white",children:t}),(0,kt.jsxs)("span",{className:"text-2xl font-bold ".concat((s=r,s>=90?"text-emerald-400":s>=70?"text-yellow-400":"text-red-400")),children:[r,"%"]})]}),(0,kt.jsx)("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden mb-4",children:(0,kt.jsx)("div",{className:"h-full ".concat((e=>e>=90?"bg-emerald-500":e>=70?"bg-yellow-500":"bg-red-500")(r)," transition-all duration-500"),style:{width:"".concat(r,"%")}})}),(0,kt.jsx)("div",{className:"space-y-1.5 text-sm text-slate-400",children:a.map((e,t)=>(0,kt.jsxs)("div",{className:"flex items-start gap-2",children:[(0,kt.jsx)("span",{className:"text-slate-500",children:"\u2022"}),(0,kt.jsx)("span",{children:e})]},t))}),n&&n.length>0&&(0,kt.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-700",children:[(0,kt.jsx)("div",{className:"text-xs text-red-400 mb-2 font-medium",children:"Problemas detectados:"}),n.map((e,t)=>(0,kt.jsxs)("div",{className:"text-xs text-slate-500 mb-1 flex items-start gap-1",children:[(0,kt.jsx)("span",{className:"text-red-400",children:"\u2022"}),(0,kt.jsxs)("span",{children:[e.color||e.archivo||e.problema,e.sugerencia&&(0,kt.jsxs)("span",{className:"text-cyan-400 ml-1",children:["\u2192 ",e.sugerencia]})]})]},t))]})]});var s}const Ba=wt.A.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});Ba.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});const Wa=()=>{var e,t;const r=xe(),[n,s]=(0,a.useState)(null),[l,o]=(0,a.useState)(!0),[i,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{m()},[]);const m=async()=>{o(!0);try{const e=await Ba.get("/kb/agent-requirements");s(e.data),c(null)}catch(e){console.error("Error loading agent requirements:",e),c("Error al cargar los requerimientos de agentes")}finally{o(!1)}},p=()=>{r("/biblioteca")},x=(null===n||void 0===n||null===(e=n.agentes)||void 0===e?void 0:e.filter(e=>!d||!e.listo))||[];if(l)return(0,kt.jsx)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,kt.jsx)("p",{className:"text-slate-400",children:"Cargando requerimientos de agentes..."})]})});if(i)return(0,kt.jsx)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"text-red-400 text-xl mb-4",children:"\u274c"}),(0,kt.jsx)("p",{className:"text-slate-400",children:i}),(0,kt.jsx)("button",{onClick:m,className:"mt-4 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:"Reintentar"})]})});const h=(null===n||void 0===n?void 0:n.resumen)||{};return(0,kt.jsx)("div",{className:"min-h-screen bg-slate-900 p-6",children:(0,kt.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,kt.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-slate-700/50 p-6",children:[(0,kt.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,kt.jsx)("span",{className:"text-3xl",children:"\ud83e\udd16"}),"Checklist de Agentes"]}),(0,kt.jsx)("p",{className:"text-slate-400 mt-1",children:"Requerimientos documentales por agente de Revisar.IA"})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,kt.jsxs)("label",{className:"flex items-center gap-2 text-sm text-slate-300 cursor-pointer",children:[(0,kt.jsx)("input",{type:"checkbox",checked:d,onChange:e=>u(e.target.checked),className:"w-4 h-4 rounded border-slate-600 bg-slate-700 text-purple-500 focus:ring-purple-500 focus:ring-offset-0"}),"Solo con documentos faltantes"]}),(0,kt.jsxs)("button",{onClick:p,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-lg transition-all flex items-center gap-2 text-sm font-medium",children:[(0,kt.jsx)("span",{children:"\ud83d\udcda"}),"Ir a Bibliotecaria"]})]})]}),(0,kt.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,kt.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[(0,kt.jsxs)("div",{className:"text-3xl font-bold text-white",children:[h.completitud_general||0,"%"]}),(0,kt.jsx)("div",{className:"text-sm text-slate-400 mt-1",children:"Completitud General"}),(0,kt.jsx)("div",{className:"mt-2 w-full bg-slate-700 rounded-full h-2",children:(0,kt.jsx)("div",{className:"h-2 rounded-full bg-gradient-to-r ".concat((f=h.completitud_general||0,f>=100?"from-green-500 to-emerald-500":f>=75?"from-blue-500 to-cyan-500":f>=50?"from-amber-500 to-yellow-500":f>=25?"from-orange-500 to-amber-500":"from-red-500 to-rose-500")," transition-all"),style:{width:"".concat(h.completitud_general||0,"%")}})})]}),(0,kt.jsxs)("div",{className:"bg-green-900/30 rounded-xl p-4 border border-green-700/50",children:[(0,kt.jsx)("div",{className:"text-3xl font-bold text-green-400",children:h.agentes_listos||0}),(0,kt.jsx)("div",{className:"text-sm text-green-300 mt-1",children:"Agentes Listos"})]}),(0,kt.jsxs)("div",{className:"bg-amber-900/30 rounded-xl p-4 border border-amber-700/50",children:[(0,kt.jsx)("div",{className:"text-3xl font-bold text-amber-400",children:h.agentes_pendientes||0}),(0,kt.jsx)("div",{className:"text-sm text-amber-300 mt-1",children:"Agentes Pendientes"})]}),(0,kt.jsxs)("div",{className:"bg-blue-900/30 rounded-xl p-4 border border-blue-700/50",children:[(0,kt.jsxs)("div",{className:"text-3xl font-bold text-blue-400",children:[h.total_documentos_disponibles||0,"/",h.total_documentos_requeridos||0]}),(0,kt.jsx)("div",{className:"text-sm text-blue-300 mt-1",children:"Documentos en Acervo"})]})]})]}),(0,kt.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:x.map(e=>(0,kt.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-slate-700/50 overflow-hidden hover:border-slate-600/50 transition-colors",children:[(0,kt.jsx)("div",{className:"bg-gradient-to-r ".concat(e.color," p-4"),children:(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("div",{className:"w-12 h-12 rounded-full bg-white/20 backdrop-blur flex items-center justify-center text-2xl",children:e.icono}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("h3",{className:"font-bold text-white text-lg",children:[e.id," - ",e.nombre]}),(0,kt.jsx)("p",{className:"text-white/80 text-sm",children:e.descripcion})]})]}),(0,kt.jsxs)("div",{className:"text-right",children:[(0,kt.jsxs)("div",{className:"text-2xl font-bold text-white",children:[e.completitud,"%"]}),(0,kt.jsxs)("div",{className:"text-xs text-white/70",children:[e.disponibles,"/",e.total_requeridos," docs"]})]})]})}),(0,kt.jsxs)("div",{className:"p-4",children:[(0,kt.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2 mb-4",children:(0,kt.jsx)("div",{className:"h-2 rounded-full bg-gradient-to-r ".concat(e.color," transition-all"),style:{width:"".concat(e.completitud,"%")}})}),(0,kt.jsxs)("div",{className:"space-y-2",children:[(0,kt.jsx)("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Documentos Requeridos"}),(0,kt.jsx)("div",{className:"grid grid-cols-1 gap-1.5",children:e.documentos.map((e,t)=>(0,kt.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg text-sm ".concat(e.disponible?"bg-green-900/20 border border-green-700/30":"bg-red-900/20 border border-red-700/30"),children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("span",{className:"text-base",children:e.disponible?"\u2705":"\u274c"}),(0,kt.jsx)("span",{className:e.disponible?"text-green-300":"text-red-300",children:e.nombre})]}),(0,kt.jsx)("span",{className:"text-xs text-slate-500",children:e.categoria.replace("_"," ")})]},t))})]}),!e.listo&&(0,kt.jsxs)("button",{onClick:p,className:"mt-4 w-full py-2.5 bg-slate-700/50 hover:bg-slate-700 text-slate-300 hover:text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-sm font-medium border border-slate-600/50",children:[(0,kt.jsx)("span",{children:"\ud83d\udce5"}),"Cargar Documentos Faltantes"]}),e.listo&&(0,kt.jsxs)("div",{className:"mt-4 py-2.5 bg-green-900/20 text-green-400 rounded-lg flex items-center justify-center gap-2 text-sm font-medium border border-green-700/30",children:[(0,kt.jsx)("span",{children:"\u2728"}),"Agente Listo"]})]})]},e.agent_id))}),0===x.length&&(0,kt.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-slate-700/50 p-12 text-center",children:[(0,kt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udf89"}),(0,kt.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"\xa1Todos los agentes est\xe1n listos!"}),(0,kt.jsx)("p",{className:"text-slate-400",children:"Todos los agentes tienen sus documentos requeridos disponibles en el acervo."})]}),(0,kt.jsx)("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-slate-700/50 p-4",children:(0,kt.jsxs)("div",{className:"flex items-center justify-between text-sm text-slate-400",children:[(0,kt.jsxs)("span",{children:["Mostrando ",x.length," de ",(null===n||void 0===n||null===(t=n.agentes)||void 0===t?void 0:t.length)||0," agentes"]}),(0,kt.jsxs)("button",{onClick:m,className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Actualizar"]})]})})]})});var f},Ua=e=>{var t,r;let{template:a,agentId:n,agentName:s,onCustomize:l,onDownload:o}=e;const i=(null===(t=a.placeholders)||void 0===t?void 0:t.length)||0;return(0,kt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-5 hover:shadow-md transition-all duration-200 hover:border-blue-300",children:[(0,kt.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsx)("h3",{className:"font-semibold text-slate-800 text-sm leading-tight",children:a.title||a.template_id}),(0,kt.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:s})]}),(0,kt.jsxs)("span",{className:"bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded-full font-medium",children:[a.file_size_kb," KB"]})]}),i>0&&(0,kt.jsxs)("div",{className:"mb-4",children:[(0,kt.jsxs)("p",{className:"text-xs text-slate-600 mb-2",children:[(0,kt.jsx)("span",{className:"font-medium",children:i})," campos personalizables"]}),(0,kt.jsxs)("div",{className:"flex flex-wrap gap-1",children:[null===(r=a.placeholders)||void 0===r?void 0:r.slice(0,4).map((e,t)=>(0,kt.jsx)("span",{className:"bg-slate-100 text-slate-600 text-xs px-2 py-0.5 rounded",children:e},t)),i>4&&(0,kt.jsxs)("span",{className:"text-slate-400 text-xs",children:["+",i-4," m\xe1s"]})]})]}),(0,kt.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,kt.jsxs)("button",{onClick:()=>o(n,a.template_id,a.filename),className:"flex-1 px-3 py-2 text-sm font-medium text-slate-700 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center justify-center gap-1",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Original"]}),i>0&&(0,kt.jsxs)("button",{onClick:()=>l(a,n,s),className:"flex-1 px-3 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors flex items-center justify-center gap-1",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Personalizar"]})]})]})},Ha={EMPRESA_NOMBRE:"Nombre de la Empresa",EMPRESA_RFC:"RFC de la Empresa",FECHA_ACTUAL:"Fecha",PROYECTO_NOMBRE:"Nombre del Proyecto",MONTO_CREDITO:"Monto",PROVEEDOR_NOMBRE:"Nombre del Proveedor",PROVEEDOR_RFC:"RFC del Proveedor",DESCRIPCION_SERVICIO:"Descripci\xf3n del Servicio",FOLIO_PROYECTO:"Folio del Proyecto",RESPONSABLE_PROYECTO:"Responsable del Proyecto",PERIODO_FISCAL:"Per\xedodo Fiscal",FECHA_INICIO:"Fecha de Inicio",FECHA_FIN:"Fecha de Fin",BENEFICIO_CUANTIFICADO:"Beneficio Cuantificado",OBSERVACIONES_RAZON_NEGOCIOS:"Observaciones Raz\xf3n de Negocios"},Va=e=>{var t,r;let{isOpen:n,onClose:l,template:o,agentId:i,agentName:c,onGenerate:d,onDownloadOriginal:u}=e;const[m,p]=(0,a.useState)({}),[x,h]=(0,a.useState)(!1),[f,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(null!==o&&void 0!==o&&o.placeholders){const e={};o.placeholders.forEach(t=>{t.includes("FECHA_ACTUAL")?e[t]=(new Date).toLocaleDateString("es-MX"):e[t]=""}),p(e)}},[o]);const b=(e,t)=>{p(r=>(0,s.A)((0,s.A)({},r),{},{[e]:t}))},v=async e=>{e.preventDefault(),h(!0),g(null);try{await d(i,o.template_id,m)}catch(t){g(t.message||"Error al generar documento")}finally{h(!1)}},y=Object.values(m).filter(e=>e&&e.trim()).length,j=(null===o||void 0===o||null===(t=o.placeholders)||void 0===t?void 0:t.length)||0;return n?(0,kt.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,kt.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,kt.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 flex items-center justify-between",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Personalizar Template"}),(0,kt.jsxs)("p",{className:"text-blue-100 text-sm",children:[c," - ",(null===o||void 0===o?void 0:o.title)||(null===o||void 0===o?void 0:o.template_id)]})]}),(0,kt.jsx)("button",{onClick:l,className:"text-white/80 hover:text-white transition-colors",children:(0,kt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,kt.jsxs)("div",{className:"px-6 py-3 bg-slate-50 border-b flex items-center justify-between",children:[(0,kt.jsxs)("span",{className:"text-sm text-slate-600",children:["Campos completados: ",(0,kt.jsx)("span",{className:"font-semibold text-blue-600",children:y})," de ",j]}),(0,kt.jsx)("div",{className:"w-32 bg-slate-200 rounded-full h-2",children:(0,kt.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:j>0?"".concat(y/j*100,"%"):"0%"}})})]}),(0,kt.jsxs)("form",{onSubmit:v,className:"flex-1 overflow-y-auto p-6",children:[f&&(0,kt.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:f}),(0,kt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:null===o||void 0===o||null===(r=o.placeholders)||void 0===r?void 0:r.map(e=>{const t=(e=>e.includes("FECHA")?"date":e.includes("MONTO")||e.includes("BENEFICIO")||e.includes("AHORRO")?"number":e.includes("RFC")?"text":e.includes("DESCRIPCION")||e.includes("OBSERVACIONES")?"textarea":"text")(e),r=(e=>Ha[e]||e.replace(/_/g," "))(e);return"textarea"===t?(0,kt.jsxs)("div",{className:"md:col-span-2",children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:r}),(0,kt.jsx)("textarea",{value:m[e]||"",onChange:t=>b(e,t.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm resize-none",placeholder:"Ingrese ".concat(r.toLowerCase())})]},e):(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:r}),(0,kt.jsx)("input",{type:"date"===t?"text":t,value:m[e]||"",onChange:t=>b(e,t.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"date"===t?"DD/MM/AAAA":"Ingrese ".concat(r.toLowerCase())})]},e)})})]}),(0,kt.jsxs)("div",{className:"px-6 py-4 bg-slate-50 border-t flex gap-3 justify-end",children:[(0,kt.jsx)("button",{type:"button",onClick:l,className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-200 rounded-lg transition-colors",children:"Cancelar"}),(0,kt.jsxs)("button",{type:"button",onClick:()=>u(i,o.template_id,o.filename),className:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-200 hover:bg-slate-300 rounded-lg transition-colors flex items-center gap-1",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Original"]}),(0,kt.jsx)("button",{type:"submit",onClick:v,disabled:x||0===y,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed rounded-lg transition-colors flex items-center gap-1",children:x?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[(0,kt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,kt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generando..."]}):(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Generar Personalizado"]})})]})]})}):null},qa={A1_ESTRATEGIA:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),A2_PMO:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),A3_FISCAL:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),A4_LEGAL:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"})}),A5_FINANZAS:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),A6_PROVEEDOR:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),A7_DEFENSA:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),KNOWLEDGE_BASE:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})},Ka=()=>{var e;const[t,r]=(0,a.useState)({total_templates:0,agents:[]}),[n,l]=(0,a.useState)(!0),[o,i]=(0,a.useState)(null),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)("all"),[p,x]=(0,a.useState)({isOpen:!1,template:null,agentId:null,agentName:null});(0,a.useEffect)(()=>{h()},[]);const h=async()=>{try{l(!0);const e=await fetch("/api/templates/docx");if(!e.ok)throw new Error("Error al cargar templates");const t=await e.json();r(t)}catch(e){i(e.message)}finally{l(!1)}},f=(0,a.useMemo)(()=>{let e=t.agents||[];if("all"!==u&&(e=e.filter(e=>e.agent_id===u)),c.trim()){const t=c.toLowerCase();e=e.map(e=>(0,s.A)((0,s.A)({},e),{},{templates:e.templates.filter(e=>{var r,a,n;return(null===(r=e.title)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(a=e.template_id)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(n=e.placeholders)||void 0===n?void 0:n.some(e=>e.toLowerCase().includes(t)))})})).filter(e=>e.templates.length>0)}return e},[t,u,c]),g=(0,a.useMemo)(()=>f.reduce((e,t)=>e+t.templates.length,0),[f]),b=async(e,t,r)=>{try{const a=await fetch("/api/templates/docx/".concat(e,"/").concat(t,"/download"));if(!a.ok)throw new Error("Error al descargar");const n=await a.blob(),s=window.URL.createObjectURL(n),l=document.createElement("a");l.href=s,l.download=r||"".concat(t,".docx"),document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(s),l.remove()}catch(a){console.error("Download error:",a),alert("Error al descargar el archivo")}},v=(e,t,r)=>{x({isOpen:!0,template:e,agentId:t,agentName:r})};return n?(0,kt.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"w-12 h-12 border-4 border-blue-200 rounded-full animate-spin border-t-blue-600 mx-auto"}),(0,kt.jsx)("p",{className:"mt-4 text-slate-600",children:"Cargando templates..."})]})}):o?(0,kt.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center text-red-600",children:[(0,kt.jsxs)("p",{children:["Error: ",o]}),(0,kt.jsx)("button",{onClick:h,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Reintentar"})]})}):(0,kt.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,kt.jsx)("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-10",children:(0,kt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,kt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Templates RAG"}),(0,kt.jsxs)("p",{className:"text-slate-500 text-sm mt-1",children:[t.total_templates," plantillas disponibles para defensa fiscal"]})]}),(0,kt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,kt.jsx)("input",{type:"text",placeholder:"Buscar templates...",value:c,onChange:e=>d(e.target.value),className:"pl-10 pr-4 py-2 border border-slate-300 rounded-lg w-full sm:w-64 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,kt.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,kt.jsx)("option",{value:"all",children:"Todos los agentes"}),null===(e=t.agents)||void 0===e?void 0:e.map(e=>(0,kt.jsxs)("option",{value:e.agent_id,children:[e.agent_name," (",e.template_count,")"]},e.agent_id))]})]})]})})}),(0,kt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[c&&(0,kt.jsxs)("div",{className:"mb-4 text-sm text-slate-600",children:[g,' resultado(s) para "',c,'"']}),(0,kt.jsx)("div",{className:"space-y-8",children:f.map(e=>(0,kt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,kt.jsx)("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 px-6 py-4 border-b border-slate-200",children:(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600",children:qa[e.agent_id]||qa.KNOWLEDGE_BASE}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{className:"font-semibold text-slate-800",children:e.agent_name}),(0,kt.jsxs)("p",{className:"text-sm text-slate-500",children:[e.template_count," templates"]})]})]})}),(0,kt.jsx)("div",{className:"p-6",children:(0,kt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.templates.map(t=>(0,kt.jsx)(Ua,{template:t,agentId:e.agent_id,agentName:e.agent_name,onCustomize:v,onDownload:b},t.template_id))})})]},e.agent_id))}),0===f.length&&(0,kt.jsxs)("div",{className:"text-center py-12",children:[(0,kt.jsx)("svg",{className:"w-16 h-16 text-slate-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,kt.jsx)("p",{className:"text-slate-500",children:"No se encontraron templates"})]})]}),(0,kt.jsx)(Va,{isOpen:p.isOpen,onClose:()=>x({isOpen:!1,template:null,agentId:null,agentName:null}),template:p.template,agentId:p.agentId,agentName:p.agentName,onGenerate:async(e,t,r)=>{const a=await fetch("/api/templates/docx/".concat(e,"/").concat(t,"/generate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:r,validate_fields:!1})});if(!a.ok){const e=await a.json();throw new Error(e.detail||"Error al generar documento")}const n=await a.blob(),s=window.URL.createObjectURL(n),l=document.createElement("a");l.href=s,l.download="".concat(t,"_personalizado.docx"),document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(s),l.remove(),x({isOpen:!1,template:null,agentId:null,agentName:null})},onDownloadOriginal:b})]})},Ga=e=>{var t,r,a;let{proveedor:n,onEdit:s,onView:l,onDelete:o}=e;const i=(e=>{switch(e){case"activo":return{bg:"bg-green-100",text:"text-green-800",label:"Activo"};case"inactivo":return{bg:"bg-gray-100",text:"text-gray-800",label:"Inactivo"};case"bloqueado":return{bg:"bg-red-100",text:"text-red-800",label:"Bloqueado"};case"pendiente_revision":return{bg:"bg-yellow-100",text:"text-yellow-800",label:"Pendiente"};default:return{bg:"bg-gray-100",text:"text-gray-800",label:e}}})(n.estatus),c=(e=>{switch(e){case"bajo":return{bg:"bg-green-500",label:"Bajo"};case"medio":return{bg:"bg-yellow-500",label:"Medio"};case"alto":return{bg:"bg-orange-500",label:"Alto"};case"critico":return{bg:"bg-red-500",label:"Cr\xedtico"};default:return{bg:"bg-gray-500",label:"-"}}})(null===(t=n.riesgo)||void 0===t?void 0:t.nivel_riesgo);return(0,kt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:(0,kt.jsxs)("div",{className:"p-4",children:[(0,kt.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:n.nombre_comercial||n.razon_social}),(0,kt.jsx)("p",{className:"text-sm text-gray-500 truncate",children:n.razon_social})]}),(0,kt.jsx)("div",{className:"flex items-center gap-2 ml-2",children:(0,kt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(i.bg," ").concat(i.text),children:i.label})})]}),(0,kt.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,kt.jsx)("span",{className:"text-gray-500",children:"RFC:"}),(0,kt.jsx)("span",{className:"font-mono text-gray-900",children:n.rfc})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,kt.jsx)("span",{className:"text-gray-500",children:"Tipo:"}),(0,kt.jsx)("span",{className:"text-gray-900",children:(d=n.tipo_proveedor,{CONSULTORIA_MACRO:"Consultor\xeda Macro",CONSULTORIA_ESTRATEGICA:"Consultor\xeda Estrat\xe9gica",SOFTWARE_SAAS:"Software/SaaS",MARKETING_BRANDING:"Marketing/Branding",INTRAGRUPO:"Intragrupo",SERVICIOS_ESPECIALIZADOS:"Servicios Especializados",OUTSOURCING_PERMITIDO:"Outsourcing Permitido",OTRO:"Otro"}[d]||d)})]}),(null===(r=n.contacto_principal)||void 0===r?void 0:r.email)&&(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,kt.jsx)("span",{className:"text-gray-500",children:"Contacto:"}),(0,kt.jsx)("span",{className:"text-gray-900 truncate",children:n.contacto_principal.email})]})]}),(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-4 p-2 bg-gray-50 rounded-lg",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(c.bg)}),(0,kt.jsxs)("span",{className:"text-sm text-gray-700",children:["Riesgo: ",(0,kt.jsx)("span",{className:"font-medium",children:c.label})]})]}),(0,kt.jsxs)("div",{className:"text-sm text-gray-600",children:["Materialidad: ",(0,kt.jsxs)("span",{className:"font-medium",children:[Math.round((null===(a=n.riesgo)||void 0===a?void 0:a.score_materialidad_potencial)||0),"%"]})]})]}),(0,kt.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[(0,kt.jsxs)("div",{className:"flex gap-2",children:[n.requiere_repse&&(0,kt.jsx)("span",{className:"px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded",children:"REPSE"}),"fisica"===n.tipo_persona&&(0,kt.jsx)("span",{className:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded",children:"P. F\xedsica"})]}),(0,kt.jsxs)("div",{className:"flex gap-1",children:[(0,kt.jsx)("button",{onClick:()=>l&&l(n),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",children:(0,kt.jsxs)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,kt.jsx)("button",{onClick:()=>s&&s(n),className:"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Editar",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,kt.jsx)("button",{onClick:()=>o&&o(n),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})});var d},$a=e=>{let{riesgo:t,mostrarDetalles:r=!0}=e;if(!t)return(0,kt.jsx)("div",{className:"rounded-lg p-4 bg-gray-100",children:(0,kt.jsx)("p",{className:"text-gray-500 text-sm",children:"Sin evaluaci\xf3n de riesgo"})});const a=e=>({proveedor_reciente:"Proveedor reciente (< 12 meses)",proveedor_muy_reciente:"Proveedor muy reciente (< 6 meses)",capital_vs_montos_incongruente:"Capital social incongruente con montos",sin_opinion_cumplimiento:"Sin opini\xf3n de cumplimiento",opinion_negativa:"Opini\xf3n de cumplimiento negativa",sin_repse_si_aplica:"REPSE requerido pero no presentado",repse_vencido:"REPSE vencido",domicilio_alto_riesgo:"Domicilio de alto riesgo",rfc_en_lista_69b:"RFC en lista 69-B del SAT",rfc_en_lista_efos:"RFC en lista EFOS",objeto_social_incongruente:"Objeto social no coincide con servicios",regimen_fiscal_incongruente:"R\xe9gimen fiscal incongruente",sin_presencia_digital:"Sin presencia digital verificable",email_no_coincide_con_dominio:"Email no coincide con dominio web"}[e]||e.replace(/_/g," ")),n=(e=>{switch(e){case"bajo":return{bg:"bg-green-100",text:"text-green-800",bar:"bg-green-500"};case"medio":return{bg:"bg-yellow-100",text:"text-yellow-800",bar:"bg-yellow-500"};case"alto":return{bg:"bg-orange-100",text:"text-orange-800",bar:"bg-orange-500"};case"critico":return{bg:"bg-red-100",text:"text-red-800",bar:"bg-red-500"};default:return{bg:"bg-gray-100",text:"text-gray-800",bar:"bg-gray-500"}}})(t.nivel_riesgo),s=t.flags?Object.entries(t.flags).filter(e=>{let[t,r]=e;return!0===r&&!["revisado_manualmente","aprobado_con_excepcion"].includes(t)}).map(e=>{let[t]=e;return t}):[],l=()=>{switch(t.nivel_riesgo){case"bajo":return(0,kt.jsx)("svg",{className:"h-8 w-8 ".concat(n.text),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"medio":return(0,kt.jsx)("svg",{className:"h-8 w-8 ".concat(n.text),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"alto":return(0,kt.jsx)("svg",{className:"h-8 w-8 ".concat(n.text),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});case"critico":return(0,kt.jsx)("svg",{className:"h-8 w-8 ".concat(n.text),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return null}},o=e=>{let{label:t,score:r}=e;return(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("span",{className:"text-xs text-gray-600 w-16",children:t}),(0,kt.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,kt.jsx)("div",{className:"h-full ".concat((a=r,a>=70?"bg-red-500":a>=40?"bg-orange-500":a>=20?"bg-yellow-500":"bg-green-500")," transition-all duration-500"),style:{width:"".concat(r,"%")}})}),(0,kt.jsx)("span",{className:"text-xs font-medium text-gray-700 w-8 text-right",children:Math.round(r)})]});var a};return(0,kt.jsxs)("div",{className:"rounded-lg p-4 ".concat(n.bg),children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)(l,{}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("p",{className:"text-lg font-semibold ".concat(n.text," capitalize"),children:["Riesgo ",t.nivel_riesgo]}),(0,kt.jsxs)("p",{className:"text-sm text-gray-600",children:["Score general: ",Math.round(t.score_general),"/100"]})]})]}),(0,kt.jsxs)("div",{className:"text-right",children:[(0,kt.jsx)("p",{className:"text-xs text-gray-500",children:"Materialidad potencial"}),(0,kt.jsxs)("p",{className:"text-lg font-bold ".concat(t.score_materialidad_potencial>=70?"text-green-600":t.score_materialidad_potencial>=40?"text-yellow-600":"text-red-600"),children:[Math.round(t.score_materialidad_potencial),"%"]})]})]}),r&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,kt.jsx)(o,{label:"Fiscal",score:t.score_fiscal||0}),(0,kt.jsx)(o,{label:"Legal",score:t.score_legal||0}),(0,kt.jsx)(o,{label:"Operativo",score:t.score_operativo||0})]}),s.length>0&&(0,kt.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,kt.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Alertas detectadas (",s.length,"):"]}),(0,kt.jsx)("ul",{className:"space-y-1",children:s.map(e=>(0,kt.jsxs)("li",{className:"text-xs text-gray-600 flex items-center gap-2",children:[(0,kt.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-orange-500"}),a(e)]},e))})]})]})]})},Ja=e=>{let{tipoDocumento:t,titulo:r,descripcion:n,obligatorio:s=!1,onOCRComplete:l,onFileUploaded:o,empresaId:i,authToken:c}=e;const[d,u]=(0,a.useState)(null),[m,p]=(0,a.useState)("idle"),[x,h]=(0,a.useState)(null),[f,g]=(0,a.useState)(null),[b,v]=(0,a.useState)([]),[y,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)(!1),[k,S]=(0,a.useState)(!1),C=async e=>{p("processing"),S(!1);try{const r=await(e=>new Promise((t,r)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>{const e=a.result.split(",")[1];t(e)},a.onerror=r}))(e),a=e.type||"application/pdf",n={constancia_situacion_fiscal:"/api/proveedores/ocr/constancia-fiscal",acta_constitutiva:"/api/proveedores/ocr/acta-constitutiva",opinion_cumplimiento:"/api/proveedores/ocr/opinion-cumplimiento",repse:"/api/proveedores/ocr/repse"}[t]||"/api/proveedores/ocr/clasificar",s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c),"X-Empresa-ID":i},body:JSON.stringify({archivo_base64:r,media_type:a})});if(!s.ok){const e=(await s.json().catch(()=>({}))).detail||"Error en OCR";if(503===s.status||e.toLowerCase().includes("no disponible")||e.toLowerCase().includes("temporalmente"))return S(!0),v(["El servicio de an\xe1lisis de documentos no est\xe1 disponible temporalmente. Por favor intente m\xe1s tarde."]),void p("error");throw new Error(e)}const d=await s.json();if(d.exito)h(d.datos_extraidos),g(d.nivel_confianza),p("success"),l&&l(d.datos_extraidos),o&&o(e,URL.createObjectURL(e));else{const e=d.error||"Error procesando documento";e.toLowerCase().includes("no disponible")?(S(!0),v(["El servicio de an\xe1lisis de documentos no est\xe1 disponible temporalmente. Por favor intente m\xe1s tarde."])):v(d.errores||[e]),p("error")}}catch(r){console.error("Error procesando documento:",r);const e=r.message||"Error procesando el documento";e.toLowerCase().includes("no disponible")||e.toLowerCase().includes("temporalmente")||e.toLowerCase().includes("503")?(S(!0),v(["El servicio de an\xe1lisis de documentos no est\xe1 disponible temporalmente. Por favor intente m\xe1s tarde."])):v([e||"Error procesando el documento. Por favor intente de nuevo."]),p("error")}},E=(0,a.useCallback)(e=>{var t;e.preventDefault(),w(!1);const r=null===(t=e.dataTransfer)||void 0===t?void 0:t.files;if(r&&r.length>0){const e=r[0];if(e.size>10485760)return v(["El archivo excede el l\xedmite de 10MB"]),void p("error");u(e),p("uploading"),setTimeout(()=>{C(e)},500)}},[t]),_=()=>{u(null),p("idle"),h(null),g(null),v([]),j(!1),S(!1)};return(0,kt.jsxs)("div",{className:"space-y-4",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[r,s&&(0,kt.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),f&&(0,kt.jsxs)("span",{className:"px-2 py-1 text-xs rounded-full ".concat((e=>{switch(e){case"alto":return"bg-green-100 text-green-800";case"medio":return"bg-yellow-100 text-yellow-800";case"bajo":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(f)),children:["Confianza: ",f]})]}),(0,kt.jsx)("p",{className:"text-xs text-gray-500",children:n}),("idle"===m||"error"===m)&&(0,kt.jsxs)("div",{onDrop:E,onDragOver:e=>{e.preventDefault(),w(!0)},onDragLeave:e=>{e.preventDefault(),w(!1)},className:"\n            border-2 border-dashed rounded-lg p-6 text-center cursor-pointer\n            transition-colors duration-200\n            ".concat(N?"border-blue-500 bg-blue-50":"error"===m?k?"border-orange-300 bg-orange-50":"border-red-300 bg-red-50":"border-gray-300 hover:border-blue-500","\n          "),children:[(0,kt.jsx)("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){if(r.size>10485760)return v(["El archivo excede el l\xedmite de 10MB"]),void p("error");u(r),p("uploading"),setTimeout(()=>{C(r)},500)}},className:"hidden",id:"file-upload-".concat(t)}),(0,kt.jsxs)("label",{htmlFor:"file-upload-".concat(t),className:"cursor-pointer",children:[k?(0,kt.jsx)("svg",{className:"mx-auto h-10 w-10 text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):(0,kt.jsx)("svg",{className:"mx-auto h-10 w-10 ".concat("error"===m?"text-red-400":"text-gray-400"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,kt.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:N?"Suelta el archivo aqu\xed...":"Arrastra un archivo o haz clic para seleccionar"}),(0,kt.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"PDF, JPG o PNG (m\xe1x. 10MB)"})]}),b.length>0&&(0,kt.jsxs)("div",{className:"mt-3 text-left",children:[k&&(0,kt.jsxs)("div",{className:"mb-2 p-2 bg-orange-100 rounded-md border border-orange-200",children:[(0,kt.jsxs)("p",{className:"text-sm text-orange-800 font-medium flex items-center gap-2",children:[(0,kt.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Servicio temporalmente no disponible"]}),(0,kt.jsx)("p",{className:"text-xs text-orange-700 mt-1",children:"El servicio de an\xe1lisis autom\xe1tico de documentos no est\xe1 disponible en este momento. Por favor intente de nuevo m\xe1s tarde o contacte al soporte t\xe9cnico."})]}),b.map((e,t)=>(0,kt.jsxs)("p",{className:"text-xs flex items-center gap-1 ".concat(k?"text-orange-600":"text-red-600"),children:[(0,kt.jsx)("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,kt.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e]},t)),"error"===m&&(0,kt.jsx)("button",{type:"button",onClick:_,className:"mt-2 text-xs text-blue-600 hover:text-blue-800 underline",children:"Intentar de nuevo"})]})]}),("uploading"===m||"processing"===m)&&(0,kt.jsxs)("div",{className:"border-2 border-dashed border-blue-500 rounded-lg p-6 text-center bg-blue-50",children:[(0,kt.jsx)("div",{className:"mx-auto h-10 w-10 animate-spin rounded-full border-4 border-blue-200 border-t-blue-600"}),(0,kt.jsx)("p",{className:"mt-2 text-sm text-blue-700 font-medium",children:"uploading"===m?"Subiendo archivo...":"Analizando documento con IA..."}),d&&(0,kt.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:d.name})]}),"success"===m&&(0,kt.jsxs)("div",{className:"border-2 border-green-200 rounded-lg p-4 bg-green-50",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("svg",{className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-sm font-medium text-green-800",children:"Documento procesado correctamente"}),(0,kt.jsx)("p",{className:"text-xs text-green-600",children:null===d||void 0===d?void 0:d.name})]})]}),(0,kt.jsxs)("div",{className:"flex gap-2",children:[(0,kt.jsxs)("button",{type:"button",onClick:()=>j(!y),className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100 flex items-center gap-1",children:[(0,kt.jsxs)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),y?"Ocultar":"Ver datos"]}),(0,kt.jsx)("button",{type:"button",onClick:_,className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800",children:"Cambiar"})]})]}),y&&x&&(0,kt.jsxs)("div",{className:"mt-4 p-3 bg-white rounded border border-green-200",children:[(0,kt.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Datos extra\xeddos autom\xe1ticamente:"}),(0,kt.jsx)("pre",{className:"text-xs text-gray-600 overflow-auto max-h-48 whitespace-pre-wrap",children:JSON.stringify(x,null,2)})]})]})]})},Qa=e=>{var t,r,n,l,o,i,c,d,u;let{proveedor:m,onClose:p,onSuccess:x,token:h,empresaId:f}=e;const[g,b]=(0,a.useState)({razon_social:(null===m||void 0===m?void 0:m.razon_social)||"",nombre_comercial:(null===m||void 0===m?void 0:m.nombre_comercial)||"",rfc:(null===m||void 0===m?void 0:m.rfc)||"",regimen_fiscal:(null===m||void 0===m?void 0:m.regimen_fiscal)||"",tipo_persona:(null===m||void 0===m?void 0:m.tipo_persona)||"moral",tipo_proveedor:(null===m||void 0===m?void 0:m.tipo_proveedor)||"OTRO",fecha_constitucion:(null===m||void 0===m?void 0:m.fecha_constitucion)||"",sitio_web:(null===m||void 0===m?void 0:m.sitio_web)||"",requiere_repse:(null===m||void 0===m?void 0:m.requiere_repse)||!1,tiene_personal_en_sitio:(null===m||void 0===m?void 0:m.tiene_personal_en_sitio)||!1,descripcion_servicios_ofrecidos:(null===m||void 0===m?void 0:m.descripcion_servicios_ofrecidos)||"",contacto_nombre:(null===m||void 0===m||null===(t=m.contacto_principal)||void 0===t?void 0:t.nombre_completo)||"",contacto_email:(null===m||void 0===m||null===(r=m.contacto_principal)||void 0===r?void 0:r.email)||"",contacto_telefono:(null===m||void 0===m||null===(n=m.contacto_principal)||void 0===n?void 0:n.telefono)||"",contacto_puesto:(null===m||void 0===m||null===(l=m.contacto_principal)||void 0===l?void 0:l.puesto)||"",calle:(null===m||void 0===m||null===(o=m.domicilio_fiscal)||void 0===o?void 0:o.calle)||"",colonia:(null===m||void 0===m||null===(i=m.domicilio_fiscal)||void 0===i?void 0:i.colonia)||"",municipio:(null===m||void 0===m||null===(c=m.domicilio_fiscal)||void 0===c?void 0:c.municipio)||"",estado:(null===m||void 0===m||null===(d=m.domicilio_fiscal)||void 0===d?void 0:d.estado)||"",codigo_postal:(null===m||void 0===m||null===(u=m.domicilio_fiscal)||void 0===u?void 0:u.codigo_postal)||""}),[v,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(null),[w,k]=(0,a.useState)(1);return(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,kt.jsx)("div",{className:"container mx-auto px-4 max-w-3xl",children:(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg",children:[(0,kt.jsxs)("div",{className:"border-b border-gray-200 p-6",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:m?"Editar Proveedor":"Nuevo Proveedor"}),(0,kt.jsx)("button",{onClick:p,className:"text-gray-400 hover:text-gray-600",children:(0,kt.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,kt.jsx)("div",{className:"flex items-center gap-4 mt-4",children:[1,2,3].map(e=>(0,kt.jsxs)("div",{className:"flex items-center",children:[(0,kt.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(w>=e?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"),children:e}),(0,kt.jsx)("span",{className:"ml-2 text-sm ".concat(w>=e?"text-gray-900":"text-gray-500"),children:1===e?"Datos Generales":2===e?"Contacto":"Domicilio"}),e<3&&(0,kt.jsx)("div",{className:"w-8 h-0.5 mx-2 ".concat(w>e?"bg-blue-600":"bg-gray-200")})]},e))})]}),(0,kt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),y(!0),N(null);try{const e={razon_social:g.razon_social,nombre_comercial:g.nombre_comercial||null,rfc:g.rfc.toUpperCase(),regimen_fiscal:g.regimen_fiscal,tipo_persona:g.tipo_persona,tipo_proveedor:g.tipo_proveedor,fecha_constitucion:g.fecha_constitucion||null,sitio_web:g.sitio_web||null,requiere_repse:g.requiere_repse,tiene_personal_en_sitio:g.tiene_personal_en_sitio,descripcion_servicios_ofrecidos:g.descripcion_servicios_ofrecidos||null,contacto_principal:g.contacto_nombre?{nombre_completo:g.contacto_nombre,email:g.contacto_email,telefono:g.contacto_telefono,puesto:g.contacto_puesto||null}:null,domicilio_fiscal:g.calle?{calle:g.calle,colonia:g.colonia,municipio:g.municipio,estado:g.estado,codigo_postal:g.codigo_postal}:null},t=m?"/api/proveedores/".concat(m.id):"/api/proveedores",r=m?"PUT":"POST",a=await fetch(t,{method:r,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(h),"X-Empresa-ID":f},body:JSON.stringify(e)});if(!a.ok){const e=await a.json();throw new Error(e.detail||"Error guardando proveedor")}x()}catch(t){N(t.message)}finally{y(!1)}},children:[(0,kt.jsxs)("div",{className:"p-6 space-y-6",children:[j&&(0,kt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:j}),1===w&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Raz\xf3n Social ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsx)("input",{type:"text",value:g.razon_social,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{razon_social:e.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Comercial"}),(0,kt.jsx)("input",{type:"text",value:g.nombre_comercial,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{nombre_comercial:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["RFC ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsx)("input",{type:"text",value:g.rfc,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{rfc:e.target.value.toUpperCase()})),required:!0,maxLength:13,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["R\xe9gimen Fiscal ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsx)("input",{type:"text",value:g.regimen_fiscal,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{regimen_fiscal:e.target.value})),required:!0,placeholder:"Ej: R\xe9gimen General de Ley Personas Morales",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Persona"}),(0,kt.jsxs)("select",{value:g.tipo_persona,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{tipo_persona:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,kt.jsx)("option",{value:"moral",children:"Persona Moral"}),(0,kt.jsx)("option",{value:"fisica",children:"Persona F\xedsica"})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Proveedor"}),(0,kt.jsx)("select",{value:g.tipo_proveedor,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{tipo_proveedor:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[{value:"CONSULTORIA_MACRO",label:"Consultor\xeda Macro (proyectos >$5M)"},{value:"CONSULTORIA_ESTRATEGICA",label:"Consultor\xeda Estrat\xe9gica"},{value:"SOFTWARE_SAAS",label:"Software / SaaS"},{value:"MARKETING_BRANDING",label:"Marketing / Branding"},{value:"INTRAGRUPO",label:"Servicios Intragrupo"},{value:"SERVICIOS_ESPECIALIZADOS",label:"Servicios Especializados"},{value:"OUTSOURCING_PERMITIDO",label:"Outsourcing Permitido"},{value:"OTRO",label:"Otro"}].map(e=>(0,kt.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Constituci\xf3n"}),(0,kt.jsx)("input",{type:"date",value:g.fecha_constitucion,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{fecha_constitucion:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sitio Web"}),(0,kt.jsx)("input",{type:"url",value:g.sitio_web,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{sitio_web:e.target.value})),placeholder:"https://...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n de Servicios"}),(0,kt.jsx)("textarea",{value:g.descripcion_servicios_ofrecidos,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{descripcion_servicios_ofrecidos:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe brevemente los servicios que ofrece este proveedor..."})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-6",children:[(0,kt.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,kt.jsx)("input",{type:"checkbox",checked:g.requiere_repse,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{requiere_repse:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,kt.jsx)("span",{className:"text-sm text-gray-700",children:"Requiere REPSE"})]}),(0,kt.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,kt.jsx)("input",{type:"checkbox",checked:g.tiene_personal_en_sitio,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{tiene_personal_en_sitio:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,kt.jsx)("span",{className:"text-sm text-gray-700",children:"Personal en sitio"})]})]})]}),2===w&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del Contacto"}),(0,kt.jsx)("input",{type:"text",value:g.contacto_nombre,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{contacto_nombre:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Puesto"}),(0,kt.jsx)("input",{type:"text",value:g.contacto_puesto,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{contacto_puesto:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,kt.jsx)("input",{type:"email",value:g.contacto_email,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{contacto_email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tel\xe9fono"}),(0,kt.jsx)("input",{type:"tel",value:g.contacto_telefono,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{contacto_telefono:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),3===w&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Calle y N\xfamero"}),(0,kt.jsx)("input",{type:"text",value:g.calle,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{calle:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Colonia"}),(0,kt.jsx)("input",{type:"text",value:g.colonia,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{colonia:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"C\xf3digo Postal"}),(0,kt.jsx)("input",{type:"text",value:g.codigo_postal,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{codigo_postal:e.target.value})),maxLength:5,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Municipio/Alcald\xeda"}),(0,kt.jsx)("input",{type:"text",value:g.municipio,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{municipio:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),(0,kt.jsx)("input",{type:"text",value:g.estado,onChange:e=>b((0,s.A)((0,s.A)({},g),{},{estado:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]})]}),(0,kt.jsxs)("div",{className:"border-t border-gray-200 p-6 flex items-center justify-between",children:[(0,kt.jsx)("div",{children:w>1&&(0,kt.jsx)("button",{type:"button",onClick:()=>k(w-1),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Anterior"})}),(0,kt.jsxs)("div",{className:"flex gap-3",children:[(0,kt.jsx)("button",{type:"button",onClick:p,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),w<3?(0,kt.jsx)("button",{type:"button",onClick:()=>k(w+1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Siguiente"}):(0,kt.jsxs)("button",{type:"submit",disabled:v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[v&&(0,kt.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 rounded-full animate-spin border-t-white"}),m?"Actualizar":"Crear Proveedor"]})]})]})]})]})})})},Xa=e=>{let{proveedor:t,onBack:r,token:n,empresaId:s,onUpdate:l}=e;const[o,i]=(0,a.useState)("general"),[c,d]=(0,a.useState)(!1),u=async()=>{d(!0);try{const e=await fetch("/api/proveedores/".concat(t.id,"/pcloud/crear-carpeta"),{method:"POST",headers:{Authorization:"Bearer ".concat(n),"X-Empresa-ID":s}});if(e.ok)alert("Carpeta creada exitosamente en pCloud"),l();else{const t=await e.json();alert("Error: "+t.detail)}}catch(e){alert("Error creando carpeta: "+e.message)}finally{d(!1)}};return(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,kt.jsxs)("div",{className:"container mx-auto px-4",children:[(0,kt.jsxs)("button",{onClick:r,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Volver a Proveedores"]}),(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg",children:[(0,kt.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,kt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:t.nombre_comercial||t.razon_social}),(0,kt.jsx)("p",{className:"text-gray-600",children:t.razon_social}),(0,kt.jsxs)("p",{className:"text-sm text-gray-500 font-mono mt-1",children:["RFC: ",t.rfc]})]}),(0,kt.jsx)("div",{className:"flex gap-2",children:!t.pcloud_folder_id&&(0,kt.jsxs)("button",{onClick:u,disabled:c,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 flex items-center gap-2",children:[c?(0,kt.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 rounded-full animate-spin border-t-white"}):(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Crear Carpeta pCloud"]})})]})}),(0,kt.jsx)("div",{className:"border-b border-gray-200",children:(0,kt.jsx)("nav",{className:"flex -mb-px",children:[{id:"general",label:"Informaci\xf3n General"},{id:"documentos",label:"Documentos"},{id:"riesgo",label:"Evaluaci\xf3n de Riesgo"}].map(e=>(0,kt.jsx)("button",{onClick:()=>i(e.id),className:"px-6 py-3 text-sm font-medium border-b-2 ".concat(o===e.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:e.label},e.id))})}),(0,kt.jsxs)("div",{className:"p-6",children:["general"===o&&(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Datos Fiscales"}),(0,kt.jsxs)("dl",{className:"space-y-3",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("dt",{className:"text-sm text-gray-500",children:"R\xe9gimen Fiscal"}),(0,kt.jsx)("dd",{className:"text-gray-900",children:t.regimen_fiscal||"-"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("dt",{className:"text-sm text-gray-500",children:"Tipo de Persona"}),(0,kt.jsx)("dd",{className:"text-gray-900 capitalize",children:t.tipo_persona})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("dt",{className:"text-sm text-gray-500",children:"Fecha de Constituci\xf3n"}),(0,kt.jsx)("dd",{className:"text-gray-900",children:t.fecha_constitucion||"-"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("dt",{className:"text-sm text-gray-500",children:"Tipo de Proveedor"}),(0,kt.jsx)("dd",{className:"text-gray-900",children:t.tipo_proveedor})]})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contacto"}),t.contacto_principal?(0,kt.jsxs)("dl",{className:"space-y-3",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("dt",{className:"text-sm text-gray-500",children:"Nombre"}),(0,kt.jsx)("dd",{className:"text-gray-900",children:t.contacto_principal.nombre_completo})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("dt",{className:"text-sm text-gray-500",children:"Email"}),(0,kt.jsx)("dd",{className:"text-gray-900",children:t.contacto_principal.email})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("dt",{className:"text-sm text-gray-500",children:"Tel\xe9fono"}),(0,kt.jsx)("dd",{className:"text-gray-900",children:t.contacto_principal.telefono})]})]}):(0,kt.jsx)("p",{className:"text-gray-500",children:"Sin informaci\xf3n de contacto"})]}),t.domicilio_fiscal&&(0,kt.jsxs)("div",{className:"md:col-span-2",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Domicilio Fiscal"}),(0,kt.jsxs)("p",{className:"text-gray-900",children:[t.domicilio_fiscal.calle,", ",t.domicilio_fiscal.colonia,",",t.domicilio_fiscal.municipio,", ",t.domicilio_fiscal.estado,"CP ",t.domicilio_fiscal.codigo_postal]})]})]}),"documentos"===o&&(0,kt.jsx)("div",{className:"space-y-6",children:t.pcloud_folder_id?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[(0,kt.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"font-medium text-green-800",children:"Carpeta pCloud configurada"}),(0,kt.jsx)("p",{className:"text-sm text-green-600",children:t.pcloud_folder_path})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,kt.jsx)(Ja,{tipoDocumento:"constancia_situacion_fiscal",titulo:"Constancia de Situaci\xf3n Fiscal",descripcion:"Documento emitido por el SAT con datos fiscales actualizados",obligatorio:!0,empresaId:s,authToken:n,onOCRComplete:e=>console.log("Datos CSF:",e),onFileUploaded:(e,t)=>console.log("Archivo subido:",e.name)}),(0,kt.jsx)(Ja,{tipoDocumento:"opinion_cumplimiento",titulo:"Opini\xf3n de Cumplimiento (32-D)",descripcion:"Opini\xf3n positiva de obligaciones fiscales",obligatorio:!0,empresaId:s,authToken:n,onOCRComplete:e=>console.log("Datos 32-D:",e),onFileUploaded:(e,t)=>console.log("Archivo subido:",e.name)}),(0,kt.jsx)(Ja,{tipoDocumento:"acta_constitutiva",titulo:"Acta Constitutiva",descripcion:"Documento notarial de constituci\xf3n de la empresa",empresaId:s,authToken:n,onOCRComplete:e=>console.log("Datos Acta:",e),onFileUploaded:(e,t)=>console.log("Archivo subido:",e.name)}),t.requiere_repse&&(0,kt.jsx)(Ja,{tipoDocumento:"repse",titulo:"REPSE",descripcion:"Registro de Prestadoras de Servicios Especializados",obligatorio:!0,empresaId:s,authToken:n,onOCRComplete:e=>console.log("Datos REPSE:",e),onFileUploaded:(e,t)=>console.log("Archivo subido:",e.name)})]})]}):(0,kt.jsxs)("div",{className:"text-center py-12",children:[(0,kt.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,kt.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Configura el almacenamiento"}),(0,kt.jsx)("p",{className:"mt-2 text-gray-500",children:"Primero debes crear la carpeta en pCloud para subir documentos."}),(0,kt.jsx)("button",{onClick:u,disabled:c,className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:"Crear Carpeta pCloud"})]})}),"riesgo"===o&&(0,kt.jsx)("div",{children:(0,kt.jsx)($a,{riesgo:t.riesgo,mostrarDetalles:!0})})]})]})]})})},Ya=()=>{var e,t,r,n;const{token:l,empresaId:o}=Pt(),[i,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(null),[m,p]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null),[f,g]=(0,a.useState)({estatus:"",tipo_proveedor:"",nivel_riesgo:"",busqueda:""}),[b,v]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),[N,w]=(0,a.useState)(!1),k=async()=>{try{p(!0);const e=new URLSearchParams;f.estatus&&e.append("estatus",f.estatus),f.tipo_proveedor&&e.append("tipo_proveedor",f.tipo_proveedor),f.nivel_riesgo&&e.append("nivel_riesgo",f.nivel_riesgo),f.busqueda&&e.append("busqueda",f.busqueda);const t=await fetch("/api/proveedores?".concat(e.toString()),{headers:{Authorization:"Bearer ".concat(l),"X-Empresa-ID":o}});if(!t.ok)throw new Error("Error cargando proveedores");const r=await t.json();c(r.proveedores||[])}catch(e){h(e.message)}finally{p(!1)}},S=async()=>{try{const e=await fetch("/api/proveedores/estadisticas",{headers:{Authorization:"Bearer ".concat(l),"X-Empresa-ID":o}});if(e.ok){const t=await e.json();u(t)}}catch(e){console.error("Error cargando estad\xedsticas:",e)}};(0,a.useEffect)(()=>{l&&o&&(k(),S())},[l,o,f]);const C=async e=>{if(window.confirm("\xbfEst\xe1s seguro de eliminar a ".concat(e.razon_social,"?")))try{if(!(await fetch("/api/proveedores/".concat(e.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(l),"X-Empresa-ID":o}})).ok)throw new Error("Error eliminando proveedor");k(),S()}catch(t){h(t.message)}},E=e=>{j(e),w(!0)},_=e=>{j(e),v(!0)};return N&&y?(0,kt.jsx)(Xa,{proveedor:y,onBack:()=>{w(!1),j(null)},token:l,empresaId:o,onUpdate:k}):b?(0,kt.jsx)(Qa,{proveedor:y,onClose:()=>{v(!1),j(null)},onSuccess:()=>{v(!1),j(null),k(),S()},token:l,empresaId:o}):(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,kt.jsxs)("div",{className:"container mx-auto px-4",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Proveedores"}),(0,kt.jsx)("p",{className:"text-gray-600 mt-1",children:"Gestiona y eval\xfaa el riesgo de tus proveedores de servicios"})]}),(0,kt.jsxs)("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nuevo Proveedor"]})]}),d&&(0,kt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,kt.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:"Total Proveedores"}),(0,kt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:d.total})]}),(0,kt.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:"Activos"}),(0,kt.jsx)("p",{className:"text-2xl font-bold text-green-600",children:(null===(e=d.por_estatus)||void 0===e?void 0:e.activos)||0})]}),(0,kt.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:"Pendientes Revisi\xf3n"}),(0,kt.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:(null===(t=d.por_estatus)||void 0===t?void 0:t.pendientes)||0})]}),(0,kt.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:"Riesgo Alto/Cr\xedtico"}),(0,kt.jsx)("p",{className:"text-2xl font-bold text-red-600",children:((null===(r=d.por_riesgo)||void 0===r?void 0:r.alto)||0)+((null===(n=d.por_riesgo)||void 0===n?void 0:n.critico)||0)})]})]}),(0,kt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar"}),(0,kt.jsx)("input",{type:"text",value:f.busqueda,onChange:e=>g((0,s.A)((0,s.A)({},f),{},{busqueda:e.target.value})),placeholder:"RFC, raz\xf3n social...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estatus"}),(0,kt.jsxs)("select",{value:f.estatus,onChange:e=>g((0,s.A)((0,s.A)({},f),{},{estatus:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,kt.jsx)("option",{value:"",children:"Todos"}),(0,kt.jsx)("option",{value:"activo",children:"Activo"}),(0,kt.jsx)("option",{value:"inactivo",children:"Inactivo"}),(0,kt.jsx)("option",{value:"pendiente_revision",children:"Pendiente Revisi\xf3n"}),(0,kt.jsx)("option",{value:"bloqueado",children:"Bloqueado"})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),(0,kt.jsx)("select",{value:f.tipo_proveedor,onChange:e=>g((0,s.A)((0,s.A)({},f),{},{tipo_proveedor:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[{value:"",label:"Todos los tipos"},{value:"CONSULTORIA_MACRO",label:"Consultor\xeda Macro"},{value:"CONSULTORIA_ESTRATEGICA",label:"Consultor\xeda Estrat\xe9gica"},{value:"SOFTWARE_SAAS",label:"Software/SaaS"},{value:"MARKETING_BRANDING",label:"Marketing/Branding"},{value:"INTRAGRUPO",label:"Intragrupo"},{value:"SERVICIOS_ESPECIALIZADOS",label:"Servicios Especializados"},{value:"OUTSOURCING_PERMITIDO",label:"Outsourcing Permitido"},{value:"OTRO",label:"Otro"}].map(e=>(0,kt.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nivel de Riesgo"}),(0,kt.jsxs)("select",{value:f.nivel_riesgo,onChange:e=>g((0,s.A)((0,s.A)({},f),{},{nivel_riesgo:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,kt.jsx)("option",{value:"",children:"Todos"}),(0,kt.jsx)("option",{value:"bajo",children:"Bajo"}),(0,kt.jsx)("option",{value:"medio",children:"Medio"}),(0,kt.jsx)("option",{value:"alto",children:"Alto"}),(0,kt.jsx)("option",{value:"critico",children:"Cr\xedtico"})]})]})]})}),m?(0,kt.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,kt.jsx)("div",{className:"w-12 h-12 border-4 border-blue-200 rounded-full animate-spin border-t-blue-600"})}):x?(0,kt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:x}):0===i.length?(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,kt.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),(0,kt.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No hay proveedores"}),(0,kt.jsx)("p",{className:"mt-2 text-gray-500",children:"Comienza agregando tu primer proveedor de servicios."}),(0,kt.jsx)("button",{onClick:()=>v(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Agregar Proveedor"})]}):(0,kt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(e=>(0,kt.jsx)(Ga,{proveedor:e,onView:E,onEdit:_,onDelete:C},e.id))})]})})},Za=e=>e?new Date(e).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",en=e=>{const t={pendiente:{bg:"bg-yellow-500/20",text:"text-yellow-300",label:"Pendiente"},aprobado:{bg:"bg-green-500/20",text:"text-green-300",label:"Aprobado"},rechazado:{bg:"bg-red-500/20",text:"text-red-300",label:"Rechazado"},suspendido:{bg:"bg-gray-500/20",text:"text-gray-300",label:"Suspendido"}},r=t[e]||t.pendiente;return(0,kt.jsx)("span",{className:"px-3 py-1 text-xs font-medium rounded-full ".concat(r.bg," ").concat(r.text),children:r.label})},tn=()=>{const{user:e}=Pt(),[t,r]=(0,a.useState)([]),[n,l]=(0,a.useState)({pendiente:0,aprobado:0,rechazado:0,suspendido:0}),[o,i]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)("pendiente"),[p,x]=(0,a.useState)(""),[h,f]=(0,a.useState)(null),[g,b]=(0,a.useState)(null),[v,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(!1),[w,k]=(0,a.useState)({type:"",text:""}),[S,C]=(0,a.useState)(!1),[E,_]=(0,a.useState)(""),[A,L]=(0,a.useState)(!1),[R,T]=(0,a.useState)({}),[O,z]=(0,a.useState)(!1),[P,D]=(0,a.useState)(null),[M,F]=(0,a.useState)([]),[I,B]=(0,a.useState)(!1),W=(0,a.useCallback)(async()=>{try{i(!0),d(null);const e=localStorage.getItem("auth_token"),t=new URLSearchParams;"todos"!==u&&t.append("estado",u),p&&t.append("search",p);const a=await fetch("/api/admin/clientes?".concat(t.toString()),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}),n=await a.text(),s=n?JSON.parse(n):{};if(!a.ok)throw new Error(s.detail||"Error al cargar clientes");r(s.clientes||[]),l(s.totales_por_estado||{pendiente:0,aprobado:0,rechazado:0,suspendido:0})}catch(e){d(e.message)}finally{i(!1)}},[u,p]);(0,a.useEffect)(()=>{W()},[W]),(0,a.useEffect)(()=>{if(w.text){const e=setTimeout(()=>k({type:"",text:""}),5e3);return()=>clearTimeout(e)}},[w]);const U=async e=>{try{y(!0);const t=localStorage.getItem("auth_token"),r=await fetch("/api/admin/clientes/".concat(e),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}}),a=await r.text(),n=a?JSON.parse(a):{};if(!r.ok)throw new Error(n.detail||"Error al cargar detalle del cliente");b(n),T(n.cliente||{})}catch(t){k({type:"error",text:t.message})}finally{y(!1)}},H=async()=>{if(h)try{N(!0);const e=localStorage.getItem("auth_token"),t=await fetch("/api/admin/clientes/".concat(h.id,"/aprobar"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({notas:""})}),r=await t.text(),a=r?JSON.parse(r):{};if(!t.ok)throw new Error(a.detail||"Error al aprobar cliente");k({type:"success",text:"Cliente aprobado exitosamente"}),f(null),b(null),W()}catch(e){k({type:"error",text:e.message})}finally{N(!1)}},V=async()=>{if(h&&E.trim())try{N(!0);const e=localStorage.getItem("auth_token"),t=await fetch("/api/admin/clientes/".concat(h.id,"/rechazar"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({motivo:E})}),r=await t.text(),a=r?JSON.parse(r):{};if(!t.ok)throw new Error(a.detail||"Error al rechazar cliente");k({type:"success",text:"Cliente rechazado"}),C(!1),_(""),f(null),b(null),W()}catch(e){k({type:"error",text:e.message})}finally{N(!1)}},q=async()=>{if(h)try{N(!0);const e=localStorage.getItem("auth_token"),t=await fetch("/api/admin/clientes/".concat(h.id),{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(R)}),r=await t.text(),a=r?JSON.parse(r):{};if(!t.ok)throw new Error(a.detail||"Error al actualizar cliente");k({type:"success",text:"Cliente actualizado correctamente"}),L(!1),U(h.id),W()}catch(e){k({type:"error",text:e.message})}finally{N(!1)}},K=async e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r&&h)try{z(!0);const e=localStorage.getItem("auth_token"),t=new FormData;t.append("file",r),t.append("tipo_documento","general");const a=await fetch("/api/admin/clientes/".concat(h.id,"/documentos"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:t}),n=await a.text(),s=n?JSON.parse(n):{};if(!a.ok)throw new Error(s.detail||"Error al subir documento");k({type:"success",text:"Documento subido correctamente"}),U(h.id)}catch(a){k({type:"error",text:a.message})}finally{z(!1),e.target.value=""}},G=()=>{f(null),b(null),L(!1),T({})},$=async()=>{if(h)try{var e;B(!0);const t=localStorage.getItem("auth_token"),r=await fetch("/api/admin/clientes/".concat(h.id,"/autofill-ia"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}}),a=await r.text(),n=a?JSON.parse(a):{};if(!r.ok)throw new Error(n.detail||"Error en auto-completado");n.success&&(null===(e=n.campos_actualizados)||void 0===e?void 0:e.length)>0?(k({type:"success",text:"IA complet\xf3 ".concat(n.campos_actualizados.length," campos: ").concat(n.campos_actualizados.join(", "))}),U(h.id)):k({type:"error",text:n.message||"No se encontraron datos adicionales para auto-completar"})}catch(t){k({type:"error",text:t.message})}finally{B(!1)}};var J,Q,X,Y,Z,ee,te,re,ae,ne,se,le,oe,ie,ce;return h&&g?(0,kt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:(0,kt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,kt.jsxs)("button",{onClick:G,className:"mb-6 flex items-center gap-2 text-slate-300 hover:text-white transition-colors",children:[(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Volver a la lista"]}),w.text&&(0,kt.jsx)("div",{className:"mb-6 p-4 rounded-xl backdrop-blur-xl border ".concat("success"===w.type?"bg-green-500/10 border-green-500/30 text-green-300":"bg-red-500/10 border-red-500/30 text-red-300"),children:w.text}),(0,kt.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-6 mb-6",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"text-2xl font-bold text-white",children:(null===(J=g.cliente)||void 0===J?void 0:J.nombre)||(null===(Q=g.cliente)||void 0===Q?void 0:Q.razon_social)||"Cliente"}),(0,kt.jsxs)("p",{className:"text-slate-400 mt-1",children:["RFC: ",(null===(X=g.cliente)||void 0===X?void 0:X.rfc)||"-"]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[en(null===(Y=g.cliente)||void 0===Y?void 0:Y.estado),!A&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("button",{onClick:$,disabled:I,className:"px-4 py-2 bg-purple-600/20 text-purple-300 rounded-lg hover:bg-purple-600/30 transition-colors border border-purple-500/30 flex items-center gap-2 disabled:opacity-50",children:I?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("div",{className:"w-4 h-4 border-2 border-purple-400 rounded-full animate-spin border-t-transparent"}),"Investigando..."]}):(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Auto-completar IA"]})}),(0,kt.jsx)("button",{onClick:()=>L(!0),className:"px-4 py-2 bg-blue-600/20 text-blue-300 rounded-lg hover:bg-blue-600/30 transition-colors border border-blue-500/30",children:"Editar"})]})]})]}),v?(0,kt.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,kt.jsx)("div",{className:"w-8 h-8 border-2 border-teal-400 rounded-full animate-spin border-t-transparent"})}):(0,kt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,kt.jsxs)("div",{className:"space-y-4",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-white border-b border-white/10 pb-2",children:"Datos del Cliente"}),A?(0,kt.jsxs)("div",{className:"space-y-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm text-slate-400 mb-1",children:"Nombre / Raz\xf3n Social"}),(0,kt.jsx)("input",{type:"text",value:R.nombre||R.razon_social||"",onChange:e=>T((0,s.A)((0,s.A)({},R),{},{nombre:e.target.value,razon_social:e.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:border-teal-500 focus:ring-1 focus:ring-teal-500 outline-none"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm text-slate-400 mb-1",children:"RFC"}),(0,kt.jsx)("input",{type:"text",value:R.rfc||"",onChange:e=>T((0,s.A)((0,s.A)({},R),{},{rfc:e.target.value.toUpperCase()})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:border-teal-500 focus:ring-1 focus:ring-teal-500 outline-none font-mono"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm text-slate-400 mb-1",children:"Giro"}),(0,kt.jsx)("input",{type:"text",value:R.giro||"",onChange:e=>T((0,s.A)((0,s.A)({},R),{},{giro:e.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:border-teal-500 focus:ring-1 focus:ring-teal-500 outline-none"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm text-slate-400 mb-1",children:"Email"}),(0,kt.jsx)("input",{type:"email",value:R.email||"",onChange:e=>T((0,s.A)((0,s.A)({},R),{},{email:e.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:border-teal-500 focus:ring-1 focus:ring-teal-500 outline-none"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm text-slate-400 mb-1",children:"Tel\xe9fono"}),(0,kt.jsx)("input",{type:"text",value:R.telefono||"",onChange:e=>T((0,s.A)((0,s.A)({},R),{},{telefono:e.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:border-teal-500 focus:ring-1 focus:ring-teal-500 outline-none"})]})]}):(0,kt.jsxs)("div",{className:"space-y-3",children:[(0,kt.jsxs)("div",{className:"flex justify-between",children:[(0,kt.jsx)("span",{className:"text-slate-400",children:"Raz\xf3n Social"}),(0,kt.jsx)("span",{className:"text-white",children:(null===(Z=g.cliente)||void 0===Z?void 0:Z.razon_social)||"-"})]}),(0,kt.jsxs)("div",{className:"flex justify-between",children:[(0,kt.jsx)("span",{className:"text-slate-400",children:"RFC"}),(0,kt.jsx)("span",{className:"text-white font-mono",children:(null===(ee=g.cliente)||void 0===ee?void 0:ee.rfc)||"-"})]}),(0,kt.jsxs)("div",{className:"flex justify-between",children:[(0,kt.jsx)("span",{className:"text-slate-400",children:"Giro"}),(0,kt.jsx)("span",{className:"text-white",children:(null===(te=g.cliente)||void 0===te?void 0:te.giro)||"-"})]}),(0,kt.jsxs)("div",{className:"flex justify-between",children:[(0,kt.jsx)("span",{className:"text-slate-400",children:"Email"}),(0,kt.jsx)("span",{className:"text-white",children:(null===(re=g.cliente)||void 0===re?void 0:re.email)||"-"})]}),(0,kt.jsxs)("div",{className:"flex justify-between",children:[(0,kt.jsx)("span",{className:"text-slate-400",children:"Tel\xe9fono"}),(0,kt.jsx)("span",{className:"text-white",children:(null===(ae=g.cliente)||void 0===ae?void 0:ae.telefono)||"-"})]}),(0,kt.jsxs)("div",{className:"flex justify-between",children:[(0,kt.jsx)("span",{className:"text-slate-400",children:"Registrado"}),(0,kt.jsx)("span",{className:"text-white",children:Za(null===(ne=g.cliente)||void 0===ne?void 0:ne.created_at)})]}),(0,kt.jsxs)("div",{className:"flex justify-between",children:[(0,kt.jsx)("span",{className:"text-slate-400",children:"Origen"}),(0,kt.jsx)("span",{className:"text-white",children:(null===(se=g.cliente)||void 0===se?void 0:se.origen)||"-"})]})]})]}),g.contexto&&(0,kt.jsxs)("div",{className:"space-y-4",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-white border-b border-white/10 pb-2",children:"Contexto"}),(0,kt.jsxs)("div",{className:"space-y-4",children:[g.contexto.resumen_ejecutivo&&(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-sm text-slate-400",children:"Resumen Ejecutivo"}),(0,kt.jsx)("p",{className:"text-white mt-1 text-sm bg-white/5 p-3 rounded-lg",children:g.contexto.resumen_ejecutivo})]}),g.contexto.perfil_fiscal&&(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-sm text-slate-400",children:"Perfil Fiscal"}),(0,kt.jsx)("p",{className:"text-white mt-1 text-sm bg-white/5 p-3 rounded-lg",children:g.contexto.perfil_fiscal})]}),g.contexto.alertas&&g.contexto.alertas.length>0&&(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-sm text-slate-400",children:"Alertas"}),(0,kt.jsx)("div",{className:"mt-1 space-y-2",children:g.contexto.alertas.map((e,t)=>(0,kt.jsxs)("div",{className:"text-yellow-300 text-sm bg-yellow-500/10 p-3 rounded-lg border border-yellow-500/30",children:["\u26a0\ufe0f ",e]},t))})]})]})]})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,kt.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-6",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Documentos"}),(0,kt.jsxs)("label",{className:"px-4 py-2 bg-teal-600/20 text-teal-300 rounded-lg hover:bg-teal-600/30 transition-colors border border-teal-500/30 cursor-pointer",children:[O?"Subiendo...":"+ Subir documento",(0,kt.jsx)("input",{type:"file",className:"hidden",onChange:K,disabled:O})]})]}),(null===g||void 0===g||null===(le=g.documentos)||void 0===le?void 0:le.length)>0?(0,kt.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:g.documentos.map((e,t)=>(0,kt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-white text-sm",children:e.nombre_archivo||e.nombre||"Documento"}),(0,kt.jsx)("p",{className:"text-slate-500 text-xs",children:Za(e.created_at)})]})]}),(0,kt.jsx)("button",{onClick:()=>(async e=>{if(h)try{const t=localStorage.getItem("auth_token"),r=await fetch("/api/admin/clientes/".concat(h.id,"/documentos/").concat(e,"/versiones"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}}),a=await r.text(),n=a?JSON.parse(a):{};if(!r.ok)throw new Error(n.detail||"Error al cargar versiones");F(n.versiones||[]),D(e)}catch(t){k({type:"error",text:t.message})}})(e.uuid||e.id),className:"text-xs text-teal-400 hover:text-teal-300",children:"Ver versiones"})]},t))}):(0,kt.jsx)("p",{className:"text-slate-500 text-center py-8",children:"No hay documentos"})]}),(0,kt.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-6",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Historial de Cambios"}),(null===g||void 0===g||null===(oe=g.historial)||void 0===oe?void 0:oe.length)>0?(0,kt.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:g.historial.map((e,t)=>(0,kt.jsxs)("div",{className:"relative pl-6 pb-4 border-l border-white/10 last:pb-0",children:[(0,kt.jsx)("div",{className:"absolute left-0 top-0 w-3 h-3 bg-teal-500 rounded-full -translate-x-1.5"}),(0,kt.jsx)("p",{className:"text-white text-sm",children:e.descripcion||e.tipo_cambio}),(0,kt.jsx)("p",{className:"text-slate-500 text-xs mt-1",children:Za(e.created_at)})]},t))}):(0,kt.jsx)("p",{className:"text-slate-500 text-center py-8",children:"Sin historial"})]})]}),(0,kt.jsx)("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-6",children:(0,kt.jsx)("div",{className:"flex items-center justify-end gap-4",children:A?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("button",{onClick:()=>{L(!1),T(g.cliente||{})},className:"px-6 py-2.5 text-slate-300 hover:text-white transition-colors",children:"Cancelar"}),(0,kt.jsx)("button",{onClick:q,disabled:j,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:j?"Guardando...":"Guardar Cambios"})]}):(0,kt.jsxs)(kt.Fragment,{children:["rechazado"!==(null===(ie=g.cliente)||void 0===ie?void 0:ie.estado)&&(0,kt.jsx)("button",{onClick:()=>C(!0),disabled:j,className:"px-6 py-2.5 bg-red-600/20 text-red-300 rounded-lg hover:bg-red-600/30 disabled:opacity-50 transition-colors border border-red-500/30",children:"Rechazar"}),"aprobado"!==(null===(ce=g.cliente)||void 0===ce?void 0:ce.estado)&&(0,kt.jsx)("button",{onClick:H,disabled:j,className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:j?"Procesando...":"Aprobar Cliente"})]})})}),S&&(0,kt.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,kt.jsxs)("div",{className:"bg-slate-800 rounded-2xl border border-white/10 p-6 max-w-md w-full",children:[(0,kt.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Rechazar Cliente"}),(0,kt.jsx)("p",{className:"text-slate-400 mb-4",children:"Por favor, indica el motivo del rechazo:"}),(0,kt.jsx)("textarea",{value:E,onChange:e=>_(e.target.value),placeholder:"Motivo del rechazo...",rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none resize-none"}),(0,kt.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,kt.jsx)("button",{onClick:()=>{C(!1),_("")},className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cancelar"}),(0,kt.jsx)("button",{onClick:V,disabled:j||E.trim().length<5,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:j?"Procesando...":"Confirmar Rechazo"})]})]})}),P&&(0,kt.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,kt.jsxs)("div",{className:"bg-slate-800 rounded-2xl border border-white/10 p-6 max-w-md w-full",children:[(0,kt.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Versiones del Documento"}),M.length>0?(0,kt.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:M.map((e,t)=>(0,kt.jsxs)("div",{className:"p-3 bg-white/5 rounded-lg",children:[(0,kt.jsxs)("p",{className:"text-white text-sm",children:["Versi\xf3n ",e.version||t+1]}),(0,kt.jsx)("p",{className:"text-slate-500 text-xs",children:Za(e.created_at)})]},t))}):(0,kt.jsx)("p",{className:"text-slate-500 text-center py-4",children:"Sin versiones anteriores"}),(0,kt.jsx)("div",{className:"flex justify-end mt-4",children:(0,kt.jsx)("button",{onClick:()=>D(null),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cerrar"})})]})})]})}):(0,kt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:(0,kt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,kt.jsxs)("div",{className:"mb-8",children:[(0,kt.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Gesti\xf3n de Clientes"}),(0,kt.jsx)("p",{className:"text-slate-400 mt-2",children:"Administra y aprueba solicitudes de clientes"})]}),w.text&&(0,kt.jsx)("div",{className:"mb-6 p-4 rounded-xl backdrop-blur-xl border ".concat("success"===w.type?"bg-green-500/10 border-green-500/30 text-green-300":"bg-red-500/10 border-red-500/30 text-red-300"),children:w.text}),(0,kt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,kt.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl rounded-xl border border-white/10 p-4",children:[(0,kt.jsx)("p",{className:"text-sm text-slate-400",children:"Total Clientes"}),(0,kt.jsx)("p",{className:"text-2xl font-bold text-white",children:n.pendiente+n.aprobado+n.rechazado+n.suspendido})]}),(0,kt.jsxs)("div",{className:"bg-yellow-500/10 backdrop-blur-xl rounded-xl border border-yellow-500/30 p-4",children:[(0,kt.jsx)("p",{className:"text-sm text-yellow-300",children:"Pendientes"}),(0,kt.jsx)("p",{className:"text-2xl font-bold text-yellow-400",children:n.pendiente})]}),(0,kt.jsxs)("div",{className:"bg-green-500/10 backdrop-blur-xl rounded-xl border border-green-500/30 p-4",children:[(0,kt.jsx)("p",{className:"text-sm text-green-300",children:"Aprobados"}),(0,kt.jsx)("p",{className:"text-2xl font-bold text-green-400",children:n.aprobado})]}),(0,kt.jsxs)("div",{className:"bg-red-500/10 backdrop-blur-xl rounded-xl border border-red-500/30 p-4",children:[(0,kt.jsx)("p",{className:"text-sm text-red-300",children:"Rechazados"}),(0,kt.jsx)("p",{className:"text-2xl font-bold text-red-400",children:n.rechazado})]})]}),(0,kt.jsx)("div",{className:"flex flex-wrap items-center gap-2 mb-6 border-b border-white/10 pb-4",children:[{id:"pendiente",label:"Pendientes",icon:"\u23f3"},{id:"aprobado",label:"Aprobados",icon:"\u2705"},{id:"rechazado",label:"Rechazados",icon:"\u274c"},{id:"todos",label:"Todos",icon:"\ud83d\udccb"}].map(e=>(0,kt.jsxs)("button",{onClick:()=>m(e.id),className:"px-4 py-2 rounded-lg transition-all ".concat(u===e.id?"bg-teal-600 text-white":"bg-white/5 text-slate-400 hover:bg-white/10 hover:text-white"),children:[(0,kt.jsx)("span",{className:"mr-2",children:e.icon}),e.label,"todos"!==e.id&&n[e.id]>0&&(0,kt.jsx)("span",{className:"ml-2 px-2 py-0.5 text-xs bg-white/20 rounded-full",children:n[e.id]})]},e.id))}),(0,kt.jsx)("div",{className:"mb-6",children:(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,kt.jsx)("input",{type:"text",value:p,onChange:e=>x(e.target.value),placeholder:"Buscar por nombre, RFC o raz\xf3n social...",className:"w-full pl-12 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:border-teal-500 focus:ring-1 focus:ring-teal-500 outline-none"})]})}),o?(0,kt.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,kt.jsx)("div",{className:"w-12 h-12 border-4 border-teal-400 rounded-full animate-spin border-t-transparent"})}):c?(0,kt.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-6 text-center",children:[(0,kt.jsx)("p",{className:"text-red-300",children:c}),(0,kt.jsx)("button",{onClick:W,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Reintentar"})]}):0===t.length?(0,kt.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-12 text-center",children:[(0,kt.jsx)("svg",{className:"mx-auto h-16 w-16 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,kt.jsx)("h3",{className:"mt-4 text-xl font-medium text-white",children:"No hay clientes"}),(0,kt.jsx)("p",{className:"mt-2 text-slate-400",children:"todos"===u?"No hay clientes registrados en el sistema.":'No hay clientes con estado "'.concat(u,'".')})]}):(0,kt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,kt.jsxs)("div",{onClick:()=>(e=>{f(e),U(e.id),L(!1)})(e),className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-6 hover:bg-white/10 hover:border-teal-500/50 transition-all cursor-pointer group",children:[(0,kt.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-white group-hover:text-teal-300 transition-colors",children:e.nombre||e.razon_social||"Sin nombre"}),(0,kt.jsx)("p",{className:"text-sm text-slate-400 font-mono mt-1",children:e.rfc||"-"})]}),en(e.estado)]}),(0,kt.jsxs)("div",{className:"space-y-2 text-sm",children:[e.razon_social&&e.nombre!==e.razon_social&&(0,kt.jsxs)("div",{className:"flex justify-between",children:[(0,kt.jsx)("span",{className:"text-slate-500",children:"Raz\xf3n Social"}),(0,kt.jsx)("span",{className:"text-slate-300 truncate ml-2 max-w-[60%]",children:e.razon_social})]}),e.giro&&(0,kt.jsxs)("div",{className:"flex justify-between",children:[(0,kt.jsx)("span",{className:"text-slate-500",children:"Giro"}),(0,kt.jsx)("span",{className:"text-slate-300 truncate ml-2 max-w-[60%]",children:e.giro})]}),(0,kt.jsxs)("div",{className:"flex justify-between",children:[(0,kt.jsx)("span",{className:"text-slate-500",children:"Registrado"}),(0,kt.jsx)("span",{className:"text-slate-300",children:Za(e.created_at)})]}),e.total_documentos>0&&(0,kt.jsxs)("div",{className:"flex justify-between",children:[(0,kt.jsx)("span",{className:"text-slate-500",children:"Documentos"}),(0,kt.jsx)("span",{className:"text-teal-400",children:e.total_documentos})]})]}),(0,kt.jsxs)("div",{className:"mt-4 pt-4 border-t border-white/10 flex items-center justify-between",children:[(0,kt.jsx)("span",{className:"text-xs text-slate-500",children:"Click para ver detalles"}),(0,kt.jsx)("svg",{className:"w-5 h-5 text-slate-500 group-hover:text-teal-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},e.id))})]})})},rn=e=>{let{onClose:t}=e;return(0,kt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,kt.jsxs)("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[(0,kt.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Disclaimer Legal y Alcance del Servicio"}),(0,kt.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]}),(0,kt.jsxs)("div",{className:"px-6 py-6 space-y-6 text-gray-700",children:[(0,kt.jsxs)("section",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"1. Naturaleza del servicio"}),(0,kt.jsxs)("p",{className:"mb-3",children:["Revisar-IA es una ",(0,kt.jsx)("strong",{children:"plataforma tecnol\xf3gica de apoyo"})," para la"," ",(0,kt.jsx)("strong",{children:"gesti\xf3n de riesgos fiscales y de cumplimiento"})," en la contrataci\xf3n de servicios e intangibles (consultor\xedas, software, marketing, servicios intra-grupo, entre otros)."]}),(0,kt.jsx)("p",{className:"mb-3",children:"Su objetivo es ayudar a las empresas a:"}),(0,kt.jsxs)("ul",{className:"list-disc ml-6 space-y-1",children:[(0,kt.jsxs)("li",{children:[(0,kt.jsx)("strong",{children:"Documentar"})," la raz\xf3n de negocios y el beneficio econ\xf3mico esperado"]}),(0,kt.jsxs)("li",{children:[(0,kt.jsx)("strong",{children:"Evaluar"})," la materialidad y trazabilidad documental"]}),(0,kt.jsxs)("li",{children:[(0,kt.jsx)("strong",{children:"Organizar"})," evidencias y expedientes \xfatiles en auditor\xedas"]})]}),(0,kt.jsx)("p",{className:"mt-3 text-red-600 font-semibold",children:"Revisar-IA NO es un despacho de abogados ni un despacho contable, ni presta servicios de asesor\xeda legal o fiscal individualizada."})]}),(0,kt.jsxs)("section",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"2. Uso de Inteligencia Artificial como herramienta auxiliar"}),(0,kt.jsxs)("p",{className:"mb-3",children:["Revisar-IA utiliza ",(0,kt.jsx)("strong",{children:"tecnolog\xedas de Inteligencia Artificial (IA)"})," como"," ",(0,kt.jsx)("strong",{children:"herramienta auxiliar"})," para aplicar checklists normativos, calcular riesgos fiscales e identificar brechas documentales."]}),(0,kt.jsx)("p",{className:"text-blue-600 font-semibold",children:"La IA NO sustituye la voluntad ni la responsabilidad de la empresa usuaria, ni el juicio profesional de sus abogados, fiscalistas o contadores."})]}),(0,kt.jsxs)("section",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"3. Alcance y l\xedmites de la informaci\xf3n generada"}),(0,kt.jsxs)("p",{className:"mb-3",children:["Los resultados generados (matrices de riesgo, checklists, alertas, Defense Files) son ",(0,kt.jsx)("strong",{children:"insumos t\xe9cnicos de apoyo"}),", NO constituyen:"]}),(0,kt.jsxs)("ul",{className:"list-disc ml-6 space-y-1 text-red-600",children:[(0,kt.jsx)("li",{children:"Una opini\xf3n legal o fiscal definitiva"}),(0,kt.jsx)("li",{children:"Una determinaci\xf3n de obligaciones fiscales"}),(0,kt.jsx)("li",{children:"Una garant\xeda de que el SAT aceptar\xe1 la deducibilidad de un gasto"})]})]}),(0,kt.jsxs)("section",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"4. Responsabilidad sobre decisiones y datos"}),(0,kt.jsxs)("p",{className:"mb-3",children:["La empresa usuaria es la ",(0,kt.jsx)("strong",{children:"\xfanica responsable"})," de:"]}),(0,kt.jsxs)("ul",{className:"list-disc ml-6 space-y-1",children:[(0,kt.jsx)("li",{children:"La veracidad e integridad de los datos cargados"}),(0,kt.jsx)("li",{children:"Aprobar o rechazar contratos, pagos y deducciones fiscales"}),(0,kt.jsx)("li",{children:"Validar los an\xe1lisis antes de tomar decisiones con efectos jur\xeddicos"})]})]}),(0,kt.jsxs)("section",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"5. Marco normativo de referencia"}),(0,kt.jsx)("p",{className:"mb-3",children:"La plataforma est\xe1 inspirada en la aplicaci\xf3n pr\xe1ctica de:"}),(0,kt.jsxs)("ul",{className:"list-disc ml-6 space-y-1",children:[(0,kt.jsxs)("li",{children:[(0,kt.jsx)("strong",{children:"CFF Art. 5-A"})," (raz\xf3n de negocios)"]}),(0,kt.jsxs)("li",{children:[(0,kt.jsx)("strong",{children:"CFF Art. 69-B"})," (materialidad)"]}),(0,kt.jsxs)("li",{children:[(0,kt.jsx)("strong",{children:"LISR"})," (estricta indispensabilidad)"]}),(0,kt.jsxs)("li",{children:[(0,kt.jsx)("strong",{children:"NOM-151-SCFI-2016"})," (trazabilidad documental)"]})]}),(0,kt.jsx)("p",{className:"mt-3 text-sm",children:(0,kt.jsx)("a",{href:"https://www.diputados.gob.mx/LeyesBiblio/pdf/CFF.pdf",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Ver C\xf3digo Fiscal de la Federaci\xf3n (CFF)"})})]}),(0,kt.jsxs)("section",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"6. Recomendaci\xf3n de uso responsable"}),(0,kt.jsxs)("p",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:["Los servicios de ",(0,kt.jsx)("strong",{children:"alto monto, complejidad o riesgo"})," deben ser siempre revisados por asesores externos especializados. Revisar-IA es un ",(0,kt.jsx)("strong",{children:"punto de partida"}),", no un sustituto de la debida diligencia profesional."]})]})]}),(0,kt.jsx)("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t",children:(0,kt.jsx)("button",{onClick:t,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Entendido"})})]})})},an=e=>{let{onClose:t}=e;return(0,kt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,kt.jsxs)("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[(0,kt.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Aviso de Privacidad Integral"}),(0,kt.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]}),(0,kt.jsxs)("div",{className:"px-6 py-6 space-y-6 text-gray-700",children:[(0,kt.jsxs)("section",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"1. Identidad y domicilio del responsable"}),(0,kt.jsxs)("p",{className:"mb-3",children:["El responsable del tratamiento de los datos personales es"," ",(0,kt.jsx)("strong",{children:"SERVICIOS DE ADMINISTRACI\xd3N, TECNOLOG\xcdA, Y MERCADOTECNIA PARA ABOGADOS"})," ",'(en adelante, "el Responsable"), con:']}),(0,kt.jsxs)("ul",{className:"list-disc ml-6 space-y-1 text-sm bg-gray-50 p-4 rounded",children:[(0,kt.jsxs)("li",{children:[(0,kt.jsx)("strong",{children:"RFC:"})," SAT180723RW3"]}),(0,kt.jsxs)("li",{children:[(0,kt.jsx)("strong",{children:"Domicilio:"})," Avenida Sim\xf3n Bol\xedvar 224, OF 301, Colonia Chepevera, CP 64030, Monterrey, Nuevo Le\xf3n, M\xe9xico"]}),(0,kt.jsxs)("li",{children:[(0,kt.jsx)("strong",{children:"Correo de contacto para temas de privacidad:"})," santiago@satma.mx"]})]}),(0,kt.jsxs)("p",{className:"mt-3 text-sm",children:["Este Aviso de Privacidad se emite en cumplimiento de la"," ",(0,kt.jsx)("strong",{children:"Ley Federal de Protecci\xf3n de Datos Personales en Posesi\xf3n de los Particulares"})," ","y su Reglamento."]})]}),(0,kt.jsxs)("section",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"2. Datos personales que tratamos"}),(0,kt.jsxs)("p",{className:"mb-3",children:["En la operaci\xf3n de la plataforma ",(0,kt.jsx)("strong",{children:"Revisar\u2011IA"})," podremos tratar los siguientes tipos de datos personales:"]}),(0,kt.jsxs)("div",{className:"space-y-3",children:[(0,kt.jsxs)("div",{className:"bg-blue-50 p-3 rounded",children:[(0,kt.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Datos de identificaci\xf3n y contacto:"}),(0,kt.jsx)("p",{className:"text-sm",children:"Nombre, apellidos, puesto, \xe1rea, correo electr\xf3nico corporativo, tel\xe9fono, usuario en la plataforma, empresa."})]}),(0,kt.jsxs)("div",{className:"bg-green-50 p-3 rounded",children:[(0,kt.jsx)("h4",{className:"font-semibold text-green-900 mb-2",children:"Datos laborales/corporativos:"}),(0,kt.jsx)("p",{className:"text-sm",children:"\xc1rea, departamento, rol en procesos de contrataci\xf3n/aprobaci\xf3n/auditor\xeda, facultades de autorizaci\xf3n."})]}),(0,kt.jsxs)("div",{className:"bg-purple-50 p-3 rounded",children:[(0,kt.jsx)("h4",{className:"font-semibold text-purple-900 mb-2",children:"Datos de uso de la plataforma:"}),(0,kt.jsx)("p",{className:"text-sm",children:"Credenciales de acceso, fecha/hora de ingreso, acciones realizadas, logs t\xe9cnicos."})]}),(0,kt.jsxs)("div",{className:"bg-yellow-50 p-3 rounded",children:[(0,kt.jsx)("h4",{className:"font-semibold text-yellow-900 mb-2",children:"Datos en documentos cargados:"}),(0,kt.jsxs)("p",{className:"text-sm",children:["Contratos, facturas, CFDI, reportes. La empresa usuaria es responsable primaria de estos datos; Revisar\u2011IA act\xfaa como ",(0,kt.jsx)("strong",{children:"encargado"}),"."]})]})]}),(0,kt.jsx)("p",{className:"mt-3 text-red-600 font-semibold text-sm",children:"No solicitamos datos personales sensibles de forma intencional."})]}),(0,kt.jsxs)("section",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"3. Finalidades del tratamiento"}),(0,kt.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Finalidades primarias (necesarias):"}),(0,kt.jsxs)("ul",{className:"list-disc ml-6 space-y-1 text-sm mb-4",children:[(0,kt.jsx)("li",{children:"Prestaci\xf3n del servicio de la plataforma Revisar\u2011IA"}),(0,kt.jsx)("li",{children:"Creaci\xf3n y administraci\xf3n de cuentas de usuario"}),(0,kt.jsx)("li",{children:"Ejecuci\xf3n de funciones de control interno y auditor\xeda preventiva"}),(0,kt.jsx)("li",{children:"Generaci\xf3n de Defense Files y reportes"}),(0,kt.jsx)("li",{children:"Registro de actividades y trazabilidad"}),(0,kt.jsx)("li",{children:"Soporte t\xe9cnico y atenci\xf3n a usuarios"})]}),(0,kt.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Finalidades secundarias (opcionales):"}),(0,kt.jsxs)("ul",{className:"list-disc ml-6 space-y-1 text-sm",children:[(0,kt.jsx)("li",{children:"Fines comerciales y comunicaci\xf3n corporativa"}),(0,kt.jsx)("li",{children:"Env\xedo de boletines informativos y actualizaciones"}),(0,kt.jsx)("li",{children:"Mejora continua y an\xe1lisis estad\xedstico (agregado y anonimizado)"})]}),(0,kt.jsxs)("p",{className:"mt-3 bg-yellow-50 p-3 rounded text-sm",children:["Puedes negarte al uso de tus datos para finalidades secundarias escribiendo a"," ",(0,kt.jsx)("strong",{children:"santiago@satma.mx"}),". Esto no afectar\xe1 el uso de la plataforma."]})]}),(0,kt.jsxs)("section",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"4. Base de licitud del tratamiento"}),(0,kt.jsx)("p",{children:"El tratamiento se realiza con base en:"}),(0,kt.jsxs)("ul",{className:"list-disc ml-6 space-y-1 text-sm mt-2",children:[(0,kt.jsxs)("li",{children:["La ",(0,kt.jsx)("strong",{children:"relaci\xf3n jur\xeddica"})," entre tu empresa y el Responsable"]}),(0,kt.jsxs)("li",{children:["La ",(0,kt.jsx)("strong",{children:"necesidad del tratamiento"})," para la ejecuci\xf3n del servicio"]}),(0,kt.jsxs)("li",{children:["El ",(0,kt.jsx)("strong",{children:"consentimiento"})," otorgado al aceptar este Aviso"]})]})]}),(0,kt.jsxs)("section",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"5. Transferencias de datos personales"}),(0,kt.jsx)("p",{className:"mb-2",children:"Podremos realizar transferencias a:"}),(0,kt.jsxs)("ul",{className:"list-disc ml-6 space-y-1 text-sm",children:[(0,kt.jsxs)("li",{children:[(0,kt.jsx)("strong",{children:"Proveedores de servicios tecnol\xf3gicos"})," (hosting, nube, respaldo) que act\xfaan como encargados"]}),(0,kt.jsxs)("li",{children:[(0,kt.jsx)("strong",{children:"Empresas del mismo grupo corporativo"})," para gesti\xf3n interna"]})]}),(0,kt.jsxs)("p",{className:"mt-3 text-sm",children:["Todas las transferencias se realizan bajo ",(0,kt.jsx)("strong",{children:"contratos de confidencialidad"})," ","y con el mismo nivel de protecci\xf3n."]})]}),(0,kt.jsxs)("section",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"6. Medidas de seguridad"}),(0,kt.jsx)("p",{className:"mb-2",children:"Implementamos medidas t\xe9cnicas y administrativas:"}),(0,kt.jsxs)("ul",{className:"list-disc ml-6 space-y-1 text-sm",children:[(0,kt.jsx)("li",{children:"Controles de acceso l\xf3gico (usuarios, contrase\xf1as, roles)"}),(0,kt.jsx)("li",{children:"Cifrado de informaci\xf3n en tr\xe1nsito y en reposo"}),(0,kt.jsx)("li",{children:"Registros de actividad (logs) para auditor\xeda"}),(0,kt.jsx)("li",{children:"Pol\xedticas de confidencialidad y acceso restringido"})]})]}),(0,kt.jsxs)("section",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"7. Derechos ARCO y medios para ejercerlos"}),(0,kt.jsxs)("p",{className:"mb-3",children:["Puedes ejercer tus derechos de ",(0,kt.jsx)("strong",{children:"Acceso, Rectificaci\xf3n, Cancelaci\xf3n u Oposici\xf3n (ARCO)"})," ","mediante solicitud enviada a:"]}),(0,kt.jsxs)("div",{className:"bg-blue-50 p-4 rounded",children:[(0,kt.jsx)("p",{className:"font-semibold",children:"Correo: santiago@satma.mx"}),(0,kt.jsx)("p",{className:"text-sm mt-2",children:'Asunto: "Ejercicio de derechos ARCO \u2013 Revisar\u2011IA"'})]}),(0,kt.jsx)("p",{className:"mt-3 text-sm",children:"La solicitud debe contener: nombre del titular, medio de contacto, descripci\xf3n de los datos, y copia de identificaci\xf3n oficial."})]}),(0,kt.jsxs)("section",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"8. Uso de cookies y tecnolog\xedas similares"}),(0,kt.jsxs)("p",{className:"text-sm",children:["El sitio web y la plataforma pueden utilizar ",(0,kt.jsx)("strong",{children:"cookies"})," para mejorar la experiencia, recordar preferencias y analizar patrones de uso. Puedes configurar tu navegador para aceptar o rechazar cookies."]})]}),(0,kt.jsxs)("section",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"9. Actualizaciones del Aviso de Privacidad"}),(0,kt.jsxs)("p",{className:"text-sm",children:["Este Aviso puede ser modificado en cualquier momento. Los cambios sustanciales ser\xe1n comunicados a trav\xe9s de la plataforma o del sitio web ",(0,kt.jsx)("strong",{children:"revisar-ia.com"}),"."]})]}),(0,kt.jsxs)("section",{children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"10. Contacto"}),(0,kt.jsxs)("div",{className:"bg-gray-50 p-4 rounded",children:[(0,kt.jsxs)("p",{children:[(0,kt.jsx)("strong",{children:"Responsable:"})," Pablo Santiago \xc1lvarez Rinc\xf3n"]}),(0,kt.jsxs)("p",{children:[(0,kt.jsx)("strong",{children:"Correo:"})," santiago@satma.mx"]}),(0,kt.jsxs)("p",{children:[(0,kt.jsx)("strong",{children:"Domicilio:"})," Av. Sim\xf3n Bol\xedvar 224, OF 301, Chepevera, CP 64030, Monterrey, N.L."]})]})]}),(0,kt.jsx)("div",{className:"text-center text-xs text-gray-500 mt-8 pt-4 border-t",children:"\xdaltima actualizaci\xf3n: Enero 2026"})]}),(0,kt.jsx)("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t",children:(0,kt.jsx)("button",{onClick:t,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Entendido"})})]})})},nn=()=>{const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(!1);return(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("footer",{className:"bg-gray-900 text-gray-300 py-8 mt-auto",children:(0,kt.jsxs)("div",{className:"container mx-auto px-4",children:[(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-white font-bold text-lg mb-4",children:"Revisar.IA"}),(0,kt.jsx)("p",{className:"text-sm",children:"Plataforma tecnol\xf3gica de apoyo para la gesti\xf3n de riesgos fiscales y cumplimiento en M\xe9xico."}),(0,kt.jsx)("p",{className:"text-xs text-gray-400 mt-3",children:"RFC: SAT180723RW3"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-white font-bold text-lg mb-4",children:"Informaci\xf3n Legal"}),(0,kt.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,kt.jsx)("li",{children:(0,kt.jsx)("button",{onClick:()=>t(!0),className:"hover:text-white transition-colors",children:"Disclaimer Legal"})}),(0,kt.jsx)("li",{children:(0,kt.jsx)("button",{onClick:()=>n(!0),className:"hover:text-white transition-colors",children:"Aviso de Privacidad"})})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-white font-bold text-lg mb-4",children:"Contacto"}),(0,kt.jsx)("div",{className:"text-sm",children:(0,kt.jsx)("a",{href:"mailto:hola@satma.mx",className:"hover:text-white transition-colors font-semibold",children:"HOLA@SATMA.MX"})})]})]}),(0,kt.jsxs)("div",{className:"border-t border-gray-700 mt-8 pt-6 text-center",children:[(0,kt.jsxs)("p",{className:"text-sm text-gray-400",children:["\xa9 ",(new Date).getFullYear()," SATMA - Revisar.IA",(0,kt.jsx)("strong",{className:"text-gray-300",children:" \xb7 Plataforma tecnol\xf3gica de apoyo"})]}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"No somos despacho contable ni legal. La IA es herramienta auxiliar."})]})]})}),e&&(0,kt.jsx)(rn,{onClose:()=>t(!1)}),r&&(0,kt.jsx)(an,{onClose:()=>n(!1)})]})},sn=e=>{let{className:t="w-5 h-5"}=e;return(0,kt.jsx)("svg",{className:t,viewBox:"0 0 24 24",fill:"currentColor",children:(0,kt.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})},ln=()=>{const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)([]),[s,l]=(0,a.useState)(""),[o,i]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!1),[p,x]=(0,a.useState)(0),h=(0,a.useRef)(null),f=(0,a.useRef)(null),g="528123997852";(0,a.useEffect)(()=>{const e=localStorage.getItem("support_session_id"),t=localStorage.getItem("support_privacy_accepted");e&&d(e),"true"===t&&m(!0)},[]),(0,a.useEffect)(()=>{e&&u&&0===r.length&&n([{role:"assistant",content:"\xa1Hola! \ud83d\udc4b Soy el asistente virtual de **Revisar.IA**. Estoy aqu\xed para ayudarte con cualquier duda sobre nuestra plataforma de auditor\xeda fiscal inteligente.\n\n\xbfEn qu\xe9 te puedo ayudar hoy?",timestamp:(new Date).toISOString(),showWhatsApp:!1}])},[e,u,r.length]),(0,a.useEffect)(()=>{var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[r]),(0,a.useEffect)(()=>{var t;e&&(x(0),null===(t=f.current)||void 0===t||t.focus())},[e]);const b=e=>{window.open(e,"_blank","noopener,noreferrer")},v=e=>{if(!e)return"";return e.replace(/\[WHATSAPP_BUTTON\]/g,"").split(/(\*\*.*?\*\*)/g).map((e,t)=>e.startsWith("**")&&e.endsWith("**")?(0,kt.jsx)("strong",{children:e.slice(2,-2)},t):e)},y=async()=>{if(!s.trim()||o)return;const t={role:"user",content:s.trim(),timestamp:(new Date).toISOString()};n(e=>[...e,t]),l(""),i(!0);try{const{userName:a,userEmail:s}=(()=>{try{const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);return{userName:t.name||t.nombre||"",userEmail:t.email||t.correo||""}}}catch(Qn){console.error("Error getting user data:",Qn)}return{userName:"",userEmail:""}})(),l=await fetch("/api/support/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t.content,session_id:c,userName:a,userEmail:s})}),o=await l.json();if(!o.success)throw new Error(o.detail||"Error al enviar mensaje");{var r;o.session_id&&o.session_id!==c&&(d(o.session_id),localStorage.setItem("support_session_id",o.session_id));const t={role:"assistant",content:o.response,timestamp:o.timestamp,showWhatsApp:o.showWhatsApp,whatsappUrl:null===(r=o.whatsapp)||void 0===r?void 0:r.url};n(e=>[...e,t]),e||x(e=>e+1)}}catch(a){console.error("Error sending message:",a),n(e=>[...e,{role:"assistant",content:"Lo siento, hubo un error al procesar tu mensaje. Por favor intenta de nuevo o contacta a **soporte@revisar.ia**",timestamp:(new Date).toISOString(),showWhatsApp:!0,whatsappUrl:"https://wa.me/".concat(g,"?text=").concat(encodeURIComponent("Hola, necesito ayuda con Revisar.IA"))}])}finally{i(!1)}};return(0,kt.jsxs)(kt.Fragment,{children:[!e&&(0,kt.jsxs)("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-gradient-to-r from-purple-600 to-purple-700 rounded-full shadow-lg flex items-center justify-center hover:from-purple-700 hover:to-purple-800 transition-all duration-200 z-50 group","aria-label":"Abrir chat de soporte",children:[(0,kt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),p>0&&(0,kt.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:p>9?"9+":p}),(0,kt.jsx)("span",{className:"absolute right-full mr-3 bg-gray-900 text-white text-sm px-3 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"\xbfNecesitas ayuda?"})]}),e&&(0,kt.jsxs)("div",{className:"fixed bottom-6 right-6 w-96 h-[500px] bg-white rounded-2xl shadow-2xl flex flex-col z-50 overflow-hidden border border-gray-200",children:[(0,kt.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-4 py-3 flex items-center justify-between",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:(0,kt.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-white font-semibold text-sm",children:"Revisar.IA"}),(0,kt.jsx)("p",{className:"text-purple-200 text-xs",children:"Asistente de soporte"})]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsxs)("button",{onClick:async()=>{try{const e=await fetch("/api/support/whatsapp?message=Hola, necesito ayuda con la plataforma"),t=await e.json();t.success&&b(t.url)}catch(e){console.error("Error getting WhatsApp link:",e);const t="https://wa.me/".concat(g,"?text=").concat(encodeURIComponent("Hola, necesito ayuda con Revisar.IA"));b(t)}},className:"flex items-center gap-1 px-2 py-1 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors text-xs font-medium",title:"Hablar con un asesor por WhatsApp",children:[(0,kt.jsx)(sn,{className:"w-4 h-4"}),(0,kt.jsx)("span",{className:"hidden sm:inline",children:"Asesor"})]}),(0,kt.jsx)("button",{onClick:async()=>{if(c)try{const e=await fetch("/api/support/escalate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:c,reason:"User requested human support"})}),t=await e.json();t.success&&n(e=>[...e,{role:"assistant",content:t.message,timestamp:(new Date).toISOString(),showWhatsApp:!0,whatsappUrl:"https://wa.me/".concat(g,"?text=").concat(encodeURIComponent("Hola, necesito hablar con un asesor de Revisar.IA"))}])}catch(e){console.error("Error escalating:",e)}},className:"text-white/80 hover:text-white transition-colors p-1",title:"Hablar con agente humano",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,kt.jsx)("button",{onClick:()=>t(!1),className:"text-white/80 hover:text-white transition-colors p-1","aria-label":"Cerrar chat",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,kt.jsx)("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:u?(0,kt.jsxs)("div",{className:"space-y-4",children:[r.map((e,t)=>{return(0,kt.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,kt.jsxs)("div",{className:"flex gap-2 max-w-[85%] ".concat("user"===e.role?"flex-row-reverse":""),children:[(0,kt.jsx)("div",{className:"w-8 h-8 rounded-full flex-shrink-0 flex items-center justify-center ".concat("user"===e.role?"bg-purple-600 text-white":"bg-gray-200 text-gray-600"),children:"user"===e.role?(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}):(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,kt.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,kt.jsx)("div",{className:"px-4 py-2 rounded-2xl text-sm whitespace-pre-wrap ".concat("user"===e.role?"bg-purple-600 text-white rounded-tr-sm":"bg-white text-gray-800 rounded-tl-sm shadow-sm border border-gray-100"),children:v(e.content)}),"assistant"===e.role&&e.showWhatsApp&&e.whatsappUrl&&(0,kt.jsxs)("button",{onClick:()=>b(e.whatsappUrl),className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-xl transition-colors text-sm font-medium self-start",children:[(0,kt.jsx)(sn,{className:"w-5 h-5"}),"Chatear por WhatsApp"]}),(0,kt.jsx)("p",{className:"text-xs text-gray-400 ".concat("user"===e.role?"text-right":""),children:(r=e.timestamp,new Date(r).toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit"}))})]})]})},t);var r}),o&&(0,kt.jsx)("div",{className:"flex justify-start",children:(0,kt.jsxs)("div",{className:"flex gap-2 max-w-[85%]",children:[(0,kt.jsx)("div",{className:"w-8 h-8 rounded-full flex-shrink-0 flex items-center justify-center bg-gray-200 text-gray-600",children:(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,kt.jsx)("div",{className:"px-4 py-3 bg-white rounded-2xl rounded-tl-sm shadow-sm border border-gray-100",children:(0,kt.jsxs)("div",{className:"flex gap-1",children:[(0,kt.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,kt.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,kt.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})}),(0,kt.jsx)("div",{ref:h})]}):(0,kt.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center p-4",children:[(0,kt.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:(0,kt.jsx)("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),(0,kt.jsx)("h4",{className:"text-gray-900 font-semibold mb-2",children:"Aviso de Privacidad"}),(0,kt.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Al continuar, aceptas que esta conversaci\xf3n puede ser almacenada para mejorar nuestro servicio. Tu informaci\xf3n se maneja de forma confidencial seg\xfan nuestra pol\xedtica de privacidad."}),(0,kt.jsxs)("div",{className:"flex gap-3",children:[(0,kt.jsx)("button",{onClick:()=>{t(!1)},className:"px-4 py-2 text-gray-600 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors text-sm font-medium",children:"Rechazar"}),(0,kt.jsx)("button",{onClick:()=>{m(!0),localStorage.setItem("support_privacy_accepted","true")},className:"px-4 py-2 text-white bg-purple-600 rounded-lg hover:bg-purple-700 transition-colors text-sm font-medium",children:"Aceptar"})]})]})}),u&&(0,kt.jsx)("div",{className:"p-3 bg-white border-t border-gray-100",children:(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Adjuntar archivo (pr\xf3ximamente)",disabled:!0,children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),(0,kt.jsx)("input",{ref:f,type:"text",value:s,onChange:e=>l(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),y())},placeholder:"Escribe tu mensaje...",className:"flex-1 px-3 py-2 bg-gray-100 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:bg-white transition-all",disabled:o}),(0,kt.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Emojis (pr\xf3ximamente)",disabled:!0,children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,kt.jsx)("button",{onClick:y,disabled:!s.trim()||o,className:"p-2 bg-purple-600 text-white rounded-full hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Enviar mensaje",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})]})},on={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL?"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,"/api"):"/api",cn=e=>{let{mimeType:t,isFolder:r,size:a="small"}=e;const n="small"===a?"w-6 h-6":"w-10 h-10";if(r)return(0,kt.jsx)("svg",{className:"".concat(n," text-yellow-400"),fill:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{d:"M10 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"})});const s=t||"";return s.includes("pdf")?(0,kt.jsx)("svg",{className:"".concat(n," text-red-400"),fill:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-1 2l5 5h-5V4zM6 20V4h6v6h6v10H6z"})}):s.includes("word")||s.includes("document")?(0,kt.jsx)("svg",{className:"".concat(n," text-blue-400"),fill:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-1 2l5 5h-5V4zM6 20V4h6v6h6v10H6z"})}):s.includes("sheet")||s.includes("excel")?(0,kt.jsx)("svg",{className:"".concat(n," text-green-400"),fill:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-1 2l5 5h-5V4zM6 20V4h6v6h6v10H6z"})}):s.includes("image")?(0,kt.jsx)("svg",{className:"".concat(n," text-purple-400"),fill:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})}):(0,kt.jsx)("svg",{className:"".concat(n," text-gray-400"),fill:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-1 2l5 5h-5V4zM6 20V4h6v6h6v10H6z"})})},dn=e=>{let{status:t}=e;const r={uploaded:{label:"Subido",color:"bg-blue-500/20 text-blue-400 border-blue-500/30"},processing:{label:"Procesando",color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"},ready:{label:"Listo",color:"bg-green-500/20 text-green-400 border-green-500/30"},indexed:{label:"Indexado",color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"},error:{label:"Error",color:"bg-red-500/20 text-red-400 border-red-500/30"},archived:{label:"Archivado",color:"bg-slate-500/20 text-slate-400 border-slate-500/30"}},a=r[t]||r.uploaded;return(0,kt.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full border ".concat(a.color),children:a.label})},un=e=>e?e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):e<1073741824?"".concat((e/1048576).toFixed(1)," MB"):"".concat((e/1073741824).toFixed(2)," GB"):"-",mn=e=>{if(!e)return"-";return new Date(e).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};function pn(){const{user:e}=Pt(),[t,r]=(0,a.useState)("/"),[n,s]=(0,a.useState)([]),[l,o]=(0,a.useState)([]),[i,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(null),[m,p]=(0,a.useState)("list"),[x,h]=(0,a.useState)(new Set),[f,g]=(0,a.useState)(!1),[b,v]=(0,a.useState)(""),[y,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)(0),[k,S]=(0,a.useState)(!1),[C,E]=(0,a.useState)(null),[_,A]=(0,a.useState)(""),[L,R]=(0,a.useState)(null),[T,O]=(0,a.useState)(!1),[z,P]=(0,a.useState)(!1),[D,M]=(0,a.useState)(!1),[F,I]=(0,a.useState)(null),B=((0,a.useCallback)(()=>{const e=localStorage.getItem("auth_token");return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}},[]),(0,a.useCallback)(async()=>{try{const t=localStorage.getItem("auth_token");if(!t)return;const r=await fetch("".concat(on,"/knowledge/stats"),{headers:{Authorization:"Bearer ".concat(t)}});if(r.ok){const t=await r.text();try{const e=t?JSON.parse(t):{};E(e)}catch(e){console.error("Error parsing stats response")}}}catch(t){console.error("Error fetching stats:",t)}},[])),W=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";c(!0),u(null),R(null),A("");try{const a=localStorage.getItem("auth_token");if(!a)throw new Error("Sesi\xf3n no iniciada. Por favor inicia sesi\xf3n.");const n=await fetch("".concat(on,"/knowledge/browse?path=").concat(encodeURIComponent(e)),{headers:{Authorization:"Bearer ".concat(a)}}),l=await n.text();let i;try{i=l?JSON.parse(l):{}}catch(t){i={detail:l||"Error de servidor"}}if(!n.ok)throw new Error(i.detail||i.message||"Error al cargar contenido");s(i.folders||[]),o(i.documents||[]),r(e),h(new Set)}catch(a){u(a.message||"Error desconocido"),s([]),o([])}finally{c(!1)}},[]);(0,a.useEffect)(()=>{W("/"),B()},[W,B]);const U=(0,a.useCallback)(async e=>{if(!e||e.length<2)return R(null),void I(null);O(!0);try{const t=localStorage.getItem("auth_token"),r=await fetch("".concat(on,"/knowledge/search?q=").concat(encodeURIComponent(e)),{headers:{Authorization:"Bearer ".concat(t)}});if(r.ok){const e=await r.json();R(e.documents||[])}}catch(t){console.error("Error searching:",t)}finally{O(!1)}},[]),H=(0,a.useCallback)(async()=>{if(_&&!(_.length<3)){O(!0),I(null);try{const e=localStorage.getItem("auth_token"),t=await fetch("".concat(on,"/knowledge/hybrid_search"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({query:_,limit:20})});if(t.ok){const e=await t.json();I(e.results||[]),R(null)}}catch(e){console.error("Error en b\xfasqueda sem\xe1ntica:",e)}finally{O(!1)}}},[_]);(0,a.useEffect)(()=>{const e=setTimeout(()=>{U(_)},300);return()=>clearTimeout(e)},[_,U]);const V=async()=>{if(window.confirm("\xbfInicializar la estructura de carpetas predeterminada? Esto crear\xe1 las carpetas est\xe1ndar del repositorio.")){P(!0);try{const e=localStorage.getItem("auth_token"),t=await fetch("".concat(on,"/knowledge/init"),{headers:{Authorization:"Bearer ".concat(e)}}),r=await t.json().catch(()=>({}));if(!t.ok)throw new Error(r.detail||"Error al inicializar estructura");alert("Estructura inicializada: ".concat(r.total_created||0," carpetas creadas, ").concat(r.total_skipped||0," ya exist\xedan.")),W("/"),B()}catch(e){alert(e.message||"Error desconocido")}finally{P(!1)}}},q=e=>{W(e.path)},K=()=>{const e=t.split("/").filter(Boolean),r=[{name:"Inicio",path:"/"}];let a="";return e.forEach(e=>{a+="/".concat(e),r.push({name:e,path:a})}),r},G=async()=>{if(b.trim())try{const e=localStorage.getItem("auth_token"),r=await fetch("".concat(on,"/knowledge/folders"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({path:t,name:b.trim()})});if(!r.ok){const e=await r.json();throw new Error(e.detail||"Error al crear carpeta")}g(!1),v(""),W(t),B()}catch(e){alert(e.message)}},$=async e=>{if(e&&0!==e.length){j(!0),w(0);try{const r=localStorage.getItem("auth_token"),a=e.length;let n=0;for(const s of e){const e=new FormData;e.append("file",s),e.append("path",t);const l=await fetch("".concat(on,"/knowledge/upload"),{method:"POST",headers:{Authorization:"Bearer ".concat(r)},body:e});if(!l.ok){const e=await l.json();throw new Error(e.detail||"Error al subir ".concat(s.name))}n++,w(Math.round(n/a*100))}W(t),B()}catch(r){alert(r.message)}finally{j(!1),w(0)}}},J=async e=>{try{const t=localStorage.getItem("auth_token"),r=await fetch("".concat(on,"/knowledge/download/").concat(e.id),{headers:{Authorization:"Bearer ".concat(t)}});if(!r.ok)throw new Error("Error al descargar");const a=await r.blob(),n=window.URL.createObjectURL(a),s=document.createElement("a");s.href=n,s.download=e.filename,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(n),document.body.removeChild(s)}catch(t){alert(t.message)}},Q=async e=>{if(window.confirm('\xbfEliminar "'.concat(e.filename,'"?')))try{const r=localStorage.getItem("auth_token");if(!(await fetch("".concat(on,"/knowledge/documents/").concat(e.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(r)}})).ok)throw new Error("Error al eliminar");W(t),B()}catch(r){alert(r.message)}},X=null!==L?L:l,Y=null!==L,Z=null!==F;return(0,kt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-6",children:[(0,kt.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,kt.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-xl rounded-2xl border border-slate-700/50 shadow-2xl overflow-hidden",children:[C&&(0,kt.jsx)("div",{className:"px-6 py-3 bg-slate-900/50 border-b border-slate-700/30",children:(0,kt.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-6 text-sm",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,kt.jsx)("span",{className:"text-slate-400",children:"Documentos:"}),(0,kt.jsx)("span",{className:"text-white font-medium",children:C.total_documents||0})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})}),(0,kt.jsx)("span",{className:"text-slate-400",children:"Tama\xf1o Total:"}),(0,kt.jsx)("span",{className:"text-white font-medium",children:un(C.total_size_bytes)})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("svg",{className:"w-4 h-4 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),(0,kt.jsx)("span",{className:"text-slate-400",children:"Carpetas:"}),(0,kt.jsx)("span",{className:"text-white font-medium",children:C.total_folders||0})]}),C.last_upload&&(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("svg",{className:"w-4 h-4 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,kt.jsx)("span",{className:"text-slate-400",children:"\xdaltima carga:"}),(0,kt.jsx)("span",{className:"text-white font-medium",children:mn(C.last_upload)})]})]}),C.documents_by_status&&Object.keys(C.documents_by_status).length>0&&(0,kt.jsx)("div",{className:"flex items-center gap-2",children:Object.entries(C.documents_by_status).map(e=>{let[t,r]=e;return(0,kt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,kt.jsx)(dn,{status:t}),(0,kt.jsx)("span",{className:"text-white text-xs font-medium",children:r})]},t)})})]})}),(0,kt.jsxs)("div",{className:"p-6 border-b border-slate-700/50",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center",children:(0,kt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"})})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Repositorio de Conocimiento"}),(0,kt.jsx)("p",{className:"text-slate-400 text-sm",children:"Gesti\xf3n documental corporativa"})]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,kt.jsx)("input",{type:"text",value:_,onChange:e=>A(e.target.value),onKeyDown:e=>"Enter"===e.key&&D&&H(),placeholder:D?"Buscar por significado...":"Buscar documentos...",className:"w-64 px-4 py-2 pl-10 rounded-lg bg-slate-700/50 border border-slate-600 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500"}),(0,kt.jsx)("svg",{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),T&&(0,kt.jsx)("div",{className:"absolute right-10 top-1/2 -translate-y-1/2",children:(0,kt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-emerald-500"})}),(0,kt.jsx)("button",{onClick:()=>M(!D),className:"p-2 rounded-lg transition-colors ".concat(D?"bg-purple-600 text-white":"bg-slate-700/50 text-slate-300 hover:bg-slate-600/50"),title:D?"Modo sem\xe1ntico activo":"Activar b\xfasqueda sem\xe1ntica",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),D&&(0,kt.jsx)("button",{onClick:H,disabled:T||!_,className:"px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:"Buscar IA"})]}),(0,kt.jsx)("button",{onClick:()=>p("grid"===m?"list":"grid"),className:"p-2 rounded-lg bg-slate-700/50 text-slate-300 hover:bg-slate-600/50 transition-colors",title:"grid"===m?"Vista lista":"Vista cuadr\xedcula",children:"grid"===m?(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}):(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),(0,kt.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-700/50 text-slate-300 hover:bg-slate-600/50 transition-colors",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})}),"Nueva Carpeta"]}),(0,kt.jsxs)("button",{onClick:V,disabled:z,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-700/50 text-slate-300 hover:bg-slate-600/50 transition-colors disabled:opacity-50",title:"Inicializar estructura de carpetas predeterminada",children:[z?(0,kt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Inicializar Estructura"]}),(0,kt.jsxs)("label",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-600 to-teal-600 text-white hover:from-emerald-500 hover:to-teal-500 transition-all cursor-pointer",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Subir Archivos",(0,kt.jsx)("input",{type:"file",multiple:!0,className:"hidden",onChange:e=>$(Array.from(e.target.files))})]})]})]}),!Y&&(0,kt.jsx)("nav",{className:"flex items-center gap-2 text-sm",children:K().map((e,t)=>(0,kt.jsxs)(a.Fragment,{children:[t>0&&(0,kt.jsx)("span",{className:"text-slate-500",children:"/"}),(0,kt.jsx)("button",{onClick:()=>{return t=e.path,void W(t);var t},className:"px-2 py-1 rounded hover:bg-slate-700/50 transition-colors ".concat(t===K().length-1?"text-emerald-400 font-medium":"text-slate-400 hover:text-white"),children:e.name})]},e.path))}),Y&&(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,kt.jsx)("span",{className:"text-slate-400",children:"Resultados de b\xfasqueda para:"}),(0,kt.jsxs)("span",{className:"text-emerald-400 font-medium",children:['"',_,'"']}),(0,kt.jsxs)("span",{className:"text-slate-500",children:["(",L.length," encontrados)"]}),(0,kt.jsx)("button",{onClick:()=>{A(""),R(null)},className:"ml-2 text-slate-400 hover:text-white transition-colors",children:"Limpiar"})]}),Z&&(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,kt.jsx)("span",{className:"text-purple-400",children:"B\xfasqueda sem\xe1ntica:"}),(0,kt.jsxs)("span",{className:"text-white font-medium",children:['"',_,'"']}),(0,kt.jsxs)("span",{className:"text-slate-500",children:["(",F.length," resultados)"]}),(0,kt.jsx)("button",{onClick:()=>{A(""),I(null)},className:"ml-2 text-slate-400 hover:text-white transition-colors",children:"Limpiar"})]})]}),Z&&F.length>0&&(0,kt.jsxs)("div",{className:"p-6 border-b border-slate-700/50 bg-purple-900/10",children:[(0,kt.jsxs)("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[(0,kt.jsx)("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Resultados de B\xfasqueda Sem\xe1ntica"]}),(0,kt.jsx)("div",{className:"space-y-3",children:F.map((e,t)=>{var r,a;return(0,kt.jsx)("div",{className:"p-4 bg-slate-800/50 rounded-xl border border-slate-700/50 hover:border-purple-500/50 transition-colors",children:(0,kt.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsx)("p",{className:"text-white font-medium truncate",children:e.filename||e.title||"Documento"}),(0,kt.jsxs)("p",{className:"text-slate-400 text-sm mt-1 line-clamp-2",children:[(null===(r=e.contenido)||void 0===r?void 0:r.substring(0,250))||(null===(a=e.content)||void 0===a?void 0:a.substring(0,250))||"Sin contenido disponible","..."]}),e.categoria&&(0,kt.jsx)("span",{className:"inline-block mt-2 px-2 py-1 bg-slate-700/50 text-slate-300 text-xs rounded",children:e.categoria})]}),(0,kt.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,kt.jsxs)("div",{className:"text-purple-400 font-semibold",children:[(100*(e.similarity||e.score||0)).toFixed(1),"%"]}),(0,kt.jsx)("p",{className:"text-slate-500 text-xs",children:"similitud"})]})]})},t)})})]}),(0,kt.jsxs)("div",{className:"p-6 min-h-[400px] ".concat(k?"bg-emerald-900/20 border-2 border-dashed border-emerald-500":""),onDrop:e=>{e.preventDefault(),S(!1);const t=Array.from(e.dataTransfer.files);$(t)},onDragOver:e=>{e.preventDefault(),S(!0)},onDragLeave:()=>{S(!1)},children:[y&&(0,kt.jsxs)("div",{className:"mb-4 p-4 bg-slate-700/50 rounded-xl",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,kt.jsx)("span",{className:"text-white text-sm",children:"Subiendo archivos..."}),(0,kt.jsxs)("span",{className:"text-emerald-400 text-sm font-medium",children:[N,"%"]})]}),(0,kt.jsx)("div",{className:"h-2 bg-slate-600 rounded-full overflow-hidden",children:(0,kt.jsx)("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-teal-500 transition-all duration-300",style:{width:"".concat(N,"%")}})})]}),i?(0,kt.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,kt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500"})}):d?(0,kt.jsxs)("div",{className:"text-center py-20",children:[(0,kt.jsx)("p",{className:"text-red-400 mb-4",children:d}),(0,kt.jsx)("button",{onClick:()=>W(t),className:"px-4 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600",children:"Reintentar"})]}):0===n.length&&0===X.length?(0,kt.jsxs)("div",{className:"text-center py-20",children:[(0,kt.jsx)("div",{className:"w-20 h-20 mx-auto mb-4 text-slate-600",children:(0,kt.jsx)("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{d:"M10 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"})})}),(0,kt.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"Carpeta vac\xeda"}),(0,kt.jsx)("p",{className:"text-slate-500 text-sm mb-4",children:'Arrastra archivos aqu\xed o usa el bot\xf3n "Subir Archivos"'}),"/"===t&&(0,kt.jsx)("button",{onClick:V,disabled:z,className:"px-6 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-lg hover:from-emerald-500 hover:to-teal-500 transition-all disabled:opacity-50",children:z?"Inicializando...":"Inicializar Estructura de Carpetas"})]}):"grid"===m?(0,kt.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[!Y&&n.map(e=>(0,kt.jsx)("div",{onClick:()=>q(e),className:"group p-4 rounded-xl bg-slate-700/30 hover:bg-slate-700/50 cursor-pointer transition-all border border-transparent hover:border-slate-600",children:(0,kt.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,kt.jsx)(cn,{isFolder:!0,size:"large"}),(0,kt.jsx)("span",{className:"mt-2 text-sm text-white truncate w-full",children:e.name}),(0,kt.jsx)("span",{className:"text-xs text-slate-500",children:mn(e.created_at)})]})},e.id)),X.map(e=>(0,kt.jsxs)("div",{className:"group relative p-4 rounded-xl bg-slate-700/30 hover:bg-slate-700/50 transition-all border border-transparent hover:border-slate-600",children:[(0,kt.jsxs)("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,kt.jsx)("button",{onClick:()=>J(e),className:"p-1 bg-slate-600 rounded hover:bg-emerald-600 transition-colors",title:"Descargar",children:(0,kt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),(0,kt.jsx)("button",{onClick:()=>Q(e),className:"p-1 bg-slate-600 rounded hover:bg-red-600 transition-colors",title:"Eliminar",children:(0,kt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),(0,kt.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,kt.jsx)(cn,{mimeType:e.mime_type,size:"large"}),(0,kt.jsx)("span",{className:"mt-2 text-sm text-white truncate w-full",title:e.filename,children:e.filename}),(0,kt.jsx)("span",{className:"text-xs text-slate-500",children:un(e.size_bytes)}),(0,kt.jsx)("div",{className:"mt-1",children:(0,kt.jsx)(dn,{status:e.status})})]})]},e.id))]}):(0,kt.jsx)("div",{className:"overflow-x-auto",children:(0,kt.jsxs)("table",{className:"w-full",children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{className:"text-left text-slate-400 text-sm border-b border-slate-700",children:[(0,kt.jsx)("th",{className:"pb-3 font-medium",children:"Nombre"}),(0,kt.jsx)("th",{className:"pb-3 font-medium",children:"Estado"}),(0,kt.jsx)("th",{className:"pb-3 font-medium",children:"Tama\xf1o"}),(0,kt.jsx)("th",{className:"pb-3 font-medium",children:"Fecha"}),Y&&(0,kt.jsx)("th",{className:"pb-3 font-medium",children:"Ubicaci\xf3n"}),(0,kt.jsx)("th",{className:"pb-3 font-medium",children:"Acciones"})]})}),(0,kt.jsxs)("tbody",{children:[!Y&&n.map(e=>(0,kt.jsxs)("tr",{onClick:()=>q(e),className:"border-b border-slate-700/50 hover:bg-slate-700/30 cursor-pointer",children:[(0,kt.jsx)("td",{className:"py-3",children:(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)(cn,{isFolder:!0,size:"small"}),(0,kt.jsx)("span",{className:"text-white",children:e.name})]})}),(0,kt.jsx)("td",{className:"py-3 text-slate-400",children:"-"}),(0,kt.jsx)("td",{className:"py-3 text-slate-400",children:"-"}),(0,kt.jsx)("td",{className:"py-3 text-slate-400",children:mn(e.created_at)}),Y&&(0,kt.jsx)("td",{className:"py-3 text-slate-400",children:"-"}),(0,kt.jsx)("td",{className:"py-3",children:"-"})]},e.id)),X.map(e=>(0,kt.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30",children:[(0,kt.jsx)("td",{className:"py-3",children:(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)(cn,{mimeType:e.mime_type,size:"small"}),(0,kt.jsx)("span",{className:"text-white",children:e.filename})]})}),(0,kt.jsx)("td",{className:"py-3",children:(0,kt.jsx)(dn,{status:e.status})}),(0,kt.jsx)("td",{className:"py-3 text-slate-400",children:un(e.size_bytes)}),(0,kt.jsx)("td",{className:"py-3 text-slate-400",children:mn(e.created_at)}),Y&&(0,kt.jsx)("td",{className:"py-3 text-slate-400 text-sm",children:e.path}),(0,kt.jsx)("td",{className:"py-3",children:(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("button",{onClick:()=>J(e),className:"p-1 text-slate-400 hover:text-emerald-400 transition-colors",title:"Descargar",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),(0,kt.jsx)("button",{onClick:()=>Q(e),className:"p-1 text-slate-400 hover:text-red-400 transition-colors",title:"Eliminar",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id))]})]})})]})]})}),f&&(0,kt.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,kt.jsxs)("div",{className:"bg-slate-800 rounded-2xl p-6 w-full max-w-md border border-slate-700 shadow-2xl",children:[(0,kt.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Nueva Carpeta"}),(0,kt.jsx)("input",{type:"text",value:b,onChange:e=>v(e.target.value),placeholder:"Nombre de la carpeta",className:"w-full px-4 py-3 rounded-lg bg-slate-700/50 border border-slate-600 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 mb-4",onKeyPress:e=>"Enter"===e.key&&G(),autoFocus:!0}),(0,kt.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,kt.jsx)("button",{onClick:()=>{g(!1),v("")},className:"px-4 py-2 rounded-lg bg-slate-700 text-slate-300 hover:bg-slate-600 transition-colors",children:"Cancelar"}),(0,kt.jsx)("button",{onClick:G,disabled:!b.trim(),className:"px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-600 to-teal-600 text-white hover:from-emerald-500 hover:to-teal-500 transition-all disabled:opacity-50",children:"Crear"})]})]})})]})}const xn={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL||"";const hn=function(e){let{projectId:t,projectName:r}=e;const[n,s]=(0,a.useState)(!1),[l,o]=(0,a.useState)(null);return(0,kt.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,kt.jsx)("button",{onClick:async()=>{s(!0),o(null);try{const r=localStorage.getItem("auth_token");if(!r)throw new Error("Sesi\xf3n no iniciada. Por favor inicia sesi\xf3n.");const a=await fetch("".concat(xn,"/api/defense-files/projects/").concat(t,"/pdf"),{method:"GET",headers:{Accept:"application/pdf",Authorization:"Bearer ".concat(r)},credentials:"include"});if(!a.ok){const t=await a.text();let r={};try{r=t?JSON.parse(t):{}}catch(e){r={detail:t||"Error de servidor"}}throw new Error(r.detail||"Error al generar el PDF")}const n=await a.blob(),s=window.URL.createObjectURL(n),l=a.headers.get("content-disposition");let o="expediente_defensa_".concat(t.slice(0,8),".pdf");if(l){const e=/filename=([^;]+)/.exec(l);e&&e[1]&&(o=e[1].trim())}const i=document.createElement("a");i.href=s,i.download=o,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(s)}catch(r){console.error("Error descargando PDF:",r),o(r.message||"Error al generar el PDF")}finally{s(!1)}},disabled:n,className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,kt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,kt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generando PDF..."]}):(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Descargar Expediente PDF"]})}),l&&(0,kt.jsxs)("p",{className:"text-sm text-red-400 flex items-center gap-1",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,kt.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),l]}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Se generara un PDF profesional con todos los analisis y fundamentos legales"})]})},fn={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL||"";const gn=function(e){let{empresaId:t}=e;const[r,n]=(0,a.useState)(null),[s,l]=(0,a.useState)(!0),[o,i]=(0,a.useState)(null);(0,a.useEffect)(()=>{c()},[t]);const c=async()=>{try{l(!0);const r=localStorage.getItem("auth_token");if(!r)return i("Sesi\xf3n no iniciada"),void l(!1);const a=t?"".concat(fn,"/api/usage/dashboard?empresa_id=").concat(t):"".concat(fn,"/api/usage/dashboard"),s=await fetch(a,{headers:{Authorization:"Bearer ".concat(r)}}),o=await s.text();let c;try{c=o?JSON.parse(o):{}}catch(e){c={detail:"Error de servidor"}}if(!s.ok)throw new Error(c.detail||c.message||"Error al cargar uso");n(c)}catch(r){i(r.message||"Error desconocido")}finally{l(!1)}};if(s)return(0,kt.jsxs)("div",{className:"bg-gray-800/50 rounded-xl p-4 animate-pulse",children:[(0,kt.jsx)("div",{className:"h-4 bg-gray-700 rounded w-1/3 mb-4"}),(0,kt.jsx)("div",{className:"h-8 bg-gray-700 rounded w-full"})]});if(o)return(0,kt.jsx)("div",{className:"bg-red-900/20 border border-red-500/30 rounded-xl p-4",children:(0,kt.jsxs)("p",{className:"text-red-400 text-sm",children:["Error: ",o]})});const d=(null===r||void 0===r?void 0:r.pct_requests_usado)||(null===r||void 0===r?void 0:r.pct_requests)||0,u=(null===r||void 0===r?void 0:r.pct_tokens_usado)||(null===r||void 0===r?void 0:r.pct_tokens)||0,m=e=>e>=90?"bg-red-500":e>=70?"bg-yellow-500":"bg-green-500";return(0,kt.jsxs)("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-4 border border-gray-700/50",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,kt.jsx)("h3",{className:"text-sm font-medium text-gray-300",children:"Uso del Plan"}),(0,kt.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-xs uppercase",children:(null===r||void 0===r?void 0:r.plan_nombre)||(null===r||void 0===r?void 0:r.plan)||"Free"})]}),(0,kt.jsxs)("div",{className:"space-y-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,kt.jsx)("span",{className:"text-gray-400",children:"Requests"}),(0,kt.jsxs)("span",{className:"text-gray-300",children:[(null===r||void 0===r?void 0:r.requests_hoy)||0," / ",(null===r||void 0===r?void 0:r.limite_requests_dia)||(null===r||void 0===r?void 0:r.limite_requests)||50]})]}),(0,kt.jsx)("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,kt.jsx)("div",{className:"h-full ".concat(m(d)," transition-all duration-500"),style:{width:"".concat(Math.min(d,100),"%")}})})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,kt.jsx)("span",{className:"text-gray-400",children:"Tokens"}),(0,kt.jsxs)("span",{className:"text-gray-300",children:[(((null===r||void 0===r?void 0:r.tokens_hoy)||0)/1e3).toFixed(1),"K / ",(((null===r||void 0===r?void 0:r.limite_tokens_dia)||(null===r||void 0===r?void 0:r.limite_tokens)||1e5)/1e3).toFixed(0),"K"]})]}),(0,kt.jsx)("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,kt.jsx)("div",{className:"h-full ".concat(m(u)," transition-all duration-500"),style:{width:"".concat(Math.min(u,100),"%")}})})]})]}),(d>=80||u>=80)&&(0,kt.jsx)("div",{className:"mt-4 p-2 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:(0,kt.jsx)("p",{className:"text-xs text-yellow-400",children:"Estas cerca del limite diario. Considera actualizar tu plan."})})]})},bn=[{id:"A1",name:"Recepci\xf3n",emoji:"\ud83d\udce5",color:"#6366f1"},{id:"A2",name:"An\xe1lisis",emoji:"\ud83d\udd0d",color:"#8b5cf6"},{id:"A3",name:"Normativo",emoji:"\ud83d\udcdc",color:"#a855f7"},{id:"A4",name:"Contable",emoji:"\ud83d\udcca",color:"#d946ef"},{id:"A5",name:"Operativo",emoji:"\u2699\ufe0f",color:"#ec4899"},{id:"A6",name:"Financiero",emoji:"\ud83d\udcb0",color:"#f43f5e"},{id:"A7",name:"Legal",emoji:"\u2696\ufe0f",color:"#f97316"},{id:"A8",name:"Red Team",emoji:"\ud83d\udee1\ufe0f",color:"#eab308"},{id:"A9",name:"S\xedntesis",emoji:"\ud83d\udcdd",color:"#84cc16"},{id:"A10",name:"Archivo",emoji:"\ud83d\udcc1",color:"#22c55e"}],vn=e=>{let{agent:t,status:r,onAgentClick:a,isSelected:n}=e;const s=()=>{switch(r){case"active":return"text-blue-700";case"completed":return"text-green-700";case"error":return"text-red-700";default:return"text-gray-700"}},l=n?"ring-2 ring-offset-2 ring-indigo-500":"";return(0,kt.jsxs)("div",{onClick:()=>a&&a(t),className:"".concat((()=>{const e="relative w-28 h-28 rounded-lg border-2 flex flex-col items-center justify-center cursor-pointer transition-all duration-200 hover:scale-110 hover:shadow-xl";switch(r){case"active":return"".concat(e," border-blue-500 bg-blue-50 animate-pulse");case"completed":return"".concat(e," border-green-500 bg-green-50");case"error":return"".concat(e," border-red-500 bg-red-50");default:return"".concat(e," border-gray-300 bg-gray-100")}})()," ").concat(l),children:["active"===r&&(0,kt.jsxs)("div",{className:"absolute top-2 right-2 w-3 h-3",children:[(0,kt.jsx)("div",{className:"absolute inset-0 bg-blue-500 rounded-full animate-ping"}),(0,kt.jsx)("div",{className:"absolute inset-0 bg-blue-500 rounded-full opacity-75"})]}),"completed"===r&&(0,kt.jsx)("div",{className:"absolute top-2 right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center shadow-md",children:(0,kt.jsx)("span",{className:"text-white text-sm font-bold",children:"\u2713"})}),"error"===r&&(0,kt.jsx)("div",{className:"absolute top-2 right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center shadow-md",children:(0,kt.jsx)("span",{className:"text-white text-sm font-bold",children:"!"})}),(0,kt.jsx)("div",{className:"text-4xl mb-2",children:t.emoji}),(0,kt.jsx)("div",{className:"text-sm font-bold ".concat(s()),children:t.id}),(0,kt.jsx)("div",{className:"text-xs mt-1 ".concat(s()," font-medium"),children:t.name})]})},yn=e=>{let{activeAgents:t=[],completedAgents:r=[],onAgentClick:n=null,showDetails:s=!0}=e;const[l,o]=(0,a.useState)(null),i=e=>r.includes(e)?"completed":t.includes(e)?"active":"idle",c=e=>{o(e),n&&n(e)},d=r.length/10*100;return(0,kt.jsxs)("div",{className:"w-full h-full bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-8 flex flex-col gap-6",children:[(0,kt.jsxs)("div",{className:"space-y-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Flujo de Agentes"}),(0,kt.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Seguimiento del estado de procesamiento de todos los agentes"})]}),(0,kt.jsxs)("div",{className:"flex flex-wrap gap-6 bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-4 h-4 bg-gray-100 rounded border-2 border-gray-300"}),(0,kt.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Inactivo"})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-4 h-4 bg-blue-50 rounded border-2 border-blue-500 animate-pulse"}),(0,kt.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Procesando"})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-4 h-4 bg-green-50 rounded border-2 border-green-500"}),(0,kt.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Completado"})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-4 h-4 bg-red-50 rounded border-2 border-red-500"}),(0,kt.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Error"})]})]}),(0,kt.jsxs)("div",{className:"space-y-2",children:[(0,kt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,kt.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Progreso general"}),(0,kt.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[r.length," / ",bn.length]})]}),(0,kt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:(0,kt.jsx)("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-3 rounded-full transition-all duration-300 ease-out",style:{width:"".concat(d,"%")}})})]})]}),(0,kt.jsxs)("div",{className:"flex-1 flex gap-6 min-h-0",children:[(0,kt.jsx)("div",{className:"flex-1 bg-white rounded-lg shadow-sm border border-gray-200 p-6 overflow-auto",children:(0,kt.jsx)("div",{className:"grid grid-cols-5 gap-6 w-fit",children:bn.map(e=>(0,kt.jsx)(vn,{agent:e,status:i(e.id),onAgentClick:c,isSelected:(null===l||void 0===l?void 0:l.id)===e.id},e.id))})}),s&&l&&(0,kt.jsxs)("div",{className:"w-80 bg-white rounded-lg shadow-sm border border-gray-200 p-6 flex flex-col overflow-hidden",children:[(0,kt.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:l.id}),(0,kt.jsx)("p",{className:"text-sm font-medium text-indigo-600 mt-1",children:l.name})]}),(0,kt.jsx)("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-600 transition-colors text-xl font-semibold",children:"\u2715"})]}),(0,kt.jsxs)("div",{className:"flex-1 space-y-6 overflow-y-auto",children:[(0,kt.jsx)("div",{className:"flex justify-center",children:(0,kt.jsx)("div",{className:"text-6xl",children:l.emoji})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase block mb-2",children:"Estado actual"}),(0,kt.jsx)("div",{children:(()=>{const e={completed:{label:"Completado",bg:"bg-green-500",text:"text-white"},active:{label:"Procesando",bg:"bg-blue-500",text:"text-white"},error:{label:"Error",bg:"bg-red-500",text:"text-white"},idle:{label:"Inactivo",bg:"bg-gray-400",text:"text-white"}},t=e[i(l.id)]||e.idle;return(0,kt.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold ".concat(t.bg," ").concat(t.text),children:t.label})})()})]}),(0,kt.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,kt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase block mb-2",children:"Color identificador"}),(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("div",{className:"w-10 h-10 rounded border-2 border-gray-300 shadow-sm",style:{backgroundColor:l.color}}),(0,kt.jsxs)("div",{className:"flex flex-col",children:[(0,kt.jsx)("code",{className:"text-sm font-mono text-gray-700 font-semibold",children:l.color}),(0,kt.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:"Hex Color"})]})]})]}),(0,kt.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,kt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase block mb-2",children:"Informaci\xf3n"}),(0,kt.jsxs)("div",{className:"space-y-2 text-sm text-gray-700",children:[(0,kt.jsxs)("p",{children:[(0,kt.jsx)("span",{className:"font-semibold",children:"ID:"})," ",l.id]}),(0,kt.jsxs)("p",{children:[(0,kt.jsx)("span",{className:"font-semibold",children:"Nombre:"})," ",l.name]}),(0,kt.jsxs)("p",{children:[(0,kt.jsx)("span",{className:"font-semibold",children:"Orden:"})," Posici\xf3n ",bn.findIndex(e=>e.id===l.id)+1," de 10"]})]})]})]})]})]})]})},jn={A1:{icon:"\ud83d\udce5",name:"Recepci\xf3n"},A2:{icon:"\ud83d\udd0d",name:"An\xe1lisis"},A3:{icon:"\ud83d\udcdc",name:"Normativo"},A4:{icon:"\ud83d\udcca",name:"Contable"},A5:{icon:"\u2699\ufe0f",name:"Operativo"},A6:{icon:"\ud83d\udcb0",name:"Financiero"},A7:{icon:"\u2696\ufe0f",name:"Legal"},A8:{icon:"\ud83d\udee1\ufe0f",name:"Red Team"},A9:{icon:"\ud83d\udcdd",name:"S\xedntesis"},A10:{icon:"\ud83d\udcc1",name:"Archivo"}},Nn=e=>{let{agentId:t,agentName:r}=e;const a=jn[t]||jn.A1,n=r||a.name;return(0,kt.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,kt.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-lg",children:a.icon}),(0,kt.jsxs)("div",{className:"flex flex-col",children:[(0,kt.jsx)("span",{className:"text-sm font-medium text-gray-700 mb-2",children:n}),(0,kt.jsxs)("div",{className:"flex items-center gap-1 px-4 py-3 bg-gray-100 rounded-lg",children:[(0,kt.jsx)("span",{className:"w-2 h-2 bg-gray-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,kt.jsx)("span",{className:"w-2 h-2 bg-gray-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,kt.jsx)("span",{className:"w-2 h-2 bg-gray-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]})},wn=e=>{let{message:t}=e;const r="user"===t.role,a=jn[t.agentId]||jn.A1;return(0,kt.jsx)("div",{className:"flex ".concat(r?"justify-end":"justify-start"," mb-6"),children:(0,kt.jsxs)("div",{className:"flex ".concat(r?"flex-row-reverse":"flex-row"," items-start gap-3 max-w-[75%]"),children:[!r&&(0,kt.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-lg",children:a.icon}),(0,kt.jsxs)("div",{className:"flex flex-col ".concat(r?"items-end":"items-start"),children:[!r&&(0,kt.jsx)("span",{className:"text-xs font-medium text-gray-600 mb-1",children:a.name}),(0,kt.jsx)("div",{className:"px-4 py-3 rounded-lg ".concat(r?"bg-blue-600 text-white rounded-br-none":"bg-gray-100 text-gray-900 rounded-bl-none"),children:(0,kt.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:t.content})}),!r&&t.confidence&&(0,kt.jsxs)("div",{className:"w-full mt-2",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,kt.jsx)("span",{className:"text-xs text-gray-500",children:"Confianza:"}),(0,kt.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:[Math.round(100*t.confidence),"%"]})]}),(0,kt.jsx)("div",{className:"w-full bg-gray-300 rounded-full h-2",children:(0,kt.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(100*t.confidence,"%")}})})]}),(0,kt.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:new Date(t.timestamp).toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit"})})]}),r&&(0,kt.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white text-sm font-medium",children:"T\xfa"})]})})},kn=e=>{let{projectId:t}=e;const[r,n]=(0,a.useState)([{id:"1",role:"agent",agentId:"A1",content:"\xa1Hola! Soy el asistente de agentes. Aqu\xed puedes interactuar con nuestro sistema de inteligencia artificial.",timestamp:new Date,confidence:.95}]),[s,l]=(0,a.useState)(""),[o,i]=(0,a.useState)(!1),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[p,x]=(0,a.useState)(null),h=(0,a.useRef)(null),f=(0,a.useRef)(null);(0,a.useEffect)(()=>{var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[r]);const g=(0,a.useCallback)(async()=>{const e=s.trim();if(!e||o)return;const r={id:Date.now().toString(),role:"user",content:e,timestamp:new Date};n(e=>[...e,r]),l(""),i(!0);try{const r=Object.keys(jn).find(e=>!u.includes(e));r&&!c.includes(r)&&(d(e=>[...e,r]),x(r));const a=setTimeout(()=>{if(c.length>0){const e=c[0];m(t=>[...t,e]),d(t=>t.filter(t=>t!==e))}},2e3),s=await fetch("/api/agents/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,project_id:t})});if(clearTimeout(a),!s.ok)throw new Error("Error: ".concat(s.statusText));const l=await s.json(),o={id:Date.now().toString(),role:"agent",agentId:r||"A1",content:l.response||l.message||"Respuesta procesada",timestamp:new Date,confidence:l.confidence||.85};n(e=>[...e,o])}catch(p){console.error("Error sending message:",p);const e={id:Date.now().toString(),role:"agent",agentId:"A1",content:"Error al procesar la solicitud: ".concat(p.message),timestamp:new Date};n(t=>[...t,e]),c.length>0&&d(e=>e.slice(1))}finally{var a;i(!1),null===(a=f.current)||void 0===a||a.focus()}},[s,o,t,c,u]),b=(0,a.useCallback)(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),g())},[g]);return(0,kt.jsxs)("div",{className:"h-screen flex flex-col bg-white",children:[(0,kt.jsx)("div",{className:"flex-shrink-0 border-b border-gray-200 p-4 max-h-[35%] overflow-auto",children:(0,kt.jsx)(yn,{activeAgents:c,completedAgents:u,showDetails:!1})}),(0,kt.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden bg-white",children:[(0,kt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[1===r.length&&"agent"===r[0].role&&(0,kt.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcac"}),(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Bienvenido a AgentChat"}),(0,kt.jsx)("p",{className:"text-gray-600 max-w-md",children:"Inicia una conversaci\xf3n escribiendo tu mensaje en el campo inferior. Nuestros agentes inteligentes procesar\xe1n tu solicitud."})]})}),r.length>1&&(0,kt.jsxs)("div",{children:[r.map(e=>(0,kt.jsx)(wn,{message:e},e.id)),o&&(0,kt.jsx)(Nn,{agentId:p||"A1"}),(0,kt.jsx)("div",{ref:h})]})]}),(0,kt.jsxs)("div",{className:"flex-shrink-0 border-t border-gray-200 bg-white p-4",children:[(0,kt.jsxs)("div",{className:"flex items-end gap-3",children:[(0,kt.jsx)("textarea",{ref:f,value:s,onChange:e=>l(e.target.value),onKeyDown:b,placeholder:"Escribe tu mensaje aqu\xed... (Presiona Enter para enviar, Shift+Enter para nueva l\xednea)",rows:1,disabled:o,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none disabled:bg-gray-100",style:{maxHeight:"120px"}}),(0,kt.jsx)("button",{onClick:g,disabled:o||!s.trim(),className:"flex-shrink-0 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed font-medium",title:"Enviar mensaje",children:o?(0,kt.jsxs)("span",{className:"flex items-center gap-2",children:[(0,kt.jsx)("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Enviando..."]}):"Enviar"})]}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Presiona Enter para enviar, Shift+Enter para nueva l\xednea"})]})]})]})},Sn=e=>{let{icon:t,label:r,value:a,trend:n,color:s}=e;const l=n>=0,o=l?"text-green-600":"text-red-600",i=l?"bg-green-50":"bg-red-50",c=l?"\u2191":"\u2193";return(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 flex flex-col hover:shadow-md transition-shadow",children:[(0,kt.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,kt.jsx)("div",{className:"text-3xl rounded-lg p-3 ".concat(s),children:t}),(0,kt.jsx)("div",{className:"flex items-center gap-1 px-2 py-1 rounded ".concat(i),children:(0,kt.jsxs)("span",{className:"text-sm font-semibold ".concat(o),children:[c," ",Math.abs(n),"%"]})})]}),(0,kt.jsx)("p",{className:"text-sm text-gray-600 mb-2 font-medium",children:r}),(0,kt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a})]})},Cn=e=>{let{deliberation:t}=e;return(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[(0,kt.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:t.project_name}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(e=>{const t=new Date-new Date(e),r=Math.floor(t/6e4),a=Math.floor(t/36e5),n=Math.floor(t/864e5);return r<1?"Hace unos segundos":r<60?"Hace ".concat(r,"m"):a<24?"Hace ".concat(a,"h"):n<7?"Hace ".concat(n,"d"):new Date(e).toLocaleDateString("es-MX")})(t.created_at)})]}),(0,kt.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold whitespace-nowrap ml-2 ".concat((r=t.score,r>=80?"bg-green-100 text-green-800":r>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800")),children:[t.score,"%"]})]}),t.agents&&t.agents.length>0&&(0,kt.jsx)("div",{className:"flex flex-wrap gap-2",children:t.agents.map(e=>(0,kt.jsx)("span",{className:"inline-block px-2 py-1 bg-indigo-100 text-indigo-700 text-xs rounded font-medium",children:e},e))})]});var r},En=e=>{let{projectId:t=null}=e;const[r,n]=(0,a.useState)({total_analisis:0,score_promedio:0,latencia_ms:0,tasa_exito:0}),[s,l]=(0,a.useState)([]),[o,i]=(0,a.useState)(!0),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[p,x]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/agents/stats");if(e.ok){const t=await e.json();n({total_analisis:t.totalAnalyses||t.total_analisis||0,score_promedio:t.avgScore||t.score_promedio||0,latencia_ms:t.avgLatency||t.latencia_ms||0,tasa_exito:t.successRate||t.tasa_exito||0})}}catch(e){console.error("Error fetching stats:",e)}})()},[]),(0,a.useEffect)(()=>{(async()=>{try{i(!0);const e=await fetch("/api/agents/deliberations/recent");if(e.ok){const t=await e.json(),r=(Array.isArray(t)?t:t.deliberations||[]).map(e=>({project_name:e.projectName||e.project_name||"Sin proyecto",created_at:e.timestamp||e.created_at||(new Date).toISOString(),score:e.score||0,agents:e.agentsInvolved||e.agents||[],summary:e.summary||e.resumen||"",id:e.id}));l(r)}}catch(e){console.error("Error fetching deliberations:",e),l([])}finally{i(!1)}})()},[]);const g=(0,a.useCallback)(async()=>{f(!0),d([]),m([]),x(!0);const e=["A1","A2","A3","A4","A5","A6","A7"];for(let t=0;t<e.length;t++)d([e[t]]),await new Promise(e=>setTimeout(e,1500)),m(r=>[...r,e[t]]),d([]);f(!1)},[]);return(0,kt.jsxs)("div",{className:"min-h-screen bg-gray-50 p-6 space-y-6",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard de Agentes"}),(0,kt.jsx)("p",{className:"text-gray-600 mt-1",children:"Monitoreo en tiempo real del sistema de inteligencia artificial"})]}),(0,kt.jsx)("button",{onClick:g,disabled:h,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium shadow-sm disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:h?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Simulando..."]}):"Simular An\xe1lisis"})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,kt.jsx)(Sn,{icon:"\ud83d\udcca",label:"Total An\xe1lisis",value:r.total_analisis||0,trend:12,color:"bg-blue-100"}),(0,kt.jsx)(Sn,{icon:"\u2b50",label:"Score Promedio",value:"".concat(r.score_promedio||0,"%"),trend:5,color:"bg-purple-100"}),(0,kt.jsx)(Sn,{icon:"\u26a1",label:"Latencia",value:"".concat(r.latencia_ms||0,"ms"),trend:-3,color:"bg-orange-100"}),(0,kt.jsx)(Sn,{icon:"\u2705",label:"Tasa de \xc9xito",value:"".concat(r.tasa_exito||0,"%"),trend:8,color:"bg-green-100"})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-12 gap-6 min-h-[500px]",children:[(0,kt.jsx)("div",{className:"col-span-6",children:(0,kt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden h-full",children:(0,kt.jsx)("div",{className:"p-6 h-full overflow-auto",children:(0,kt.jsx)(yn,{activeAgents:c,completedAgents:u,showDetails:!0})})})}),(0,kt.jsxs)("div",{className:"col-span-6 bg-white rounded-lg shadow-sm border border-gray-200 p-6 flex flex-col h-full overflow-hidden",children:[(0,kt.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4 flex-shrink-0",children:"Deliberaciones Recientes"}),o?(0,kt.jsx)("div",{className:"flex items-center justify-center flex-1",children:(0,kt.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,kt.jsx)("div",{className:"w-8 h-8 border-3 border-gray-300 border-t-indigo-600 rounded-full animate-spin"}),(0,kt.jsx)("span",{className:"text-sm text-gray-600",children:"Cargando deliberaciones..."})]})}):0===s.length?(0,kt.jsx)("div",{className:"flex items-center justify-center flex-1",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udccb"}),(0,kt.jsx)("p",{className:"text-gray-600 font-medium",children:"No hay deliberaciones recientes"}),(0,kt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Comienza un an\xe1lisis para ver resultados"})]})}):(0,kt.jsx)("div",{className:"space-y-3 overflow-y-auto flex-1",children:s.map((e,t)=>(0,kt.jsx)(Cn,{deliberation:e},t))})]})]}),p?(0,kt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,kt.jsx)("div",{className:"h-[600px] flex flex-col",children:(0,kt.jsx)(kn,{projectId:t})})}):(0,kt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcac"}),(0,kt.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Inicia un an\xe1lisis inteligente"}),(0,kt.jsx)("p",{className:"text-gray-600 max-w-md mx-auto mb-8",children:'Haz clic en el bot\xf3n "Simular An\xe1lisis" para ver a los agentes inteligentes procesando un caso completo y luego interact\xfaa con ellos en tiempo real.'}),(0,kt.jsx)("button",{onClick:g,disabled:h,className:"inline-block px-8 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Comenzar An\xe1lisis Simulado"})]})})]})},_n=(0,a.lazy)(()=>r.e(767).then(r.bind(r,767))),An=()=>(0,kt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",role:"status","aria-label":"Cargando contenido",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 rounded-full animate-spin border-t-blue-600 mx-auto","aria-hidden":"true"}),(0,kt.jsx)("p",{className:"mt-6 text-slate-600 font-medium",children:"Cargando..."})]})}),Ln=wt.A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL?"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,"/api"):"/api",headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});Ln.interceptors.request.use(e=>{e.params=(0,s.A)((0,s.A)({},e.params),{},{_t:Date.now()});if(!["/auth/login","/auth/register","/auth/otp/request-code","/auth/otp/verify-code"].some(t=>{var r;return null===(r=e.url)||void 0===r?void 0:r.includes(t)})){const t=localStorage.getItem("auth_token");if(t){e.headers.Authorization="Bearer ".concat(t);try{const r=JSON.parse(atob(t.split(".")[1]));r.empresa_id&&(e.headers["X-Empresa-ID"]=r.empresa_id)}catch(Qn){console.warn("No se pudo extraer empresa_id del token")}}}const t=localStorage.getItem("empresa_id");return!e.headers["X-Empresa-ID"]&&t&&(e.headers["X-Empresa-ID"]=t),e});const Rn=e=>{if(!e||0===e)return"$0";const t=e/1e6;if(t>=1)return"$".concat(t.toFixed(2),"M");const r=e/1e3;return r>=1?"$".concat(r.toFixed(0),"K"):"$".concat(e.toLocaleString("es-MX"))},Tn=e=>{if(!e||0===e)return"$0";return"$".concat((e/1e6).toFixed(1),"M")},On=e=>{switch(null===e||void 0===e?void 0:e.toUpperCase()){case"APPROVED":return"Aprobado";case"IN_REVIEW":return"En Revisi\xf3n";case"REJECTED":return"Rechazado";default:return e||"Pendiente"}},zn=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"approve":case"approved":return{bg:"bg-green-100",text:"text-green-700",border:"border-green-500",dot:"bg-green-500"};case"reject":case"rejected":return{bg:"bg-red-100",text:"text-red-700",border:"border-red-500",dot:"bg-red-500"};case"request_adjustment":case"request_adjustments":return{bg:"bg-amber-100",text:"text-amber-700",border:"border-amber-500",dot:"bg-amber-500"};case"abstain":return{bg:"bg-gray-100",text:"text-gray-700",border:"border-gray-400",dot:"bg-gray-400"};default:return{bg:"bg-blue-100",text:"text-blue-700",border:"border-blue-400",dot:"bg-blue-400"}}},Pn=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"approve":case"approved":return"Aprobado";case"reject":case"rejected":return"Rechazado";case"request_adjustment":case"request_adjustments":return"Requiere Ajustes";case"abstain":return"Abstenci\xf3n";default:return e||"Pendiente"}},Dn=e=>({E1_ESTRATEGIA:"Estrategia",E2_FISCAL:"Fiscal",E3_FINANZAS:"Finanzas",E4_LEGAL:"Legal",E5_APROBADO:"Aprobaci\xf3n Final",E5_PMO:"Consolidaci\xf3n PMO",intake:"Recepci\xf3n",fiscal_review:"Revisi\xf3n Fiscal",finance_review:"Revisi\xf3n Financiera",pmo_consolidation:"Consolidaci\xf3n PMO",sponsor_approval:"Aprobaci\xf3n Sponsor",completed:"Completado"}[e]||e||"Sin etapa"),Mn={A1_SPONSOR:{name:"Mar\xeda Rodr\xedguez",role:"Direcci\xf3n Estrat\xe9gica",color:"purple",initial:"M",bgColor:"bg-purple-100",textColor:"text-purple-600"},A2_PMO:{name:"Carlos Mendoza",role:"PMO",color:"blue",initial:"C",bgColor:"bg-blue-100",textColor:"text-blue-600"},A3_FISCAL:{name:"Laura S\xe1nchez",role:"Fiscal",color:"green",initial:"L",bgColor:"bg-green-100",textColor:"text-green-600"},A5_FINANZAS:{name:"Roberto Torres",role:"Finanzas",color:"amber",initial:"R",bgColor:"bg-amber-100",textColor:"text-amber-600"},LEGAL:{name:"Equipo Legal",role:"Legal",color:"indigo",initial:"EL",bgColor:"bg-indigo-100",textColor:"text-indigo-600"},SYSTEM:{name:"Sistema",role:"Sistema SATMA",color:"gray",initial:"S",bgColor:"bg-gray-100",textColor:"text-gray-600"}},Fn=e=>Mn[e]||{name:e,role:"Agente",color:"gray",initial:(null===e||void 0===e?void 0:e.charAt(0))||"?",bgColor:"bg-gray-100",textColor:"text-gray-600"};function In(e){let{children:t,allowDemo:r=!1}=e;const{isAuthenticated:a,loading:n}=Pt(),s="true"===new URLSearchParams(window.location.search).get("demo");return n?(0,kt.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"animate-spin text-4xl mb-4",children:"\u231b"}),(0,kt.jsx)("p",{className:"text-gray-600",children:"Un momento por favor..."})]})}):r&&s?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("div",{className:"bg-amber-500 text-white text-center py-2 px-4 text-sm font-medium",children:"Modo Demo - Los datos no se guardar\xe1n"}),t]}):a?t:(0,kt.jsx)(Te,{to:"/login",replace:!0})}function Bn(){var e,t;const{user:r,logout:n,isAuthenticated:s}=Pt(),[l,o]=(0,a.useState)(!1);return s?(0,kt.jsx)("nav",{className:"bg-white border-b border-gray-200 shadow-sm",children:(0,kt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,kt.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,kt.jsx)("div",{className:"flex items-center",children:(0,kt.jsx)(ft,{to:"/",className:"flex items-center",children:(0,kt.jsx)("img",{src:"/logo-revisar.png",alt:"Revisar.ia",className:"h-6 sm:h-8"})})}),(0,kt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,kt.jsx)(ft,{to:"/nuevo-proyecto",className:"inline-flex items-center justify-center w-10 h-10 bg-[#54ddaf] text-[#021423] rounded-lg hover:bg-[#3bb896] transition-colors",title:"Iniciar Proyecto","aria-label":"Iniciar nuevo proyecto",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),(0,kt.jsx)(ft,{to:"/onboarding",className:"inline-flex items-center justify-center w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg hover:from-emerald-600 hover:to-teal-700 transition-colors",title:"Onboarding Empresa","aria-label":"Registrar nueva empresa",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})}),"admin"===(null===r||void 0===r?void 0:r.role)&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)(ft,{to:"/admin",className:"inline-flex items-center justify-center w-10 h-10 bg-[#021423] text-white rounded-lg hover:bg-gray-800 transition-colors",title:"Panel de Administraci\xf3n","aria-label":"Ir al panel de administraci\xf3n",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),(0,kt.jsx)(ft,{to:"/admin/documentacion",className:"inline-flex items-center justify-center w-10 h-10 bg-gradient-to-r from-slate-700 to-slate-900 text-white rounded-lg hover:from-slate-800 hover:to-slate-950 transition-colors",title:"Documentaci\xf3n","aria-label":"Ver documentaci\xf3n del sistema",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})]}),(0,kt.jsx)(ft,{to:"/metrics",className:"inline-flex items-center justify-center w-10 h-10 bg-[#54ddaf] text-[#021423] rounded-lg hover:bg-[#3bb896] transition-colors",title:"An\xe1lisis de Rendimiento","aria-label":"Ver an\xe1lisis de rendimiento",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,kt.jsx)(ft,{to:"/durezza",className:"inline-flex items-center justify-center w-10 h-10 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-colors",title:"Revisar.IA","aria-label":"Ir a Revisar.IA",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),(0,kt.jsx)(ft,{to:"/templates",className:"inline-flex items-center justify-center w-10 h-10 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-lg hover:from-amber-600 hover:to-orange-600 transition-colors",title:"Templates RAG","aria-label":"Ver plantillas RAG",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,kt.jsx)(ft,{to:"/proveedores",className:"inline-flex items-center justify-center w-10 h-10 bg-gradient-to-r from-purple-500 to-violet-600 text-white rounded-lg hover:from-purple-600 hover:to-violet-700 transition-colors",title:"Proveedores","aria-label":"Gesti\xf3n de proveedores",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,kt.jsx)(ft,{to:"/biblioteca",className:"inline-flex items-center justify-center w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg hover:from-indigo-600 hover:to-purple-700 transition-colors",title:"Bibliotecar.IA","aria-label":"Base de Conocimiento",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),(0,kt.jsx)(ft,{to:"/repositorio",className:"inline-flex items-center justify-center w-10 h-10 bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-lg hover:from-cyan-600 hover:to-blue-700 transition-colors",title:"Repositorio de Conocimiento","aria-label":"Disco Duro Corporativo",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"})})}),(0,kt.jsx)(ft,{to:"/disenar",className:"inline-flex items-center justify-center w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-lg hover:from-purple-600 hover:to-pink-700 transition-colors",title:"Dise\xf1ar.IA","aria-label":"Auditor\xeda de Dise\xf1o",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),(0,kt.jsx)(ft,{to:"/agent-checklist",className:"inline-flex items-center justify-center w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg hover:from-emerald-600 hover:to-teal-700 transition-colors",title:"Checklist de Agentes","aria-label":"Requerimientos por Agente",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),(0,kt.jsx)(ft,{to:"/",className:"inline-flex items-center justify-center w-10 h-10 bg-gradient-to-r from-[#7FEDD8] to-[#5BC4AB] text-[#0a0f14] rounded-lg hover:from-[#6ddbc6] hover:to-[#4ab39a] transition-colors",title:"Acerca de Nosotros","aria-label":"Acerca de Revisar.IA",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsxs)("button",{onClick:()=>o(!l),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,kt.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-gray-600 font-medium",children:(null===r||void 0===r||null===(e=r.full_name)||void 0===e||null===(t=e.charAt(0))||void 0===t?void 0:t.toUpperCase())||"U"}),(0,kt.jsx)("span",{className:"text-sm text-gray-700 hidden sm:block",children:null===r||void 0===r?void 0:r.full_name}),(0,kt.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&(0,kt.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[(0,kt.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100",children:[(0,kt.jsx)("p",{className:"text-sm font-medium text-gray-900",children:null===r||void 0===r?void 0:r.full_name}),(0,kt.jsx)("p",{className:"text-xs text-gray-500",children:null===r||void 0===r?void 0:r.email}),(null===r||void 0===r?void 0:r.company)&&(0,kt.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:null===r||void 0===r?void 0:r.company})]}),(0,kt.jsxs)("button",{onClick:()=>{o(!1),n()},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors flex items-center gap-2",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Cerrar Sesi\xf3n"]})]})]})]})]})})}):null}const Wn=e=>{const t=e.submitted_at||e.created_at;if(!t)return 0;try{const e=new Date(t),r=new Date,a=Math.abs(r-e);return Math.ceil(a/864e5)}catch(r){return 0}},Un=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)({approved:0,rejected:0,in_review:0,total_amount:0}),[l,o]=(0,a.useState)([]),[i,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)({}),m=e=>{u(t=>(0,s.A)((0,s.A)({},t),{},{[e]:!t[e]}))};(0,a.useEffect)(()=>{p()},[]);const p=async()=>{try{c(!0);const[e,r,a]=await Promise.all([Ln.get("/projects"),Ln.get("/stats"),Ln.get("/defense-files")]);t(e.data.projects||[]),n(r.data||{approved:0,rejected:0,in_review:0,total_amount:0}),o(a.data.defense_files||[])}catch(e){console.error("Error loading dashboard:",e)}finally{c(!1)}},x=e=>{if(!e.workflow_state)return"-";const t={E1_ESTRATEGIA:"A1_SPONSOR",E2_FISCAL:"A3_FISCAL",E3_FINANZAS:"A5_FINANZAS",E4_LEGAL:"LEGAL",E5_APROBADO:"A2_PMO",E5_PMO:"A2_PMO"}[e.workflow_state];if(t){return Fn(t).name}return"-"},h=()=>{const e=[];return l.forEach(t=>{(t.months||[]).forEach(r=>{(r.projects||[]).forEach(a=>{(a.deliberations||[]).forEach(n=>{var l;["reject","rejected","request_adjustment","request_adjustments","abstain"].includes(null===(l=n.decision)||void 0===l?void 0:l.toLowerCase())&&e.push((0,s.A)({projectId:a.project_id,projectName:a.project_name||a.project_id,companyName:t.company_name,month:r.month},n))})})})}),e};return i?(0,kt.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"animate-spin text-4xl mb-4",children:"\u231b"}),(0,kt.jsx)("p",{className:"text-gray-600",children:"Preparando tu dashboard..."})]})}):(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,kt.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,kt.jsxs)("div",{className:"mb-8",children:[(0,kt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Ejecutivo"}),(0,kt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Sistema de Trazabilidad Multi-Agente - Revisar.ia"})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,kt.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",children:(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Aprobados"}),(0,kt.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.approved||0})]}),(0,kt.jsx)("div",{className:"w-4 h-4 rounded-full bg-green-500"})]})}),(0,kt.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",children:(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"En Revisi\xf3n"}),(0,kt.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.in_review||0})]}),(0,kt.jsx)("div",{className:"w-4 h-4 rounded-full bg-yellow-500"})]})}),(0,kt.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",children:(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Rechazados"}),(0,kt.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.rejected||0})]}),(0,kt.jsx)("div",{className:"w-4 h-4 rounded-full bg-red-500"})]})}),(0,kt.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",children:(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Monto Total"}),(0,kt.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:Tn(r.total_amount)})]}),(0,kt.jsx)("div",{className:"text-2xl",children:"$"})]})})]}),(0,kt.jsx)("div",{className:"mb-8",children:(0,kt.jsx)(gn,{})}),(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 mb-8 overflow-hidden",children:[(0,kt.jsx)("div",{className:"px-6 py-4 border-b border-gray-100",children:(0,kt.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Proyectos"})}),(0,kt.jsx)("div",{className:"overflow-x-auto",children:(0,kt.jsxs)("table",{className:"w-full",children:[(0,kt.jsx)("thead",{className:"bg-gray-50 border-b border-gray-100",children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sem\xe1foro"}),(0,kt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Proyecto"}),(0,kt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Etapa"}),(0,kt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\xdaltimo Revisor"}),(0,kt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Puntuaci\xf3n"}),(0,kt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),(0,kt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"D\xedas"}),(0,kt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,kt.jsx)("tbody",{className:"divide-y divide-gray-100",children:0===e.length?(0,kt.jsx)("tr",{children:(0,kt.jsxs)("td",{colSpan:"8",className:"px-6 py-12 text-center text-gray-500",children:[(0,kt.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcc4"}),(0,kt.jsx)("p",{className:"font-medium",children:"No hay proyectos registrados"}),(0,kt.jsx)("p",{className:"text-sm mt-1",children:"Los proyectos aparecer\xe1n aqu\xed cuando se creen"})]})}):e.map(e=>{var t;const r=e.compliance_score||0,a=r>=75?"bg-green-100 text-green-700":r>=50?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700",n=Wn(e),s=(e=>{var t;const r=null===(t=e.current_status||e.status)||void 0===t?void 0:t.toUpperCase(),a=Wn(e),n=e.workflow_state;return"APPROVED"===r?{color:"bg-green-500",label:"Aprobado",tooltip:"Proyecto aprobado por todos los agentes",textColor:"text-green-700"}:"REJECTED"===r?{color:"bg-red-500",label:"Rechazado",tooltip:"Proyecto rechazado. Ver detalles de incidencias.",textColor:"text-red-700"}:a>15?{color:"bg-red-500",label:"Vencido",tooltip:"M\xe1s de ".concat(a," d\xedas en revisi\xf3n. Pendiente: ").concat(Dn(n)),textColor:"text-red-700"}:a>7?{color:"bg-amber-500",label:"En Revisi\xf3n",tooltip:"".concat(a," d\xedas. Etapa actual: ").concat(Dn(n)),textColor:"text-amber-700"}:{color:"bg-yellow-500",label:"En Revisi\xf3n",tooltip:"Pendiente: ".concat(Dn(n)," (").concat(a," d\xedas)"),textColor:"text-yellow-700"}})(e);return(0,kt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,kt.jsx)("td",{className:"px-4 py-4",children:(0,kt.jsxs)("div",{className:"relative group",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2 cursor-help",children:[(0,kt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(s.color)}),(0,kt.jsx)("span",{className:"text-sm ".concat(s.textColor),children:s.label})]}),(0,kt.jsx)("div",{className:"absolute bottom-full left-0 mb-2 hidden group-hover:block z-50",children:(0,kt.jsxs)("div",{className:"bg-gray-900 text-white text-xs rounded-lg py-2 px-3 whitespace-nowrap shadow-lg",children:[s.tooltip,(0,kt.jsx)("div",{className:"absolute top-full left-4 border-4 border-transparent border-t-gray-900"})]})})]})}),(0,kt.jsx)("td",{className:"px-4 py-4",children:(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"font-medium text-gray-900 max-w-[200px] truncate",children:e.project_name}),(0,kt.jsxs)("p",{className:"text-xs text-gray-500 font-mono",children:[null===(t=e.project_id)||void 0===t?void 0:t.substring(0,12),"..."]})]})}),(0,kt.jsx)("td",{className:"px-4 py-4",children:(0,kt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:Dn(e.workflow_state)})}),(0,kt.jsx)("td",{className:"px-4 py-4",children:(0,kt.jsx)("span",{className:"text-sm text-gray-600",children:x(e)})}),(0,kt.jsx)("td",{className:"px-4 py-4",children:(0,kt.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(a),children:[r.toFixed(0),"%"]})}),(0,kt.jsx)("td",{className:"px-4 py-4",children:(0,kt.jsx)("span",{className:"font-medium text-gray-900",children:Rn(e.budget_estimate)})}),(0,kt.jsx)("td",{className:"px-4 py-4",children:(0,kt.jsxs)("span",{className:"font-medium ".concat(n>15?"text-red-600":n>7?"text-amber-600":"text-gray-600"),children:[n,"d"]})}),(0,kt.jsx)("td",{className:"px-4 py-4",children:(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsxs)(ft,{to:"/project/".concat(e.project_id),className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-800 font-medium text-sm",children:["Ver",(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),(0,kt.jsxs)("a",{href:"/api/defense/download/".concat(e.project_id),className:"inline-flex items-center gap-1 text-green-600 hover:text-green-800 font-medium text-sm",title:"Descargar Defense File",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"ZIP"]})]})})]},e.project_id)})})]})})]}),h().length>0&&(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 mb-8 overflow-hidden",children:[(0,kt.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center gap-2",children:[(0,kt.jsx)("svg",{className:"w-5 h-5 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,kt.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Incidencias y Observaciones"}),(0,kt.jsxs)("span",{className:"ml-auto bg-amber-100 text-amber-700 text-xs font-medium px-2.5 py-0.5 rounded-full",children:[h().length," pendientes"]})]}),(0,kt.jsx)("div",{className:"p-6",children:(0,kt.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:h().map((e,t)=>{var r;const a=Fn(e.agent_id),n=zn(e.decision);return(0,kt.jsxs)("div",{className:"p-4 rounded-lg border-l-4 ".concat(n.border," ").concat(n.bg),children:[(0,kt.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("div",{className:"w-8 h-8 rounded-full ".concat(a.bgColor," flex items-center justify-center ").concat(a.textColor," font-bold text-sm"),children:a.initial}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"font-medium text-gray-900",children:a.name}),(0,kt.jsx)("p",{className:"text-xs text-gray-500",children:a.role})]})]}),(0,kt.jsxs)("div",{className:"text-right",children:[(0,kt.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ".concat(n.bg," ").concat(n.text),children:Pn(e.decision)}),(0,kt.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:(e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("es-MX",{day:"2-digit",month:"short"})}catch(t){return""}})(e.timestamp)})]})]}),(0,kt.jsxs)("div",{className:"mb-2",children:[(0,kt.jsx)(ft,{to:"/project/".concat(e.projectId),className:"text-sm font-medium text-blue-600 hover:text-blue-800",children:e.projectName}),(0,kt.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",Dn(e.stage),")"]})]}),(0,kt.jsxs)("p",{className:"text-sm text-gray-700 line-clamp-2",children:[null===(r=e.analysis)||void 0===r?void 0:r.substring(0,200),"..."]}),e.requested_adjustments&&(0,kt.jsxs)("div",{className:"mt-2 p-2 bg-white/60 rounded text-sm",children:[(0,kt.jsx)("span",{className:"font-medium text-amber-700",children:"Ajustes requeridos: "}),(0,kt.jsx)("span",{className:"text-gray-600",children:e.requested_adjustments})]})]},t)})})})]}),(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden",children:[(0,kt.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),(0,kt.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Repositorio de Defense Files"})]}),(0,kt.jsxs)("span",{className:"bg-blue-100 text-blue-700 text-xs font-medium px-2.5 py-0.5 rounded-full",children:[l.length," empresas"]})]}),(0,kt.jsx)("div",{className:"p-6",children:0===l.length?(0,kt.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,kt.jsx)("svg",{className:"w-12 h-12 mx-auto text-gray-300 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),(0,kt.jsx)("p",{className:"font-medium",children:"No hay defense files"}),(0,kt.jsx)("p",{className:"text-sm mt-1",children:"Los archivos de defensa aparecer\xe1n cuando se procesen proyectos"})]}):(0,kt.jsx)("div",{className:"space-y-4",children:l.map(e=>{var t,r;const a="company_".concat(e.company_name),n=d[a];return(0,kt.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,kt.jsxs)("button",{onClick:()=>m(a),className:"w-full px-4 py-4 bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 transition-colors flex items-center justify-between text-left",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,kt.jsx)("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center text-white",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"font-semibold text-gray-900",children:e.company_name}),(0,kt.jsxs)("p",{className:"text-xs text-gray-500",children:[e.total_projects," proyectos \u2022 ",Tn(e.total_budget)]})]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,kt.jsxs)("span",{className:"bg-blue-100 text-blue-700 text-xs font-medium px-2.5 py-1 rounded-full",children:[(null===(t=e.months)||void 0===t?void 0:t.length)||0," meses"]}),(0,kt.jsx)("svg",{className:"w-5 h-5 text-gray-400 transform transition-transform ".concat(n?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),n&&(0,kt.jsx)("div",{className:"border-t border-gray-200 bg-gray-50",children:null===(r=e.months)||void 0===r?void 0:r.map(e=>{var t;const r="".concat(a,"_").concat(e.month),n=d[r];return(0,kt.jsxs)("div",{className:"border-b border-gray-100 last:border-b-0",children:[(0,kt.jsxs)("button",{onClick:()=>m(r),className:"w-full px-6 py-3 hover:bg-gray-100 transition-colors flex items-center justify-between text-left",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center text-amber-600",children:(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"font-medium text-gray-800",children:e.month}),(0,kt.jsxs)("p",{className:"text-xs text-gray-500",children:[e.project_count," proyectos \u2022 ",Tn(e.total_budget)]})]})]}),(0,kt.jsx)("svg",{className:"w-4 h-4 text-gray-400 transform transition-transform ".concat(n?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&(0,kt.jsx)("div",{className:"px-6 pb-4 bg-white",children:(0,kt.jsx)("div",{className:"space-y-3 pt-2",children:null===(t=e.projects)||void 0===t?void 0:t.map(e=>{const t="".concat(r,"_").concat(e.project_id),a=d[t],n=e.deliberations||[],s=zn(e.final_decision);return(0,kt.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white",children:[(0,kt.jsxs)("button",{onClick:()=>m(t),className:"w-full px-4 py-3 hover:bg-gray-50 transition-colors flex items-center justify-between text-left",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("approved"===e.final_decision?"bg-green-500":"rejected"===e.final_decision?"bg-red-500":"bg-yellow-500")}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:e.project_name||e.project_id}),(0,kt.jsxs)("p",{className:"text-xs text-gray-500 font-mono",children:[e.project_id," \u2022 ",Rn(e.budget)]})]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ".concat(s.bg," ").concat(s.text),children:Pn(e.final_decision)||"En Proceso"}),(0,kt.jsxs)("span",{className:"text-xs text-gray-400",children:[n.length," an\xe1lisis"]}),(0,kt.jsx)("svg",{className:"w-4 h-4 text-gray-400 transform transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),a&&(0,kt.jsxs)("div",{className:"px-3 sm:px-4 pb-4 border-t border-gray-100 bg-gray-50",children:[(0,kt.jsxs)("div",{className:"pt-4",children:[(0,kt.jsx)("h5",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-3",children:"Deliberaciones"}),(0,kt.jsx)("div",{className:"space-y-3",children:n.map((e,t)=>{var r;const a=Fn(e.agent_id),n=zn(e.decision);return(0,kt.jsxs)("div",{className:"p-3 sm:p-4 rounded-xl border-l-4 bg-white shadow-sm ".concat(n.border),children:[(0,kt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-2",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-8 h-8 rounded-full ".concat(a.bgColor," flex items-center justify-center ").concat(a.textColor," font-bold text-xs flex-shrink-0"),children:a.initial}),(0,kt.jsxs)("div",{className:"min-w-0",children:[(0,kt.jsx)("span",{className:"font-semibold text-gray-900 text-sm block",children:a.name}),(0,kt.jsx)("span",{className:"text-xs text-gray-500",children:Dn(e.stage)})]})]}),(0,kt.jsx)("span",{className:"self-start sm:self-auto px-2.5 py-1 rounded-full text-xs font-medium whitespace-nowrap ".concat(n.bg," ").concat(n.text),children:Pn(e.decision)})]}),(0,kt.jsxs)("p",{className:"text-sm text-gray-600 line-clamp-2 leading-relaxed",children:[null===(r=e.analysis)||void 0===r?void 0:r.substring(0,120),"..."]}),e.pcloud_link&&(0,kt.jsxs)("a",{href:e.pcloud_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 mt-3 px-3 py-1.5 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-lg text-xs font-medium transition-colors",children:[(0,kt.jsx)("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Descargar PDF"]})]},t)})})]}),(0,kt.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,kt.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,kt.jsxs)(ft,{to:"/project/".concat(e.project_id),className:"inline-flex items-center gap-1.5 px-4 py-2.5 bg-[#54ddaf] text-[#021423] rounded-lg text-sm font-medium hover:bg-[#45c99f] transition-colors min-h-[44px]",children:[(0,kt.jsxs)("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Ver Detalles"]}),e.project_folder_link&&(0,kt.jsxs)("a",{href:e.project_folder_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors min-h-[44px]",children:[(0,kt.jsx)("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),"Proyecto"]}),e.bitacora_link&&(0,kt.jsxs)("a",{href:e.bitacora_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-4 py-2.5 bg-purple-100 text-purple-700 rounded-lg text-sm font-medium hover:bg-purple-200 transition-colors min-h-[44px]",children:[(0,kt.jsx)("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Bit\xe1cora"]}),e.defense_file_link&&(0,kt.jsxs)("a",{href:e.defense_file_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-4 py-2.5 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium hover:bg-blue-200 transition-colors min-h-[44px]",children:[(0,kt.jsx)("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),"Expediente"]})]})})]})]},e.project_id)})})})]},e.month)})})]},e.company_name)})})})]})]})})},Hn=e=>{let{currentStage:t,deliberations:r=[]}=e;const n=[{id:"E1_ESTRATEGIA",label:"Estrategia",short:"E1"},{id:"E2_FISCAL",label:"Fiscal",short:"E2"},{id:"E3_FINANZAS",label:"Finanzas",short:"E3"},{id:"E4_LEGAL",label:"Legal",short:"E4"},{id:"E5_APROBADO",label:"Aprobaci\xf3n",short:"E5"}],s={E1_ESTRATEGIA:1,E2_FISCAL:2,E3_FINANZAS:3,E4_LEGAL:4,E5_APROBADO:5,E5_PMO:5,intake:1,fiscal_review:2,finance_review:3,pmo_consolidation:4,sponsor_approval:5,completed:5}[t]||0;const l=Array.isArray(r)?r:[];return(0,kt.jsx)("div",{className:"flex items-center justify-between w-full max-w-2xl",children:n.map((e,t)=>{const r=t+1,o=r<s,i=r===s,c=(e=>{var t;if(!Array.isArray(l)||0===l.length)return null;const r=l.find(t=>(null===t||void 0===t?void 0:t.stage)===e);return r?null===(t=r.decision)||void 0===t?void 0:t.toLowerCase():null})(e.id);let d="bg-gray-200",u="text-gray-500",m="border-gray-300";return(o||i)&&("approve"===c||"approved"===c?(d="bg-green-500",u="text-white",m="border-green-600"):"reject"===c||"rejected"===c?(d="bg-red-500",u="text-white",m="border-red-600"):"request_adjustment"===c?(d="bg-amber-500",u="text-white",m="border-amber-600"):i&&(d="bg-blue-500",u="text-white",m="border-blue-600")),(0,kt.jsxs)(a.Fragment,{children:[(0,kt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,kt.jsx)("div",{className:"w-10 h-10 rounded-full ".concat(d," ").concat(u," flex items-center justify-center text-sm font-bold border-2 ").concat(m),children:r}),(0,kt.jsx)("span",{className:"text-xs mt-1 text-gray-600 text-center max-w-[60px]",children:e.label})]}),t<n.length-1&&(0,kt.jsx)("div",{className:"flex-1 h-1 mx-2 ".concat(r<s?"bg-green-400":"bg-gray-200")})]},e.id)})})},Vn=e=>{var t,r;let{deliberation:n,documents:s=[]}=e;if(!n)return null;const l=Fn(n.agent_id),o=zn(n.decision),[i,c]=(0,a.useState)(!1),d=(Array.isArray(s)?s:[]).filter(e=>e&&e.agent_id===n.agent_id&&e.stage===n.stage);return(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border-l-4 ".concat(o.border," p-4 mb-4"),children:[(0,kt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("div",{className:"w-12 h-12 rounded-full ".concat(l.bgColor," flex items-center justify-center ").concat(l.textColor," font-bold text-lg"),children:l.initial}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"font-semibold text-gray-900",children:l.name}),(0,kt.jsxs)("p",{className:"text-sm text-gray-500",children:[l.role," \u2022 ",Dn(n.stage)]})]})]}),(0,kt.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,kt.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(o.bg," ").concat(o.text),children:Pn(n.decision)}),(0,kt.jsx)("span",{className:"text-xs text-gray-400",children:(e=>{if(!e)return"";try{return new Date(e).toLocaleString("es-MX",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(t){return e}})(n.timestamp)})]})]}),(0,kt.jsxs)("div",{className:"mt-4",children:[(0,kt.jsx)("div",{className:"text-gray-700 text-sm ".concat(i?"":"line-clamp-3"),children:null===(t=n.analysis)||void 0===t?void 0:t.split("\n").map((e,t)=>(0,kt.jsx)("p",{className:"mb-2",children:e},t))}),(null===(r=n.analysis)||void 0===r?void 0:r.length)>200&&(0,kt.jsx)("button",{onClick:()=>c(!i),className:"text-blue-600 hover:text-blue-800 text-sm font-medium mt-2",children:i?"Ver menos":"Ver m\xe1s"})]}),n.risk_assessment&&(0,kt.jsxs)("div",{className:"mt-3 p-3 bg-red-50 rounded-lg border border-red-100",children:[(0,kt.jsxs)("p",{className:"text-sm font-medium text-red-700 flex items-center gap-1",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Evaluaci\xf3n de Riesgos"]}),(0,kt.jsx)("p",{className:"text-sm text-red-600 mt-1",children:n.risk_assessment})]}),n.requested_adjustments&&(0,kt.jsxs)("div",{className:"mt-3 p-3 bg-amber-50 rounded-lg border border-amber-100",children:[(0,kt.jsxs)("p",{className:"text-sm font-medium text-amber-700 flex items-center gap-1",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Ajustes Solicitados"]}),(0,kt.jsx)("p",{className:"text-sm text-amber-600 mt-1",children:n.requested_adjustments})]}),d.length>0&&(0,kt.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[(0,kt.jsx)("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Documentos Generados:"}),(0,kt.jsx)("div",{className:"flex flex-wrap gap-2",children:d.map((e,t)=>(0,kt.jsxs)("a",{href:e.pcloud_link||"#",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded text-xs text-gray-700 transition-colors",children:[(0,kt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),e.doc_type]},t))})]})]})},qn=e=>{let{deliberations:t=[]}=e;const r=(Array.isArray(t)?t:[]).filter(e=>{var t;return e&&["reject","rejected","request_adjustment","request_adjustments","abstain"].includes(null===(t=e.decision)||void 0===t?void 0:t.toLowerCase())});return 0===r.length?(0,kt.jsxs)("div",{className:"bg-green-50 rounded-lg p-6 text-center",children:[(0,kt.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,kt.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,kt.jsx)("p",{className:"text-green-700 font-medium",children:"Sin Incidencias"}),(0,kt.jsx)("p",{className:"text-green-600 text-sm mt-1",children:"Todas las deliberaciones fueron aprobadas"})]}):(0,kt.jsx)("div",{className:"space-y-3",children:r.map((e,t)=>{var r;const a=Fn(e.agent_id),n=zn(e.decision);return(0,kt.jsxs)("div",{className:"p-4 rounded-lg border ".concat(n.bg," border-l-4 ").concat(n.border),children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("span",{className:"".concat(n.dot," w-2 h-2 rounded-full")}),(0,kt.jsx)("span",{className:"font-medium text-gray-900",children:a.name}),(0,kt.jsx)("span",{className:"text-xs px-2 py-0.5 rounded ".concat(n.bg," ").concat(n.text),children:Pn(e.decision)})]}),(0,kt.jsx)("span",{className:"text-xs text-gray-500",children:Dn(e.stage)})]}),(0,kt.jsxs)("p",{className:"text-sm text-gray-700 line-clamp-2",children:[null===(r=e.analysis)||void 0===r?void 0:r.substring(0,200),"..."]}),e.requested_adjustments&&(0,kt.jsxs)("div",{className:"mt-2 p-2 bg-white/50 rounded text-sm",children:[(0,kt.jsx)("span",{className:"font-medium text-gray-700",children:"Ajustes: "}),(0,kt.jsx)("span",{className:"text-gray-600",children:e.requested_adjustments})]})]},t)})})},Kn=e=>{let{documents:t=[],pcloudDocuments:r=[],bitacoraLink:a}=e;const n=[...t,...r].filter(e=>e.pcloud_link),s=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("es-MX",{day:"2-digit",month:"short",year:"numeric"})}catch(t){return e}};return(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden",children:[(0,kt.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Documentos y Evidencias"}),a&&(0,kt.jsxs)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 bg-[#54ddaf] text-[#021423] rounded-lg hover:bg-[#45c99f] text-sm font-medium transition-colors",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Descargar Bit\xe1cora"]})]}),0===n.length?(0,kt.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,kt.jsx)("svg",{className:"w-12 h-12 mx-auto text-gray-300 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,kt.jsx)("p",{className:"font-medium",children:"No hay documentos disponibles"})]}):(0,kt.jsx)("div",{className:"overflow-x-auto",children:(0,kt.jsxs)("table",{className:"w-full",children:[(0,kt.jsx)("thead",{className:"bg-gray-50 border-b border-gray-100",children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tipo"}),(0,kt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Agente"}),(0,kt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Etapa"}),(0,kt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),(0,kt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Enlace"})]})}),(0,kt.jsx)("tbody",{className:"divide-y divide-gray-100",children:n.map((e,t)=>{const r=Fn(e.agent_id);return(0,kt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,kt.jsx)("td",{className:"px-4 py-3",children:(0,kt.jsx)("span",{className:"text-sm font-medium text-gray-900",children:(a=e.doc_type,{reporte_estrategia:"Reporte Estrategia",reporte_fiscal:"Reporte Fiscal",reporte_finanzas:"Reporte Finanzas",reporte_legal:"Reporte Legal",reporte_consolidacion:"Consolidaci\xf3n PMO",solicitud_modificacion:"Solicitud de Modificaci\xf3n",aprobacion_final:"Aprobaci\xf3n Final"}[a]||a)})}),(0,kt.jsx)("td",{className:"px-4 py-3",children:(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-6 h-6 rounded-full ".concat(r.bgColor," flex items-center justify-center ").concat(r.textColor," text-xs font-bold"),children:r.initial}),(0,kt.jsx)("span",{className:"text-sm text-gray-600",children:r.name})]})}),(0,kt.jsx)("td",{className:"px-4 py-3",children:(0,kt.jsx)("span",{className:"text-sm text-gray-600",children:Dn(e.stage)})}),(0,kt.jsx)("td",{className:"px-4 py-3",children:(0,kt.jsx)("span",{className:"text-sm text-gray-500",children:s(e.created_at||e.uploaded_at)})}),(0,kt.jsx)("td",{className:"px-4 py-3",children:(0,kt.jsxs)("a",{href:e.pcloud_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-800 text-sm",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Ver en pCloud"]})})]},t);var a})})]})})]})},Gn=()=>{var e,t;const[r,n]=(0,a.useState)(null),[s,l]=(0,a.useState)(!0),[o,i]=(0,a.useState)("timeline"),c=window.location.pathname.split("/").pop();(0,a.useEffect)(()=>{d()},[]);const d=async()=>{try{var e,t,r,a,s;const l=(await Ln.get("/projects/".concat(c))).data,o={project:l.project||{},defense_file:l.defense_file||{},deliberations:(null===(e=l.defense_file)||void 0===e?void 0:e.deliberations)||l.interactions||[],documents:(null===(t=l.defense_file)||void 0===t?void 0:t.pcloud_documents)||[],bitacora_link:(null===(r=l.defense_file)||void 0===r?void 0:r.bitacora_link)||null,compliance_score:(null===(a=l.project)||void 0===a?void 0:a.compliance_score)||(null===(s=l.defense_file)||void 0===s?void 0:s.compliance_score)||0};n(o)}catch(o){console.error("Error loading project:",o)}finally{l(!1)}};if(s)return(0,kt.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"animate-spin text-4xl mb-4",children:"\u231b"}),(0,kt.jsx)("p",{className:"text-gray-600",children:"Cargando informaci\xf3n del proyecto..."})]})});if(!r)return(0,kt.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udd0d"}),(0,kt.jsx)("p",{className:"text-xl text-gray-600",children:"No encontramos este proyecto"}),(0,kt.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Verifica el ID o regresa al dashboard"}),(0,kt.jsx)(ft,{to:"/",className:"mt-4 inline-block text-blue-600 hover:text-blue-800",children:"Volver al Dashboard"})]})});const u=r.project||r||{},m=r.defense_file||{},p=Array.isArray(r.deliberations)?r.deliberations:Array.isArray(m.deliberations)?m.deliberations:[],x=Array.isArray(r.documents)?r.documents:Array.isArray(m.documents)?m.documents:[],h=Array.isArray(m.pcloud_documents)?m.pcloud_documents:[],f=r.bitacora_link||m.bitacora_link||null,g=p.some(e=>"request_adjustment"===e.decision||"requires_adjustment"===e.decision||"ajuste"===e.decision),b=p.filter(e=>"request_adjustment"===e.decision||"requires_adjustment"===e.decision||"ajuste"===e.decision),v=p.length>0?(e=>{if(!e||0===e.length)return 0;const t=e.filter(e=>"approve"===e.decision||"approved"===e.decision).length,r=e.length;return r>0?Math.round(t/r*100):0})(p):r.compliance_score||m.compliance_score||u.compliance_score||0;return(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,kt.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,kt.jsxs)(ft,{to:"/",className:"text-blue-600 hover:text-blue-800 text-sm mb-4 inline-flex items-center gap-1",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Volver al Dashboard"]}),(0,kt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mt-4 mb-6",children:[(0,kt.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,kt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:u.project_name}),(0,kt.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("APPROVED"===(null===(e=u.current_status||u.status)||void 0===e?void 0:e.toUpperCase())?"bg-green-100 text-green-700":"REJECTED"===(null===(t=u.current_status||u.status)||void 0===t?void 0:t.toUpperCase())?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"),children:On(u.current_status||u.status)}),(0,kt.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(v>=75?"bg-green-100 text-green-700":v>=50?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:[v.toFixed(0),"% Cumplimiento"]})]}),(0,kt.jsxs)("p",{className:"text-sm text-gray-500 font-mono",children:["ID: ",u.project_id]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,kt.jsx)(hn,{projectId:u.project_id||c,projectName:u.project_name}),g&&!m.final_decision&&(0,kt.jsxs)(ft,{to:"/submit?parent=".concat(u.project_id),className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white font-semibold rounded-lg transition-colors flex items-center gap-2 shadow-sm",children:[(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Subir Nueva Versi\xf3n"]}),m.final_decision&&(0,kt.jsxs)("div",{className:"px-4 py-2 rounded-lg ".concat("approved"===m.final_decision?"bg-green-50 border border-green-200":"rejected"===m.final_decision?"bg-red-50 border border-red-200":"bg-gray-50 border border-gray-200"),children:[(0,kt.jsx)("p",{className:"text-xs text-gray-500 uppercase",children:"Decisi\xf3n Final"}),(0,kt.jsx)("p",{className:"font-semibold ".concat("approved"===m.final_decision?"text-green-700":"rejected"===m.final_decision?"text-red-700":"text-gray-700"),children:Pn(m.final_decision)})]})]})]}),g&&!m.final_decision&&(0,kt.jsx)("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,kt.jsx)("svg",{className:"w-5 h-5 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"font-semibold text-amber-800 mb-1",children:"Se requieren ajustes"}),(0,kt.jsx)("p",{className:"text-sm text-amber-700 mb-2",children:1===b.length?"El agente ".concat(b[0].agent_id," ha solicitado ajustes antes de continuar."):"".concat(b.length," agentes han solicitado ajustes antes de continuar.")}),(0,kt.jsx)("p",{className:"text-xs text-amber-600",children:"Revisa las deliberaciones y sube una nueva versi\xf3n del proyecto con los ajustes solicitados."})]})]})}),(0,kt.jsxs)("div",{className:"mb-6",children:[(0,kt.jsx)("p",{className:"text-sm font-medium text-gray-500 mb-3",children:"Progreso del Flujo de Trabajo"}),(0,kt.jsx)(Hn,{currentStage:u.workflow_state,deliberations:p})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,kt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:"Sponsor"}),(0,kt.jsx)("p",{className:"font-semibold text-gray-900",children:u.sponsor_name||"-"}),(0,kt.jsx)("p",{className:"text-xs text-gray-500",children:u.sponsor_email||""})]}),(0,kt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:"Presupuesto"}),(0,kt.jsx)("p",{className:"font-semibold text-gray-900",children:Rn(u.budget_estimate||0)})]}),(0,kt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:"Beneficio Esperado"}),(0,kt.jsx)("p",{className:"font-semibold text-gray-900",children:Rn(u.expected_benefit||0)})]}),(0,kt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:"Deliberaciones"}),(0,kt.jsx)("p",{className:"font-semibold text-gray-900",children:p.length})]})]}),u.description&&(0,kt.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,kt.jsx)("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Descripci\xf3n"}),(0,kt.jsx)("p",{className:"text-gray-700",children:u.description})]})]}),(0,kt.jsx)(aa,{projectId:u.project_id,currentProjectId:u.project_id}),(0,kt.jsx)("div",{className:"mb-6",children:(0,kt.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,kt.jsx)("button",{onClick:()=>i("timeline"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("timeline"===o?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"L\xednea de Tiempo"}),(0,kt.jsx)("button",{onClick:()=>i("incidences"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("incidences"===o?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Incidencias"}),(0,kt.jsx)("button",{onClick:()=>i("documents"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("documents"===o?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Documentos"})]})}),"timeline"===o&&(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Historial de Deliberaciones"}),0===p.length?(0,kt.jsxs)("div",{className:"bg-white rounded-lg p-8 text-center text-gray-500 border border-gray-100",children:[(0,kt.jsx)("svg",{className:"w-12 h-12 mx-auto text-gray-300 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,kt.jsx)("p",{className:"font-medium",children:"No hay deliberaciones registradas"}),(0,kt.jsx)("p",{className:"text-sm mt-1",children:"Las deliberaciones de los agentes aparecer\xe1n aqu\xed"})]}):(0,kt.jsx)("div",{className:"space-y-4",children:p.map((e,t)=>(0,kt.jsx)(Vn,{deliberation:e,documents:x},t))})]}),"incidences"===o&&(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Panel de Incidencias"}),(0,kt.jsx)(qn,{deliberations:p})]}),"documents"===o&&(0,kt.jsx)(Kn,{documents:x,pcloudDocuments:h,bitacoraLink:f}),m.final_justification&&(0,kt.jsxs)("div",{className:"mt-6 bg-blue-50 rounded-lg p-6 border border-blue-100",children:[(0,kt.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Justificaci\xf3n Final"}),(0,kt.jsx)("p",{className:"text-blue-800",children:m.final_justification})]})]})})};function $n(){return(0,kt.jsxs)("div",{className:"App min-h-screen flex flex-col",children:[(0,kt.jsx)(Bn,{}),(0,kt.jsxs)(Pe,{children:[(0,kt.jsx)(Oe,{path:"/login",element:(0,kt.jsx)(Dt,{})}),(0,kt.jsx)(Oe,{path:"/register",element:(0,kt.jsx)(Yt,{})}),(0,kt.jsx)(Oe,{path:"/",element:(0,kt.jsx)(Xt,{})}),(0,kt.jsx)(Oe,{path:"/onboarding",element:(0,kt.jsx)(In,{children:(0,kt.jsx)(_a,{})})}),(0,kt.jsx)(Oe,{path:"/dashboard",element:(0,kt.jsx)(In,{children:(0,kt.jsx)(Un,{})})}),(0,kt.jsx)(Oe,{path:"/nuevo-proyecto",element:(0,kt.jsx)(In,{allowDemo:!0,children:(0,kt.jsx)(Rt,{})})}),(0,kt.jsx)(Oe,{path:"/project/:projectId",element:(0,kt.jsx)(In,{children:(0,kt.jsx)(Gn,{})})}),(0,kt.jsx)(Oe,{path:"/admin",element:(0,kt.jsx)(In,{children:(0,kt.jsx)(sr,{})})}),(0,kt.jsx)(Oe,{path:"/admin/documentacion",element:(0,kt.jsx)(In,{children:(0,kt.jsx)(_r,{})})}),(0,kt.jsx)(Oe,{path:"/admin/clientes",element:(0,kt.jsx)(In,{children:(0,kt.jsx)(tn,{})})}),(0,kt.jsx)(Oe,{path:"/metrics",element:(0,kt.jsx)(In,{children:(0,kt.jsx)(Lr,{})})}),(0,kt.jsx)(Oe,{path:"/costs",element:(0,kt.jsx)(Tr,{})}),(0,kt.jsx)(Oe,{path:"/costs-dashboard",element:(0,kt.jsx)(Tr,{})}),(0,kt.jsx)(Oe,{path:"/durezza",element:(0,kt.jsx)(In,{children:(0,kt.jsx)(a.Suspense,{fallback:(0,kt.jsx)(An,{}),children:(0,kt.jsx)(_n,{})})})}),(0,kt.jsx)(Oe,{path:"/templates",element:(0,kt.jsx)(Ka,{})}),(0,kt.jsx)(Oe,{path:"/empresas",element:(0,kt.jsx)(In,{children:(0,kt.jsx)(Fr,{})})}),(0,kt.jsx)(Oe,{path:"/empresas/nueva",element:(0,kt.jsx)(In,{children:(0,kt.jsx)(Kr,{})})}),(0,kt.jsx)(Oe,{path:"/empresa/:empresaId/configuracion",element:(0,kt.jsx)(In,{children:(0,kt.jsx)(ra,{})})}),(0,kt.jsx)(Oe,{path:"/proveedores",element:(0,kt.jsx)(In,{children:(0,kt.jsx)(Ya,{})})}),(0,kt.jsx)(Oe,{path:"/biblioteca",element:(0,kt.jsx)(In,{children:(0,kt.jsx)(La,{})})}),(0,kt.jsx)(Oe,{path:"/estado-acervo",element:(0,kt.jsx)(In,{children:(0,kt.jsx)(Ma,{})})}),(0,kt.jsx)(Oe,{path:"/disenar",element:(0,kt.jsx)(In,{children:(0,kt.jsx)(Fa,{})})}),(0,kt.jsx)(Oe,{path:"/agent-checklist",element:(0,kt.jsx)(In,{children:(0,kt.jsx)(Wa,{})})}),(0,kt.jsx)(Oe,{path:"/repositorio",element:(0,kt.jsx)(In,{children:(0,kt.jsx)(pn,{})})}),(0,kt.jsx)(Oe,{path:"/agentes",element:(0,kt.jsx)(In,{children:(0,kt.jsx)(En,{})})})]}),(0,kt.jsx)(nn,{}),(0,kt.jsx)(ln,{})]})}const Jn=function(){return(0,kt.jsx)(xt,{children:(0,kt.jsx)(zt,{children:(0,kt.jsx)($n,{})})})};n.createRoot(document.getElementById("root")).render((0,kt.jsx)(a.StrictMode,{children:(0,kt.jsx)(Jn,{})}))})();
//# sourceMappingURL=main.891fd579.js.map
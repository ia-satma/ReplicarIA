"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[767],{767:(e,a,s)=>{s.r(a),s.d(a,{ProjectActions:()=>o,default:()=>B});var t=s(43),r=s(722),l=s(579);const o=e=>{var a,s,o,d,i,n,c,x,m,u,g;let{projectId:b,projectData:p,onResultsUpdate:h}=e;const[v,f]=(0,t.useState)(!1),[j,N]=(0,t.useState)(!1),[k,y]=(0,t.useState)(null),[w,_]=(0,t.useState)(null),C=e=>{switch(null===e||void 0===e?void 0:e.toUpperCase()){case"CRITICAL":return"text-red-600 bg-red-100";case"HIGH":return"text-orange-600 bg-orange-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"LOW":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};return(0,l.jsxs)("div",{className:"mt-6 p-4 bg-gradient-to-r from-slate-800 to-slate-900 rounded-xl border border-slate-700",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-2xl",children:"\ud83d\udd04"})," Loops Iterativos"]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-3 mb-4",children:[(0,l.jsx)("button",{onClick:async()=>{f(!0),_(null);try{const e=((null===p||void 0===p?void 0:p.documents)||(null===p||void 0===p?void 0:p.documentos)||[]).map((e,a)=>({id:e.id||e._id||"doc-".concat(a),name:e.name||e.nombre||e.filename,path:e.path||e.filePath||e.file_path,type:e.type||e.tipo||"evidencia",expected_data:{monto:(null===p||void 0===p?void 0:p.monto_contrato)||(null===p||void 0===p?void 0:p.montoContrato),rfc_proveedor:(null===p||void 0===p?void 0:p.rfc_proveedor)||(null===p||void 0===p?void 0:p.rfcProveedor),fecha:(null===p||void 0===p?void 0:p.fecha_contrato)||(null===p||void 0===p?void 0:p.fechaContrato)}})),a=await r.A.post("/api/loops/projects/".concat(b,"/validate-all-documents"),{documents:e});y({type:"ocr",data:a.data}),h&&h("ocr",a.data)}catch(s){var e,a;console.error("Error validating:",s),_((null===(e=s.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.detail)||s.message)}f(!1)},disabled:v,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center gap-2 font-medium",children:v?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"animate-spin",children:"\u23f3"})," Validando OCR..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:"\ud83d\udd0d"})," Validar Documentos (Loop)"]})}),(0,l.jsx)("button",{onClick:async()=>{N(!0),_(null);try{const e={tipologia:(null===p||void 0===p?void 0:p.tipologia)||(null===p||void 0===p?void 0:p.category),monto_contrato:(null===p||void 0===p?void 0:p.monto_contrato)||(null===p||void 0===p?void 0:p.montoContrato)||(null===p||void 0===p?void 0:p.amount),descripcion_servicio:(null===p||void 0===p?void 0:p.descripcion)||(null===p||void 0===p?void 0:p.description),justificacion_economica:(null===p||void 0===p?void 0:p.justificacion_economica)||(null===p||void 0===p?void 0:p.justificacionEconomica),beneficio_esperado:(null===p||void 0===p?void 0:p.beneficio_esperado)||(null===p||void 0===p?void 0:p.beneficioEsperado),risk_score:(null===p||void 0===p?void 0:p.risk_score)||(null===p||void 0===p?void 0:p.riskScore)||0,documentos:((null===p||void 0===p?void 0:p.documents)||(null===p||void 0===p?void 0:p.documentos)||[]).map(e=>({tipo:e.type||e.tipo,existe:!(!e.path&&!e.filePath),validado:e.validated||e.validado||!1})),resultados_agentes:(null===p||void 0===p?void 0:p.deliberations)||(null===p||void 0===p?void 0:p.resultadosAgentes)||[]},a=await r.A.post("/api/loops/projects/".concat(b,"/red-team-simulation"),{project_data:e});y({type:"redteam",data:a.data}),h&&h("redteam",a.data)}catch(s){var e,a;console.error("Error in simulation:",s),_((null===(e=s.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.detail)||s.message)}N(!1)},disabled:j,className:"px-4 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center gap-2 font-medium",children:j?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"animate-pulse",children:"\u2694\ufe0f"})," Simulando ataque..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:"\ud83d\udee1\ufe0f"})," Simulaci\xf3n Red Team"]})})]}),w&&(0,l.jsxs)("div",{className:"p-3 bg-red-900/50 border border-red-500 rounded-lg text-red-200 text-sm mb-4",children:[(0,l.jsx)("strong",{children:"Error:"})," ",w]}),k&&(0,l.jsxs)("div",{className:"mt-4 p-4 bg-slate-700/50 rounded-lg",children:["ocr"===k.type&&(null===(a=k.data)||void 0===a?void 0:a.success)&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[(0,l.jsx)("span",{children:"\ud83d\udcc4"})," Resultados OCR Validation"]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,l.jsxs)("div",{className:"bg-green-900/30 p-3 rounded-lg text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-400",children:k.data.validated||0}),(0,l.jsx)("div",{className:"text-xs text-green-300",children:"Validados"})]}),(0,l.jsxs)("div",{className:"bg-yellow-900/30 p-3 rounded-lg text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:k.data.requires_review||0}),(0,l.jsx)("div",{className:"text-xs text-yellow-300",children:"Requieren Revisi\xf3n"})]}),(0,l.jsxs)("div",{className:"bg-red-900/30 p-3 rounded-lg text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-red-400",children:k.data.failed||0}),(0,l.jsx)("div",{className:"text-xs text-red-300",children:"Fallidos"})]})]}),(0,l.jsxs)("div",{className:"text-sm text-slate-300",children:["Tasa de \xe9xito: ",(0,l.jsxs)("span",{className:"text-white font-medium",children:[(100*(k.data.success_rate||0)).toFixed(0),"%"]})]})]}),"redteam"===k.type&&(null===(s=k.data)||void 0===s?void 0:s.success)&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[(0,l.jsx)("span",{children:"\ud83d\udee1\ufe0f"})," Resultados Red Team Simulation"]}),(0,l.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,l.jsx)("div",{className:"px-4 py-2 rounded-lg font-bold ".concat(null!==(o=k.data.data)&&void 0!==o&&o.bulletproof?"bg-green-600 text-white":"bg-red-600 text-white"),children:null!==(d=k.data.data)&&void 0!==d&&d.bulletproof?"\u2705 BULLETPROOF":"\u26a0\ufe0f VULNERABLE"}),(0,l.jsxs)("div",{className:"px-3 py-1 rounded ".concat(C(null===(i=k.data.data)||void 0===i?void 0:i.nivel_riesgo)),children:["Riesgo: ",null===(n=k.data.data)||void 0===n?void 0:n.nivel_riesgo]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[(0,l.jsxs)("div",{className:"text-slate-300",children:["Vectores testeados: ",(0,l.jsx)("span",{className:"text-white font-medium",children:(null===(c=k.data.data)||void 0===c?void 0:c.vectores_testeados)||0})]}),(0,l.jsxs)("div",{className:"text-slate-300",children:["Vulnerabilidades: ",(0,l.jsx)("span",{className:"text-white font-medium",children:(null===(x=k.data.data)||void 0===x?void 0:x.vulnerabilidades_encontradas)||0})]})]}),(null===(m=k.data.data)||void 0===m||null===(u=m.vulnerabilidades)||void 0===u?void 0:u.length)>0&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("h5",{className:"text-white text-sm font-medium mb-2",children:"Vulnerabilidades encontradas:"}),(0,l.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:k.data.data.vulnerabilidades.map((e,a)=>(0,l.jsxs)("div",{className:"p-3 bg-slate-800 rounded-lg text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,l.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium ".concat(C(e.severity)),children:e.severity}),(0,l.jsx)("span",{className:"text-slate-400",children:e.vector_name})]}),(0,l.jsx)("p",{className:"text-slate-200",children:e.description}),e.recommendation&&(0,l.jsxs)("p",{className:"text-green-400 text-xs mt-1",children:["\ud83d\udca1 ",e.recommendation]})]},a))})]}),(0,l.jsxs)("div",{className:"mt-4 p-3 bg-slate-800 rounded-lg text-sm text-slate-300",children:[(0,l.jsx)("strong",{children:"Conclusi\xf3n:"})," ",null===(g=k.data.data)||void 0===g?void 0:g.conclusion]})]})]})]})};var d=s(555);const i=r.A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL?"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,"/api"):"/api"});i.interceptors.request.use(e=>{const a=localStorage.getItem("auth_token"),s=localStorage.getItem("empresa_id")||"demo-empresa-001";return a&&(e.headers.Authorization="Bearer ".concat(a)),e.headers["X-Empresa-ID"]=s,e});const n={critica:"bg-red-100 text-red-800 border-red-300",alta:"bg-orange-100 text-orange-800 border-orange-300",media:"bg-yellow-100 text-yellow-800 border-yellow-300",baja:"bg-blue-100 text-blue-800 border-blue-300",info:"bg-gray-100 text-gray-800 border-gray-300"},c={creacion:"\ud83c\udd95",documento_agregado:"\ud83d\udcc4",documento_eliminado:"\ud83d\uddd1\ufe0f",documento_actualizado:"\ud83d\udcdd",validacion_ocr:"\ud83d\udd0d",simulacion_red_team:"\ud83d\udee1\ufe0f",correccion_vulnerabilidad:"\u2705",cambio_datos_proyecto:"\ud83d\udcca",comunicacion_proveedor:"\ud83d\udce7",comunicacion_cliente:"\ud83d\udcbc",ajuste_monto:"\ud83d\udcb0",ajuste_fecha:"\ud83d\udcc5",regeneracion_expediente:"\ud83d\udd04",nota_interna:"\ud83d\udccc",aprobacion:"\u2713",rechazo:"\u2717",otro:"\ud83d\udccb"};function x(e){let{proyectoId:a,onClose:s}=e;const[r,o]=(0,t.useState)(null),[x,m]=(0,t.useState)([]),[u,g]=(0,t.useState)([]),[b,p]=(0,t.useState)("resumen"),[h,v]=(0,t.useState)(!0),[f,j]=(0,t.useState)(!1),[N,k]=(0,t.useState)(!1),[y,w]=(0,t.useState)(""),[_,C]=(0,t.useState)({contraparte:"",tipo_contraparte:"proveedor",asunto:"",descripcion:""});(0,t.useEffect)(()=>{a&&E()},[a]);const E=async()=>{v(!0);try{const[e,s,t]=await Promise.all([i.get("/versioning/proyectos/".concat(a)),i.get("/versioning/proyectos/".concat(a,"/versiones")),i.get("/versioning/proyectos/".concat(a,"/bitacora"))]);o(e.data.proyecto),m(s.data.versiones||[]),g(t.data.bitacora||[])}catch(e){console.error("Error cargando datos:",e)}v(!1)},A=async e=>{try{const s=await i.get("/versioning/proyectos/".concat(a,"/bitacora/reporte?formato=").concat(e));if("markdown"===e){const e=new Blob([s.data.contenido],{type:"text/markdown"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="bitacora_".concat(a,".md"),r.click()}else{const e=new Blob([JSON.stringify(s.data,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="bitacora_".concat(a,".json"),r.click()}}catch(s){console.error("Error exportando:",s)}};return h?(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl p-8",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,l.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando historial de cambios..."})]})}):(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,l.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white p-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold",children:"Historial y Control de Cambios"}),r&&(0,l.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,l.jsx)("p",{className:"text-blue-100",children:r.nombre}),(0,l.jsx)("p",{className:"font-mono text-lg",children:r.folio_actual})]})]}),(0,l.jsx)("button",{onClick:s,className:"text-white/80 hover:text-white text-2xl",children:"\u2715"})]}),(0,l.jsx)("div",{className:"flex gap-2 mt-4",children:["resumen","versiones","bitacora"].map(e=>(0,l.jsxs)("button",{onClick:()=>p(e),className:"px-4 py-2 rounded-lg font-medium transition-all ".concat(b===e?"bg-white text-blue-700":"bg-blue-500/30 text-white hover:bg-blue-500/50"),children:["resumen"===e&&"\ud83d\udcca Vista General","versiones"===e&&"\ud83d\udcc1 Historial","bitacora"===e&&"\ud83d\udccb Registro de Actividad"]},e))})]}),(0,l.jsxs)("div",{className:"flex-1 overflow-auto p-6",children:["resumen"===b&&r&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 text-center",children:[(0,l.jsxs)("div",{className:"text-3xl font-bold text-blue-700",children:["v",r.version_actual]}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Versi\xf3n Actual"})]}),(0,l.jsxs)("div",{className:"bg-green-50 rounded-xl p-4 text-center",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-green-700",children:r.total_versiones}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Versiones Creadas"})]}),(0,l.jsxs)("div",{className:"bg-purple-50 rounded-xl p-4 text-center",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-purple-700",children:r.total_entradas_bitacora}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Actividades Registradas"})]}),(0,l.jsxs)("div",{className:"bg-orange-50 rounded-xl p-4 text-center",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-orange-700 capitalize",children:r.estado}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Estado"})]})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:()=>j(!0),className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"\ud83d\udd04 Crear Nueva Versi\xf3n"}),(0,l.jsx)("button",{onClick:()=>k(!0),className:"flex-1 bg-green-600 text-white py-3 rounded-lg font-medium hover:bg-green-700 transition-colors",children:"\ud83d\udce7 Documentar Comunicaci\xf3n"})]}),r.ultima_version&&(0,l.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-700 mb-3",children:"Versi\xf3n M\xe1s Reciente"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Estado:"})," ",r.ultima_version.estado]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Documentos:"})," ",r.ultima_version.documentos]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Puntuaci\xf3n de Riesgo:"})," ",r.ultima_version.risk_score||"N/A"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"PDF:"})," ",r.ultima_version.pdf_generado?"\u2705":"\u274c"]})]})]})]}),"versiones"===b&&(0,l.jsx)("div",{className:"space-y-4",children:x.map((e,a)=>(0,l.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-mono text-lg font-semibold text-blue-700",children:e.folio}),(0,l.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:[new Date(e.fecha_creacion).toLocaleString("es-MX")," por ",e.creado_por]})]}),(0,l.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat("aprobado"===e.estado?"bg-green-100 text-green-800":"borrador"===e.estado?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.estado})]}),(0,l.jsx)("p",{className:"mt-2 text-gray-700",children:e.motivo}),(0,l.jsxs)("div",{className:"mt-3 flex gap-4 text-sm text-gray-500",children:[(0,l.jsxs)("span",{children:["\ud83d\udcc4 ",e.documentos," docs"]}),e.risk_score&&(0,l.jsxs)("span",{children:["\u26a0\ufe0f Riesgo: ",e.risk_score]}),e.pdf_generado&&(0,l.jsx)("span",{children:"\ud83d\udcd5 PDF"}),e.zip_generado&&(0,l.jsx)("span",{children:"\ud83d\udce6 ZIP"})]})]},a))}),"bitacora"===b&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)("button",{onClick:()=>A("markdown"),className:"px-4 py-2 bg-gray-100 rounded-lg text-sm hover:bg-gray-200",children:"\ud83d\udce5 Descargar Markdown"}),(0,l.jsx)("button",{onClick:()=>A("json"),className:"px-4 py-2 bg-gray-100 rounded-lg text-sm hover:bg-gray-200",children:"\ud83d\udce5 Descargar Datos"})]}),u.map((e,a)=>(0,l.jsx)("div",{className:"rounded-xl p-4 border ".concat(n[e.severidad]||n.info),children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("span",{className:"text-2xl",children:c[e.tipo_cambio]||"\ud83d\udccb"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsx)("h4",{className:"font-semibold",children:e.titulo}),(0,l.jsx)("span",{className:"text-xs opacity-70",children:new Date(e.timestamp).toLocaleString("es-MX")})]}),(0,l.jsx)("p",{className:"text-sm mt-1 opacity-80",children:e.descripcion}),(0,l.jsxs)("div",{className:"mt-2 text-xs opacity-60",children:["Por: ",e.usuario,e.es_comunicacion_externa&&" \u2192 ".concat(e.contraparte)]})]})]})},a))]})]}),f&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-60",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Crear Nueva Versi\xf3n"}),(0,l.jsx)("textarea",{value:y,onChange:e=>w(e.target.value),placeholder:"Describe brevemente los cambios realizados...",className:"w-full border rounded-lg p-3 h-32 mb-4"}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:()=>j(!1),className:"flex-1 py-2 border rounded-lg",children:"Cancelar"}),(0,l.jsx)("button",{onClick:async()=>{if(y.trim())try{var e;await i.post("/versioning/proyectos/".concat(a,"/versiones"),{datos_proyecto:(null===r||void 0===r||null===(e=r.ultima_version)||void 0===e?void 0:e.snapshot_proyecto)||{},documentos:[],motivo:y,usuario:"Usuario Dashboard",generar_expediente:!0}),w(""),j(!1),E()}catch(s){console.error("Error creando versi\xf3n:",s)}},className:"flex-1 py-2 bg-blue-600 text-white rounded-lg",children:"Crear Versi\xf3n"})]})]})}),N&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-60",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Documentar Comunicaci\xf3n"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("input",{value:_.contraparte,onChange:e=>C((0,d.A)((0,d.A)({},_),{},{contraparte:e.target.value})),placeholder:"Nombre de la persona o empresa...",className:"w-full border rounded-lg p-3"}),(0,l.jsxs)("select",{value:_.tipo_contraparte,onChange:e=>C((0,d.A)((0,d.A)({},_),{},{tipo_contraparte:e.target.value})),className:"w-full border rounded-lg p-3",children:[(0,l.jsx)("option",{value:"proveedor",children:"Proveedor"}),(0,l.jsx)("option",{value:"cliente",children:"Cliente"})]}),(0,l.jsx)("input",{value:_.asunto,onChange:e=>C((0,d.A)((0,d.A)({},_),{},{asunto:e.target.value})),placeholder:"Asunto...",className:"w-full border rounded-lg p-3"}),(0,l.jsx)("textarea",{value:_.descripcion,onChange:e=>C((0,d.A)((0,d.A)({},_),{},{descripcion:e.target.value})),placeholder:"Detalla la conversaci\xf3n o acuerdo...",className:"w-full border rounded-lg p-3 h-24"})]}),(0,l.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,l.jsx)("button",{onClick:()=>k(!1),className:"flex-1 py-2 border rounded-lg",children:"Cancelar"}),(0,l.jsx)("button",{onClick:async()=>{if(_.contraparte&&_.asunto)try{await i.post("/versioning/proyectos/".concat(a,"/bitacora/comunicacion"),(0,d.A)({usuario:"Usuario Dashboard"},_)),C({contraparte:"",tipo_contraparte:"proveedor",asunto:"",descripcion:""}),k(!1),E()}catch(e){console.error("Error registrando comunicaci\xf3n:",e)}},className:"flex-1 py-2 bg-green-600 text-white rounded-lg",children:"Registrar"})]})]})})]})})}const m=[{value:"SIB_BEE",label:"SIB / BEE (Solicitud Interna / Beneficio Econ\xf3mico Esperado)",fases:["F0"]},{value:"SOW",label:"SOW / Orden de Trabajo",fases:["F1"]},{value:"CONTRATO",label:"Contrato",fases:["F1","F2"]},{value:"ANEXO_TECNICO",label:"Anexo T\xe9cnico",fases:["F1","F2"]},{value:"CRONOGRAMA",label:"Cronograma de Hitos",fases:["F1","F2"]},{value:"MINUTA_KICKOFF",label:"Minuta Kick-off",fases:["F3"]},{value:"ENTREGABLE_V1",label:"Entregable Versi\xf3n 1",fases:["F3"]},{value:"ENTREGABLE_ITERATIVO",label:"Entregable Iterativo",fases:["F4"]},{value:"MINUTA_REVISION",label:"Minuta de Revisi\xf3n",fases:["F4"]},{value:"ENTREGABLE_FINAL",label:"Entregable Final",fases:["F5"]},{value:"ACTA_ACEPTACION",label:"Acta de Aceptaci\xf3n T\xe9cnica",fases:["F5","F6"]},{value:"ESTUDIO_TP",label:"Estudio de Precios de Transferencia",fases:["F6"]},{value:"CFDI",label:"CFDI / Factura",fases:["F8"]},{value:"COMPROBANTE_PAGO",label:"Comprobante de Pago",fases:["F8"]},{value:"EVIDENCIA_EJECUCION",label:"Evidencia de Ejecuci\xf3n",fases:["F3","F4","F5"]},{value:"CORRESPONDENCIA",label:"Correspondencia / Emails",fases:["F0","F1","F2","F3","F4","F5"]},{value:"OTRO",label:"Otro",fases:["F0","F1","F2","F3","F4","F5","F6","F7","F8","F9"]}];const u=function(e){let{proyectoId:a,faseActual:s,onDocumentoCargado:r,onClose:o}=e;const[d,i]=(0,t.useState)(null),[n,c]=(0,t.useState)(""),[x,u]=(0,t.useState)(""),[g,b]=(0,t.useState)(!1),[p,h]=(0,t.useState)(null),[v,f]=(0,t.useState)(!1),j=m.filter(e=>e.fases.includes(s)||"OTRO"===e.value),N=(0,t.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?f(!0):"dragleave"===e.type&&f(!1)},[]),k=(0,t.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),f(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&(i(e.dataTransfer.files[0]),h(null))},[]);return(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 max-w-lg w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:["Cargar Documento - Fase ",s]}),o&&(0,l.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"\u2715"})]}),(0,l.jsxs)("form",{onSubmit:async function(e){if(e.preventDefault(),d)if(n){b(!0),h(null);try{const e=new FormData;e.append("archivo",d),e.append("tipo",n),e.append("descripcion",x||d.name),e.append("fase_asociada",s);const t=await fetch("/api/proyectos/".concat(a,"/documentos"),{method:"POST",body:e}),l=await t.json();t.ok?(i(null),c(""),u(""),r&&r(l)):h(l.error||"Error al cargar el documento")}catch(t){h("Error de conexi\xf3n: "+t.message)}b(!1)}else h("Selecciona el tipo de documento");else h("Selecciona un archivo")},className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de documento *"}),(0,l.jsxs)("select",{value:n,onChange:e=>c(e.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0,children:[(0,l.jsx)("option",{value:"",children:"Seleccionar tipo..."}),j.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descripci\xf3n"}),(0,l.jsx)("input",{type:"text",value:x,onChange:e=>u(e.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Ej: Informe Final V2.0 - Estudio de Mercado NL"})]}),(0,l.jsxs)("div",{onDragEnter:N,onDragLeave:N,onDragOver:N,onDrop:k,className:"\n            border-2 border-dashed rounded-lg p-6 text-center cursor-pointer\n            transition-colors duration-200\n            ".concat(v?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400","\n            ").concat(d?"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-600":"","\n          "),children:[(0,l.jsx)("input",{type:"file",onChange:e=>{if(e.target.files&&e.target.files[0]){const a=e.target.files[0];if(a.size>52428800)return void h("El archivo excede el l\xedmite de 50MB");if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","image/png","image/jpeg","application/xml","text/xml"].includes(a.type)&&!a.name.endsWith(".xml"))return void h("Tipo de archivo no permitido. Use PDF, Word, Excel, PowerPoint, im\xe1genes o XML.");i(a),h(null)}},className:"hidden",id:"file-upload",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.png,.jpg,.jpeg,.xml"}),d?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:"text-green-600 text-4xl",children:"\u2713"}),(0,l.jsx)("div",{className:"font-medium text-gray-800 dark:text-white",children:d.name}),(0,l.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:(y=d.size,y<1024?y+" B":y<1048576?(y/1024).toFixed(1)+" KB":(y/1048576).toFixed(1)+" MB")}),(0,l.jsx)("button",{type:"button",onClick:()=>i(null),className:"text-sm text-red-600 hover:text-red-800",children:"Cambiar archivo"})]}):(0,l.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,l.jsx)("div",{className:"text-gray-400 text-4xl mb-2",children:"\ud83d\udcc4"}),(0,l.jsxs)("div",{className:"text-gray-600 dark:text-gray-300",children:["Arrastra un archivo aqu\xed o ",(0,l.jsx)("span",{className:"text-blue-600",children:"selecci\xf3nalo"})]}),(0,l.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"PDF, Word, Excel, PowerPoint, im\xe1genes o XML (m\xe1x. 50MB)"})]})]}),p&&(0,l.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded-md text-sm",children:p}),(0,l.jsxs)("div",{className:"flex gap-3",children:[o&&(0,l.jsx)("button",{type:"button",onClick:o,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),(0,l.jsx)("button",{type:"submit",disabled:g||!d||!n,className:"\n              flex-1 px-4 py-2 rounded-md text-white font-medium\n              ".concat(!g&&d&&n?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed","\n            "),children:g?(0,l.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,l.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Cargando..."]}):"Cargar Documento"})]})]}),(0,l.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-md text-xs text-gray-600 dark:text-gray-300",children:[(0,l.jsxs)("strong",{children:["Documentos sugeridos para ",s,":"]}),(0,l.jsx)("ul",{className:"mt-1 list-disc list-inside",children:j.slice(0,4).map(e=>(0,l.jsx)("li",{children:e.label},e.value))})]})]});var y};const g=function(e){let{proyectoId:a,faseActual:s,refreshTrigger:r}=e;const[o,d]=(0,t.useState)([]),[i,n]=(0,t.useState)(!0),[c,x]=(0,t.useState)("TODAS"),m=(0,t.useCallback)(async()=>{if(a){n(!0);try{const e=await fetch("/api/proyectos/".concat(a,"/documentos")),s=await e.json();d(s.documentos||s||[])}catch(e){console.error("Error cargando documentos:",e)}n(!1)}},[a]);(0,t.useEffect)(()=>{m()},[m,r]);const u="TODAS"===c?o:o.filter(e=>e.fase_asociada===c),g=e=>{const a={SIB_BEE:"\ud83d\udccb",SOW:"\ud83d\udcdd",CONTRATO:"\ud83d\udcdc",CFDI:"\ud83e\uddfe",ENTREGABLE_FINAL:"\ud83d\udce6",ENTREGABLE_V1:"\ud83d\udce6",ENTREGABLE_ITERATIVO:"\ud83d\udce6",MINUTA_KICKOFF:"\ud83d\udcd1",MINUTA_REVISION:"\ud83d\udcd1",EVIDENCIA_EJECUCION:"\ud83d\udcf8",ACTA_ACEPTACION:"\u2705",ESTUDIO_TP:"\ud83d\udcca",COMPROBANTE_PAGO:"\ud83d\udcb3",CORRESPONDENCIA:"\ud83d\udce7",ANEXO_TECNICO:"\ud83d\udcce",CRONOGRAMA:"\ud83d\udcc5",default:"\ud83d\udcc4"};return a[e]||a.default};return i?(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-8 text-center",children:[(0,l.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-3"}),(0,l.jsx)("div",{className:"text-gray-500 dark:text-gray-400",children:"Cargando documentos..."})]}):(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[(0,l.jsxs)("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[(0,l.jsxs)("h3",{className:"font-bold text-gray-800 dark:text-white",children:["Documentos del Proyecto (",o.length,")"]}),(0,l.jsxs)("select",{value:c,onChange:e=>x(e.target.value),className:"border dark:border-gray-600 rounded px-2 py-1 text-sm dark:bg-gray-700 dark:text-white",children:[(0,l.jsx)("option",{value:"TODAS",children:"Todas las fases"}),["F0","F1","F2","F3","F4","F5","F6","F7","F8","F9"].map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),0===u.length?(0,l.jsxs)("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:[(0,l.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcc2"}),(0,l.jsxs)("div",{children:["No hay documentos ","TODAS"!==c?"en fase ".concat(c):""]})]}):(0,l.jsx)("ul",{className:"divide-y dark:divide-gray-700",children:u.map(e=>{return(0,l.jsxs)("li",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-4",children:[(0,l.jsx)("span",{className:"text-2xl",children:g(e.tipo)}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("div",{className:"font-medium text-gray-800 dark:text-white truncate",children:e.descripcion||e.nombre_archivo}),(0,l.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex flex-wrap gap-3",children:[(0,l.jsx)("span",{className:"bg-gray-100 dark:bg-gray-600 px-2 py-0.5 rounded",children:e.fase_asociada}),(0,l.jsx)("span",{children:(s=e.tipo,s?s.replace(/_/g," "):"-")}),(0,l.jsx)("span",{children:(a=e.fecha_carga,a?new Date(a).toLocaleDateString("es-MX",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-")})]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[e.url_descarga&&(0,l.jsx)("a",{href:e.url_descarga,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 text-sm bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-800",children:"Ver"}),e.pcloud_link&&(0,l.jsx)("a",{href:e.pcloud_link,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 text-sm bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 rounded hover:bg-green-200 dark:hover:bg-green-800",children:"pCloud"})]})]},e.id);var a,s})})]})};const b=function(e){let{isOpen:a,onClose:s,children:r}=e;return(0,t.useEffect)(()=>(document.body.style.overflow=a?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[a]),a?(0,l.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:s,children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),(0,l.jsx)("div",{className:"relative z-10",onClick:e=>e.stopPropagation(),children:r})]}):null};const p=r.A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL?"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,"/api"):"/api",headers:{"Content-Type":"application/json","Cache-Control":"no-cache"}}),h=e=>{let{className:a}=e;return(0,l.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2"}),(0,l.jsx)("circle",{cx:"12",cy:"5",r:"2"}),(0,l.jsx)("path",{d:"M12 7v4"}),(0,l.jsx)("line",{x1:"8",y1:"16",x2:"8",y2:"16"}),(0,l.jsx)("line",{x1:"16",y1:"16",x2:"16",y2:"16"})]})},v=e=>{let{className:a}=e;return(0,l.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),(0,l.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),(0,l.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})},f=e=>{let{className:a}=e;return(0,l.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,l.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})},j=e=>{let{className:a}=e;return(0,l.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("polyline",{points:"20 6 9 17 4 12"})})},N=e=>{let{className:a}=e;return(0,l.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),(0,l.jsx)("path",{d:"M9 12l2 2 4-4"})]})},k=e=>{let{className:a}=e;return(0,l.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})},y=e=>{let{className:a}=e;return(0,l.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"5"}),(0,l.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),(0,l.jsx)("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),(0,l.jsx)("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),(0,l.jsx)("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),(0,l.jsx)("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),(0,l.jsx)("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),(0,l.jsx)("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),(0,l.jsx)("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})},w=e=>{let{className:a}=e;return(0,l.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),(0,l.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),(0,l.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})},_=e=>{let{className:a}=e;return(0,l.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),(0,l.jsx)("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]})},C=e=>{let{className:a}=e;return(0,l.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,l.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,l.jsx)("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})},E=e=>{let{className:a}=e;return(0,l.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,l.jsx)("polyline",{points:"12 6 12 12 16 14"})]})},A=e=>e>=1e6?"$".concat((e/1e6).toFixed(1),"M MXN"):new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e),S={kpis:{diagnosticos_activos:6,ajustes_solicitados:54,ajustes_resueltos:24,versiones_totales:17,monto_en_revision:152e5},distribucion_riesgo:{critico:1,alto:1,medio:2,bajo:2},proveedores:[{id:"PROV-001",nombre:"TechSoft Solutions SA de CV",rfc:"TSO150312AB1",proyecto:"Licencias ERP 2024",monto:25e5,fase:"A3",progreso:65,ajustes_sol:8,ajustes_res:5,dias_sin_act:2,riesgo:"medio"},{id:"PROV-002",nombre:"Cloud Services MX",rfc:"CSM180924XY2",proyecto:"Infraestructura Cloud Q4",monto:42e5,fase:"A6",progreso:35,ajustes_sol:12,ajustes_res:3,dias_sin_act:7,riesgo:"alto"},{id:"PROV-003",nombre:"Digital Marketing Pro",rfc:"DMP200115ZZ3",proyecto:"Campa\xf1a Digital 2024",monto:85e4,fase:"A7",progreso:90,ajustes_sol:4,ajustes_res:4,dias_sin_act:1,riesgo:"bajo"},{id:"PROV-004",nombre:"Consultor\xeda Estrat\xe9gica SA",rfc:"CES190507AA4",proyecto:"Asesor\xeda Fiscal Especial",monto:18e5,fase:"A6",progreso:20,ajustes_sol:15,ajustes_res:2,dias_sin_act:14,riesgo:"critico"},{id:"PROV-005",nombre:"Software Factory MX",rfc:"SFM170823BB5",proyecto:"Desarrollo App M\xf3vil",monto:31e5,fase:"A7",progreso:85,ajustes_sol:6,ajustes_res:6,dias_sin_act:0,riesgo:"bajo"},{id:"PROV-006",nombre:"Data Analytics Corp",rfc:"DAC210302CC6",proyecto:"BI Dashboard Enterprise",monto:275e4,fase:"A3",progreso:50,ajustes_sol:9,ajustes_res:4,dias_sin_act:5,riesgo:"medio"}]};function F(e){let{subagent:a,index:s}=e;return(0,l.jsxs)("div",{className:"glass-card-hover p-3 sm:p-4 flex items-center justify-between gap-3 transition-all duration-300 cursor-default animate-fade-in",style:{animationDelay:"".concat(50*s,"ms")},children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,l.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,l.jsx)("div",{className:"w-2.5 h-2.5 rounded-full ".concat(a.puede_bloquear?"bg-rose-500":"bg-emerald-500")}),(0,l.jsx)("div",{className:"absolute inset-0 w-2.5 h-2.5 rounded-full ".concat(a.puede_bloquear?"bg-rose-500":"bg-emerald-500"," animate-pulse-ring")})]}),(0,l.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,l.jsx)("p",{className:"font-medium text-slate-800 dark:text-slate-100 text-sm truncate",children:a.id}),(0,l.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:a.fases.join(", ")})]})]}),a.puede_bloquear?(0,l.jsx)("span",{className:"text-xs bg-rose-100 dark:bg-rose-900/50 text-rose-700 dark:text-rose-300 px-2.5 py-1 rounded-lg font-medium border border-rose-200 dark:border-rose-800 flex-shrink-0 whitespace-nowrap",children:"Bloquea"}):(0,l.jsx)("span",{className:"text-xs bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 px-2.5 py-1 rounded-lg font-medium border border-emerald-200 dark:border-emerald-800 flex-shrink-0 whitespace-nowrap",children:"Activo"})]})}function O(e){let{alerta:a}=e;const s={CRITICA:{bg:"bg-gradient-to-r from-rose-50 to-red-50 dark:from-rose-900/30 dark:to-red-900/30",border:"border-l-4 border-rose-500",badge:"bg-rose-200 dark:bg-rose-800 text-rose-800 dark:text-rose-200"},ALTA:{bg:"bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/30 dark:to-amber-900/30",border:"border-l-4 border-orange-500",badge:"bg-orange-200 dark:bg-orange-800 text-orange-800 dark:text-orange-200"},MEDIA:{bg:"bg-gradient-to-r from-yellow-50 to-amber-50 dark:from-yellow-900/30 dark:to-amber-900/30",border:"border-l-4 border-yellow-500",badge:"bg-yellow-200 dark:bg-yellow-800 text-yellow-800 dark:text-yellow-200"}},t=s[a.severidad]||s.MEDIA;return(0,l.jsxs)("div",{className:"p-3 rounded-lg text-xs ".concat(t.bg," ").concat(t.border," transition-all duration-200 hover:shadow-md"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-1.5 flex-wrap",children:[(0,l.jsx)("span",{className:"font-semibold text-slate-800 dark:text-slate-100",children:a.tipo_riesgo}),(0,l.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium ".concat(t.badge),children:a.severidad}),a.bloquea_avance&&(0,l.jsxs)("span",{className:"px-2 py-0.5 bg-gradient-to-r from-red-600 to-rose-600 text-white rounded-full text-xs font-bold flex items-center gap-1",children:[(0,l.jsx)(f,{className:"w-3 h-3"}),"BLOQUEA"]})]}),(0,l.jsx)("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed",children:a.descripcion})]})}function T(e){let{faseActual:a,fasesCompletadas:s=[]}=e;const t=[{id:"F0",nombre:"Aprobaci\xf3n BEE",candado:!1},{id:"F1",nombre:"Pre-contrataci\xf3n",candado:!1},{id:"F2",nombre:"Validaci\xf3n inicio",candado:!0},{id:"F3",nombre:"Ejecuci\xf3n inicial",candado:!1},{id:"F4",nombre:"Revisi\xf3n iterativa",candado:!1},{id:"F5",nombre:"Entrega final",candado:!1},{id:"F6",nombre:"VBC Fiscal/Legal",candado:!0},{id:"F7",nombre:"Auditor\xeda interna",candado:!1},{id:"F8",nombre:"CFDI y pago",candado:!0},{id:"F9",nombre:"Post-implementaci\xf3n",candado:!1}];const r=t.findIndex(e=>e.id===a)/(t.length-1)*100;return(0,l.jsxs)("div",{className:"relative min-w-[800px] lg:min-w-0",children:[(0,l.jsx)("div",{className:"absolute top-6 left-0 right-0 h-2 bg-slate-200 dark:bg-slate-700 rounded-full"}),(0,l.jsx)("div",{className:"absolute top-6 left-0 h-2 bg-gradient-to-r from-blue-500 via-indigo-500 to-violet-500 rounded-full transition-all duration-1000 ease-out shadow-lg shadow-blue-500/30",style:{width:"".concat(r,"%")}}),(0,l.jsx)("div",{className:"relative flex justify-between",children:t.map((e,r)=>{const o=function(e){if(s.includes(e))return"completada";if(e===a)return"actual";const r=t.findIndex(e=>e.id===a);return t.findIndex(a=>a.id===e)<r?"completada":"pendiente"}(e.id);return(0,l.jsxs)("div",{className:"flex flex-col items-center group",style:{width:"10%"},children:[(0,l.jsx)("div",{className:"\n                w-12 h-12 rounded-full flex items-center justify-center text-sm font-bold\n                transition-all duration-300 relative z-10 border-4\n                ".concat("completada"===o?"bg-gradient-to-br from-emerald-400 to-green-500 text-white border-emerald-300 dark:border-emerald-600 shadow-lg shadow-emerald-500/30":"actual"===o?"bg-gradient-to-br from-blue-500 to-indigo-600 text-white border-blue-300 dark:border-blue-600 ring-4 ring-blue-200 dark:ring-blue-900 shadow-xl shadow-blue-500/40 scale-110":"bg-slate-100 dark:bg-slate-700 text-slate-400 dark:text-slate-500 border-slate-200 dark:border-slate-600","\n                ").concat(e.candado&&"completada"!==o?"ring-2 ring-rose-300 dark:ring-rose-700":"","\n                group-hover:scale-110\n              "),children:e.candado&&"completada"!==o?(0,l.jsx)(f,{className:"w-5 h-5 text-rose-500 dark:text-rose-400"}):"completada"===o?(0,l.jsx)(j,{className:"w-5 h-5"}):(0,l.jsx)("span",{className:"text-xs",children:e.id})}),(0,l.jsx)("div",{className:"mt-3 text-xs text-center text-slate-600 dark:text-slate-400 leading-tight font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-200 w-20",children:e.nombre}),e.candado&&(0,l.jsxs)("div",{className:"text-xs text-rose-500 dark:text-rose-400 mt-1 font-semibold flex items-center gap-1",children:[(0,l.jsx)(f,{className:"w-3 h-3"}),"Candado"]})]},e.id)})})]})}function D(e){let{title:a,message:s,icon:t,actionLabel:r,onAction:o}=e;return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[(0,l.jsx)("div",{className:"w-16 h-16 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center mb-4",children:t?(0,l.jsx)(t,{className:"w-8 h-8 text-slate-400 dark:text-slate-500"}):(0,l.jsx)(N,{className:"w-8 h-8 text-slate-400 dark:text-slate-500"})}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300 mb-2",children:a}),(0,l.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 max-w-sm mb-4",children:s}),r&&o&&(0,l.jsx)("button",{onClick:o,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg text-sm font-medium hover:from-blue-600 hover:to-indigo-700 transition-all shadow-lg shadow-blue-500/30",children:r})]})}function R(e){let{razonNegocios:a,beneficioEconomico:s,materialidad:t,trazabilidad:r}=e;const o=a+s+t+r,d=[{nombre:"Raz\xf3n de Negocios",valor:a,max:25,gradient:"from-blue-500 to-cyan-500",icon:"\ud83c\udfaf",descripcion:"Art. 5-A CFF"},{nombre:"Beneficio Econ\xf3mico",valor:s,max:25,gradient:"from-emerald-500 to-green-500",icon:"\ud83d\udcc8",descripcion:"ROI documentado"},{nombre:"Materialidad",valor:t,max:25,gradient:"from-violet-500 to-purple-500",icon:"\ud83d\udce6",descripcion:"Art. 69-B CFF"},{nombre:"Trazabilidad",valor:r,max:25,gradient:"from-orange-500 to-amber-500",icon:"\ud83d\udd17",descripcion:"NOM-151"}],i=(n=o)<30?{label:"BAJO",color:"text-emerald-600 dark:text-emerald-400",stroke:"stroke-emerald-500",bg:"bg-emerald-100 dark:bg-emerald-900/50"}:n<50?{label:"MODERADO",color:"text-amber-600 dark:text-amber-400",stroke:"stroke-amber-500",bg:"bg-amber-100 dark:bg-amber-900/50"}:n<70?{label:"ALTO",color:"text-orange-600 dark:text-orange-400",stroke:"stroke-orange-500",bg:"bg-orange-100 dark:bg-orange-900/50"}:{label:"CRITICO",color:"text-rose-600 dark:text-rose-400",stroke:"stroke-rose-500",bg:"bg-rose-100 dark:bg-rose-900/50"};var n;const c=2*Math.PI*54,x=c-o/100*c;return(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 sm:gap-8 items-center justify-center lg:justify-start",children:[(0,l.jsxs)("div",{className:"flex-shrink-0 text-center",children:[(0,l.jsxs)("div",{className:"relative w-32 sm:w-40 h-32 sm:h-40",children:[(0,l.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 120 120",children:[(0,l.jsx)("circle",{cx:"60",cy:"60",r:"54",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-slate-200 dark:text-slate-700"}),(0,l.jsx)("circle",{cx:"60",cy:"60",r:"54",strokeWidth:"8",fill:"none",strokeLinecap:"round",className:"".concat(i.stroke," transition-all duration-1000 ease-out"),style:{strokeDasharray:c,strokeDashoffset:x}})]}),(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,l.jsx)("span",{className:"text-4xl font-bold ".concat(i.color),children:o}),(0,l.jsx)("span",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:"/100"})]})]}),(0,l.jsx)("div",{className:"mt-3 inline-block px-4 py-1.5 rounded-full ".concat(i.bg," ").concat(i.color," font-bold text-sm"),children:i.label})]}),(0,l.jsx)("div",{className:"flex-1 w-full space-y-4",children:d.map((e,a)=>{const s=((e,a)=>{const s=e/a*100;return s<40?{label:"Bajo",color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-100 dark:bg-emerald-900/50"}:s<60?{label:"Medio",color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-100 dark:bg-amber-900/50"}:s<80?{label:"Alto",color:"text-orange-600 dark:text-orange-400",bg:"bg-orange-100 dark:bg-orange-900/50"}:{label:"Cr\xedtico",color:"text-rose-600 dark:text-rose-400",bg:"bg-rose-100 dark:bg-rose-900/50"}})(e.valor,e.max);return(0,l.jsxs)("div",{className:"group",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center text-sm mb-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-lg",children:e.icon}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-slate-600 dark:text-slate-300 font-medium group-hover:text-slate-900 dark:group-hover:text-white transition-colors",children:e.nombre}),(0,l.jsx)("span",{className:"text-xs text-slate-400 dark:text-slate-500 ml-2 hidden sm:inline",children:e.descripcion})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("span",{className:"font-bold text-slate-800 dark:text-slate-100",children:[e.valor,"/",e.max]}),(0,l.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full ".concat(s.bg," ").concat(s.color," font-medium"),children:s.label})]})]}),(0,l.jsx)("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden shadow-inner",children:(0,l.jsx)("div",{className:"h-full bg-gradient-to-r ".concat(e.gradient," rounded-full transition-all duration-1000 ease-out shadow-lg"),style:{width:"".concat(e.valor/e.max*100,"%")}})})]},a)})})]})}function I(e){let{title:a,value:s,subtitle:t,icon:r,gradientFrom:o,gradientTo:d,delay:i,isLarge:n}=e;return(0,l.jsx)("div",{className:"group glass-card-hover p-4 sm:p-5 animate-fade-in-up ".concat(n?"col-span-2 lg:col-span-1":""),style:{animationDelay:"".concat(i,"ms")},children:(0,l.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 font-medium truncate",children:a}),(0,l.jsx)("p",{className:"".concat(n?"text-xl sm:text-2xl":"text-2xl sm:text-3xl"," font-bold mt-2 text-slate-900 dark:text-white"),children:s}),t&&(0,l.jsx)("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mt-1",children:t})]}),(0,l.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center text-xl sm:text-2xl shadow-lg group-hover:shadow-xl transition-all duration-300 flex-shrink-0",style:{background:"linear-gradient(135deg, ".concat(o,", ").concat(d,")")},children:r})]})})}function L(e){let{label:a,count:s,color:t,bgColor:r,borderColor:o}=e;return(0,l.jsxs)("div",{className:"".concat(r," ").concat(o," border-2 rounded-xl p-4 text-center transition-all duration-300 hover:shadow-lg hover:scale-105"),children:[(0,l.jsx)("div",{className:"text-3xl sm:text-4xl font-bold mb-1",style:{color:t},children:s}),(0,l.jsx)("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:a})]})}function P(e){let{proveedor:a}=e;const s={critico:{bg:"bg-red-100 dark:bg-red-900/50",text:"text-red-700 dark:text-red-300",border:"border-red-200 dark:border-red-800",label:"Cr\xedtico"},alto:{bg:"bg-amber-100 dark:bg-amber-900/50",text:"text-amber-700 dark:text-amber-300",border:"border-amber-200 dark:border-amber-800",label:"Alto"},medio:{bg:"bg-blue-100 dark:bg-blue-900/50",text:"text-blue-700 dark:text-blue-300",border:"border-blue-200 dark:border-blue-800",label:"Medio"},bajo:{bg:"bg-green-100 dark:bg-green-900/50",text:"text-green-700 dark:text-green-300",border:"border-green-200 dark:border-green-800",label:"Bajo"}},t={A3:{bg:"bg-violet-100 dark:bg-violet-900/50",text:"text-violet-700 dark:text-violet-300"},A6:{bg:"bg-blue-100 dark:bg-blue-900/50",text:"text-blue-700 dark:text-blue-300"},A7:{bg:"bg-emerald-100 dark:bg-emerald-900/50",text:"text-emerald-700 dark:text-emerald-300"}},r=s[a.riesgo]||s.medio,o=t[a.fase]||t.A3;return(0,l.jsxs)("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[(0,l.jsx)("td",{className:"px-4 py-4",children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"font-medium text-slate-800 dark:text-slate-100 text-sm",children:a.nombre}),(0,l.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:a.rfc})]})}),(0,l.jsx)("td",{className:"px-4 py-4",children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"font-medium text-slate-700 dark:text-slate-200 text-sm",children:a.proyecto}),(0,l.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:A(a.monto)})]})}),(0,l.jsx)("td",{className:"px-4 py-4 text-center",children:(0,l.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-bold ".concat(o.bg," ").concat(o.text),children:a.fase})}),(0,l.jsx)("td",{className:"px-4 py-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-2 min-w-[120px]",children:[(0,l.jsx)("div",{className:"flex-1 h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full transition-all duration-500",style:{width:"".concat(a.progreso,"%")}})}),(0,l.jsxs)("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 w-8",children:[a.progreso,"%"]})]})}),(0,l.jsx)("td",{className:"px-4 py-4 text-center",children:(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsxs)("span",{className:"text-sm font-medium text-slate-800 dark:text-slate-100",children:[a.ajustes_res,"/",a.ajustes_sol]}),(0,l.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"resueltos"})]})}),(0,l.jsx)("td",{className:"px-4 py-4 text-center",children:(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1 ".concat(a.dias_sin_act>7?"text-red-600 dark:text-red-400":a.dias_sin_act>3?"text-amber-600 dark:text-amber-400":"text-slate-600 dark:text-slate-400"),children:[(0,l.jsx)(E,{className:"w-4 h-4"}),(0,l.jsx)("span",{className:"text-sm font-medium",children:a.dias_sin_act})]})}),(0,l.jsx)("td",{className:"px-4 py-4 text-center",children:(0,l.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-bold border ".concat(r.bg," ").concat(r.text," ").concat(r.border),children:r.label})}),(0,l.jsx)("td",{className:"px-4 py-4 text-center",children:(0,l.jsxs)("a",{href:"https://pcloud.com/defense/".concat(a.id),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-3 py-1.5 bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 rounded-lg text-xs font-medium hover:bg-indigo-200 dark:hover:bg-indigo-800/50 transition-colors",children:[(0,l.jsx)(C,{className:"w-3 h-3"}),"pCloud"]})})]})}const B=function(){var e,a,s,r,o,d,i,n,c,m,f,j,C,E,B,M,V,U,z,W,K,G,H,X,q;const[J,Z]=(0,t.useState)(S),[Q,Y]=(0,t.useState)([]),[$,ee]=(0,t.useState)(null),[ae,se]=(0,t.useState)(!0),[te,re]=(0,t.useState)(null),[le,oe]=(0,t.useState)(null),[de,ie]=(0,t.useState)(null),[ne,ce]=(0,t.useState)(!1),[xe,me]=(0,t.useState)(null),[ue,ge]=(0,t.useState)(!1),[be,pe]=(0,t.useState)(0),[he,ve]=(0,t.useState)(null),[fe,je]=(0,t.useState)(()=>{if("undefined"!==typeof window){return"true"===localStorage.getItem("durezza-dark-mode")}return!1});return(0,t.useEffect)(()=>{fe?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("durezza-dark-mode",fe)},[fe]),(0,t.useEffect)(()=>{!async function(){se(!0);try{const[e,a,s]=await Promise.all([p.get("/subagentes/"),p.get("/fases/"),p.get("/durezza/estadisticas")]);Y(e.data.subagentes||[]),ee(a.data),ve(s.data);const t=await p.get("/subagentes/ejemplo/tipificacion");oe(t.data);const r=await p.get("/subagentes/ejemplo/riesgos-criticos");ie(r.data)}catch(e){console.error("Error cargando datos:",e),re(e.message)}se(!1)}()},[]),ae?(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center transition-colors duration-300",children:(0,l.jsxs)("div",{className:"text-center animate-fade-in",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 dark:border-blue-800 rounded-full animate-pulse-glow border-t-blue-600 dark:border-t-blue-400 mx-auto"}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,l.jsx)(N,{className:"w-6 h-6 flex-shrink-0 text-blue-600 dark:text-blue-400"})})]}),(0,l.jsx)("p",{className:"mt-6 text-slate-600 dark:text-slate-300 font-medium animate-fade-in",children:"Preparando tu espacio de trabajo..."})]})}):(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-slate-50 to-blue-50 dark:from-slate-900 dark:via-slate-900 dark:to-slate-800 transition-colors duration-300",children:[(0,l.jsxs)("header",{className:"relative overflow-hidden",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900 via-blue-900 to-indigo-900"}),(0,l.jsx)("div",{className:"absolute inset-0 opacity-30",children:(0,l.jsxs)("svg",{className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("defs",{children:(0,l.jsx)("pattern",{id:"mesh",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:(0,l.jsx)("circle",{cx:"20",cy:"20",r:"1",fill:"rgba(255,255,255,0.3)"})})}),(0,l.jsx)("rect",{width:"100%",height:"100%",fill:"url(#mesh)"})]})}),(0,l.jsx)("div",{className:"absolute inset-0 backdrop-blur-[1px]"}),(0,l.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,l.jsx)("div",{className:"animate-fade-in-up",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-gradient-to-br from-blue-400 to-indigo-600 flex items-center justify-center shadow-lg shadow-blue-500/30",children:(0,l.jsx)(N,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white tracking-tight",children:"REVISAR.IA"}),(0,l.jsx)("p",{className:"text-blue-200 text-sm sm:text-base",children:"Tu aliado en la gesti\xf3n fiscal de servicios intangibles"})]})]})}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[(0,l.jsxs)("a",{href:"/api/defense-file/".concat(xe||"demo-proyecto-001","/download-complete"),download:!0,className:"btn-ghost-premium text-white hover:bg-green-500/20 border border-green-400/50 hover:border-green-400 bg-green-500/10",children:[(0,l.jsx)("span",{className:"text-lg flex-shrink-0",children:"\ud83d\udce5"}),(0,l.jsx)("span",{className:"hidden sm:inline text-sm font-medium",children:"Descargar Expediente"})]}),(0,l.jsxs)("button",{onClick:()=>{me("demo-proyecto-001"),ce(!0)},className:"btn-ghost-premium text-white hover:bg-white/10 border border-white/30 hover:border-white/50",children:[(0,l.jsx)("span",{className:"text-lg flex-shrink-0",children:"\ud83d\udccb"}),(0,l.jsx)("span",{className:"hidden sm:inline text-sm font-medium",children:"Control de Versiones"})]}),(0,l.jsx)("button",{onClick:()=>je(!fe),className:"btn-ghost-premium text-white hover:bg-white/10 border border-white/30 hover:border-white/50",children:fe?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y,{className:"w-5 h-5 flex-shrink-0"}),(0,l.jsx)("span",{className:"hidden sm:inline text-sm font-medium",children:"Modo Claro"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(k,{className:"w-5 h-5 flex-shrink-0"}),(0,l.jsx)("span",{className:"hidden sm:inline text-sm font-medium",children:"Modo Oscuro"})]})})]})]})})]}),(0,l.jsxs)("main",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-8",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3 sm:gap-4 lg:gap-6 mb-6 sm:mb-8",children:[(0,l.jsx)(I,{title:"Diagn\xf3sticos Activos",value:J.kpis.diagnosticos_activos,icon:"\ud83d\udd0d",gradientFrom:"#7C3AED",gradientTo:"#9333EA",delay:"0"}),(0,l.jsx)(I,{title:"Ajustes Solicitados",value:J.kpis.ajustes_solicitados,icon:"\ud83d\udcdd",gradientFrom:"#F59E0B",gradientTo:"#D97706",delay:"100"}),(0,l.jsx)(I,{title:"Ajustes Resueltos",value:J.kpis.ajustes_resueltos,subtitle:"".concat((J.kpis.ajustes_resueltos/J.kpis.ajustes_solicitados*100).toFixed(1),"%"),icon:"\u2705",gradientFrom:"#10B981",gradientTo:"#059669",delay:"200"}),(0,l.jsx)(I,{title:"Versiones Generadas",value:J.kpis.versiones_totales,icon:"\ud83d\udccb",gradientFrom:"#3B82F6",gradientTo:"#2563EB",delay:"300"}),(0,l.jsx)(I,{title:"Monto en Revisi\xf3n",value:A(J.kpis.monto_en_revision),icon:"\ud83d\udcb0",gradientFrom:"#5B21B6",gradientTo:"#7C3AED",delay:"400",isLarge:!0})]}),(0,l.jsxs)("div",{className:"glass-card-hover overflow-hidden animate-fade-in mb-6 sm:mb-8",children:[(0,l.jsx)("div",{className:"h-1 bg-gradient-to-r from-red-500 via-amber-500 to-green-500"}),(0,l.jsx)("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 px-4 sm:px-6 py-4 border-b border-slate-200/50 dark:border-slate-700/50",children:(0,l.jsxs)("h2",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[(0,l.jsx)(w,{className:"w-5 h-5 flex-shrink-0 text-amber-600 dark:text-amber-400"}),"Distribuci\xf3n de Riesgo"]})}),(0,l.jsx)("div",{className:"p-4 sm:p-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[(0,l.jsx)(L,{label:"Cr\xedtico",count:J.distribucion_riesgo.critico,color:"#EF4444",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800"}),(0,l.jsx)(L,{label:"Alto",count:J.distribucion_riesgo.alto,color:"#F59E0B",bgColor:"bg-amber-50 dark:bg-amber-900/20",borderColor:"border-amber-200 dark:border-amber-800"}),(0,l.jsx)(L,{label:"Medio",count:J.distribucion_riesgo.medio,color:"#3B82F6",bgColor:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800"}),(0,l.jsx)(L,{label:"Bajo",count:J.distribucion_riesgo.bajo,color:"#10B981",bgColor:"bg-green-50 dark:bg-green-900/20",borderColor:"border-green-200 dark:border-green-800"})]})})]}),(0,l.jsxs)("div",{className:"glass-card-hover overflow-hidden animate-fade-in mb-6 sm:mb-8",children:[(0,l.jsx)("div",{className:"h-1 bg-gradient-to-r from-violet-500 via-purple-500 to-indigo-500"}),(0,l.jsx)("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 px-4 sm:px-6 py-4 border-b border-slate-200/50 dark:border-slate-700/50",children:(0,l.jsxs)("h2",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[(0,l.jsx)(h,{className:"w-5 h-5 flex-shrink-0 text-purple-600 dark:text-purple-400"}),"Proveedores en Diagn\xf3stico",(0,l.jsxs)("span",{className:"ml-auto text-sm font-normal text-slate-500 dark:text-slate-400",children:[J.proveedores.length," proveedores activos"]})]})}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-slate-50 dark:bg-slate-800/50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Proveedor"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Proyecto"}),(0,l.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Fase"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Progreso"}),(0,l.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Ajustes"}),(0,l.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"D\xedas sin Act."}),(0,l.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Riesgo"}),(0,l.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Expediente"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:J.proveedores.map(e=>(0,l.jsx)(P,{proveedor:e},e.id))})]})})]}),(0,l.jsx)("div",{className:"glass-card-hover overflow-hidden animate-fade-in mb-6 sm:mb-8",children:(0,l.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-blue-600 p-4 sm:p-6",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,l.jsxs)("div",{className:"text-white",children:[(0,l.jsxs)("h2",{className:"text-lg sm:text-xl font-bold flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-2xl",children:"\ud83e\udde0"}),"Sistema RAG Multi-Tenant Activo"]}),(0,l.jsxs)("p",{className:"text-indigo-200 text-sm mt-1",children:[(null===he||void 0===he||null===(e=he.plantillas_rag)||void 0===e?void 0:e.total)||42," documentos de contexto configurados para ",(null===he||void 0===he||null===(a=he.agentes)||void 0===a?void 0:a.total)||8," agentes especializados"]})]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,l.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg px-4 py-2 text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-white",children:(null===he||void 0===he||null===(s=he.agentes)||void 0===s?void 0:s.activos)||7}),(0,l.jsx)("div",{className:"text-xs text-indigo-200",children:"Agentes IA"})]}),(0,l.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg px-4 py-2 text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-white",children:(null===he||void 0===he||null===(r=he.plantillas_rag)||void 0===r?void 0:r.total)||42}),(0,l.jsx)("div",{className:"text-xs text-indigo-200",children:"Plantillas RAG"})]}),(0,l.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg px-4 py-2 text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-white",children:(null===he||void 0===he||null===(o=he.plantillas_rag)||void 0===o?void 0:o.docs_universales)||5}),(0,l.jsx)("div",{className:"text-xs text-indigo-200",children:"Docs Universales"})]})]})]}),(0,l.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[((null===he||void 0===he||null===(d=he.agentes)||void 0===d?void 0:d.lista)||["A1_ESTRATEGIA","A2_PMO","A3_FISCAL","A4_LEGAL","A5_FINANZAS","A6_PROVEEDOR","A7_DEFENSA"]).filter(e=>"KNOWLEDGE_BASE"!==e).map(e=>(0,l.jsx)("span",{className:"px-2 py-1 bg-white/20 text-white text-xs rounded-full",children:e.replace("_"," ")},e)),(0,l.jsx)("span",{className:"px-2 py-1 bg-yellow-400/30 text-yellow-100 text-xs rounded-full border border-yellow-400/50",children:"KNOWLEDGE_BASE"})]})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(0,l.jsx)("div",{className:"lg:col-span-2",children:(0,l.jsxs)("div",{className:"glass-card-hover overflow-hidden animate-fade-in",children:[(0,l.jsx)("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 px-4 sm:px-6 py-4 border-b border-slate-200/50 dark:border-slate-700/50",children:(0,l.jsxs)("h2",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[(0,l.jsx)(v,{className:"w-5 h-5 flex-shrink-0 text-blue-600 dark:text-blue-400"}),"Timeline de Fases con Candados"]})}),(0,l.jsx)("div",{className:"p-3 sm:p-6 overflow-x-auto",children:null!==he&&void 0!==he&&he.hay_datos&&null!==he&&void 0!==he&&null!==(i=he.proyectos)&&void 0!==i&&i.fase_actual?(0,l.jsx)(T,{faseActual:he.proyectos.fase_actual,fasesCompletadas:he.proyectos.fases_completadas||[]}):(0,l.jsx)(D,{title:"No hay proyectos activos",message:"Crea tu primer proyecto para ver el progreso de las fases",icon:v})})]})}),(0,l.jsxs)("div",{className:"glass-card-hover overflow-hidden animate-fade-in",children:[(0,l.jsx)("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 px-4 sm:px-6 py-4 border-b border-slate-200/50 dark:border-slate-700/50",children:(0,l.jsxs)("h2",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[(0,l.jsx)(h,{className:"w-5 h-5 flex-shrink-0 text-purple-600 dark:text-purple-400"}),(0,l.jsx)("span",{className:"truncate",children:"Especialistas del Equipo"})]})}),(0,l.jsx)("div",{className:"p-3 space-y-2 max-h-80 overflow-y-auto",children:Q.map((e,a)=>(0,l.jsx)(F,{subagent:e,index:a},e.id))})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(0,l.jsxs)("div",{className:"glass-card-hover overflow-hidden animate-fade-in",children:[(0,l.jsx)("div",{className:"h-1 bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-500"}),(0,l.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 px-4 sm:px-6 py-4 border-b border-slate-200/50 dark:border-slate-700/50",children:(0,l.jsxs)("h2",{className:"text-base sm:text-lg font-semibold text-blue-800 dark:text-blue-200 flex items-center gap-2",children:[(0,l.jsx)(_,{className:"w-5 h-5 flex-shrink-0"}),(0,l.jsx)("span",{className:"truncate",children:"Ejemplo: Tipificaci\xf3n de Proyecto"})]})}),(0,l.jsx)("div",{className:"p-4 sm:p-6",children:le&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Proyecto:"}),(0,l.jsx)("p",{className:"font-medium text-slate-800 dark:text-slate-100",children:null===(n=le.input)||void 0===n||null===(c=n.proyecto)||void 0===c?void 0:c.nombre})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:"Tipolog\xeda Asignada"}),(0,l.jsx)("span",{className:"inline-block px-3 py-1.5 bg-gradient-to-r from-blue-100 to-cyan-100 dark:from-blue-900/50 dark:to-cyan-900/50 text-blue-800 dark:text-blue-200 rounded-lg text-sm font-medium border border-blue-200 dark:border-blue-700",children:null===(m=le.resultado)||void 0===m||null===(f=m.tipologia_asignada)||void 0===f?void 0:f.replace(/_/g," ")})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:"Confianza"}),(0,l.jsx)("span",{className:"inline-block px-3 py-1.5 rounded-lg text-sm font-medium ".concat("ALTA"===(null===(j=le.resultado)||void 0===j?void 0:j.confianza_clasificacion)?"bg-gradient-to-r from-emerald-100 to-green-100 dark:from-emerald-900/50 dark:to-green-900/50 text-emerald-800 dark:text-emerald-200 border border-emerald-200 dark:border-emerald-700":"MEDIA"===(null===(C=le.resultado)||void 0===C?void 0:C.confianza_clasificacion)?"bg-gradient-to-r from-amber-100 to-yellow-100 dark:from-amber-900/50 dark:to-yellow-900/50 text-amber-800 dark:text-amber-200 border border-amber-200 dark:border-amber-700":"bg-gradient-to-r from-rose-100 to-red-100 dark:from-rose-900/50 dark:to-red-900/50 text-rose-800 dark:text-rose-200 border border-rose-200 dark:border-rose-700"),children:null===(E=le.resultado)||void 0===E?void 0:E.confianza_clasificacion})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:"Palabras Clave Detectadas"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:null===(B=le.resultado)||void 0===B||null===(M=B.palabras_clave_detectadas)||void 0===M?void 0:M.map((e,a)=>(0,l.jsx)("span",{className:"px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-full text-xs font-medium border border-slate-200 dark:border-slate-600 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors cursor-default",children:e},a))})]})]})})]}),(0,l.jsxs)("div",{className:"glass-card-hover overflow-hidden animate-fade-in",children:[(0,l.jsx)("div",{className:"h-1 bg-gradient-to-r from-rose-500 via-red-500 to-rose-500"}),(0,l.jsx)("div",{className:"bg-gradient-to-r from-rose-50 to-red-50 dark:from-rose-900/30 dark:to-red-900/30 px-4 sm:px-6 py-4 border-b border-slate-200/50 dark:border-slate-700/50",children:(0,l.jsxs)("h2",{className:"text-base sm:text-lg font-semibold text-rose-800 dark:text-rose-200 flex items-center gap-2",children:[(0,l.jsx)(w,{className:"w-5 h-5 flex-shrink-0"}),(0,l.jsx)("span",{className:"truncate",children:"Ejemplo: Detecci\xf3n de Riesgos Cr\xedticos"})]})}),(0,l.jsx)("div",{className:"p-4 sm:p-6",children:de&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:"Nivel Global"}),(0,l.jsx)("span",{className:"inline-block px-4 py-2 rounded-xl text-sm font-bold shadow-lg ".concat("CRITICO"===(null===(V=de.resultado)||void 0===V?void 0:V.nivel_riesgo_global)?"bg-gradient-to-r from-red-600 to-rose-600 text-white shadow-red-500/30":"ALTO"===(null===(U=de.resultado)||void 0===U?void 0:U.nivel_riesgo_global)?"bg-gradient-to-r from-orange-500 to-amber-500 text-white shadow-orange-500/30":"bg-gradient-to-r from-yellow-400 to-amber-400 text-slate-900 shadow-yellow-500/30"),children:null===(z=de.resultado)||void 0===z?void 0:z.nivel_riesgo_global})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:"Puede Continuar"}),(0,l.jsx)("span",{className:"inline-block px-4 py-2 rounded-xl text-sm font-medium ".concat(null!==(W=de.resultado)&&void 0!==W&&W.puede_continuar?"bg-gradient-to-r from-emerald-100 to-green-100 dark:from-emerald-900/50 dark:to-green-900/50 text-emerald-800 dark:text-emerald-200 border border-emerald-200 dark:border-emerald-700":"bg-gradient-to-r from-rose-100 to-red-100 dark:from-rose-900/50 dark:to-red-900/50 text-rose-800 dark:text-rose-200 border border-rose-200 dark:border-rose-700"),children:null!==(K=de.resultado)&&void 0!==K&&K.puede_continuar?"SI":"NO - BLOQUEADO"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-3",children:["Alertas Detectadas (",null===(G=de.resultado)||void 0===G||null===(H=G.alertas_detectadas)||void 0===H?void 0:H.length,")"]}),(0,l.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:null===(X=de.resultado)||void 0===X||null===(q=X.alertas_detectadas)||void 0===q?void 0:q.slice(0,4).map((e,a)=>(0,l.jsx)(O,{alerta:e},a))})]})]})})]})]}),(0,l.jsxs)("div",{className:"glass-card-hover overflow-hidden animate-fade-in",children:[(0,l.jsx)("div",{className:"h-1 bg-gradient-to-r from-violet-500 via-purple-500 to-indigo-500"}),(0,l.jsx)("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 px-4 sm:px-6 py-4 border-b border-slate-200/50 dark:border-slate-700/50",children:(0,l.jsxs)("h2",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[(0,l.jsx)(N,{className:"w-5 h-5 flex-shrink-0 text-purple-600 dark:text-purple-400"}),"An\xe1lisis de Riesgo por Pilar"]})}),(0,l.jsx)("div",{className:"p-4 sm:p-6",children:(0,l.jsx)(R,{razonNegocios:5,beneficioEconomico:8,materialidad:3,trazabilidad:6})})]})]}),ne&&(0,l.jsx)(x,{proyectoId:xe,onClose:()=>ce(!1)}),xe&&(0,l.jsxs)("div",{className:"glass-card-hover mt-6 overflow-hidden animate-fade-in",children:[(0,l.jsx)("div",{className:"h-1 bg-gradient-to-r from-blue-500 via-cyan-500 to-teal-500"}),(0,l.jsxs)("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 px-4 sm:px-6 py-4 border-b border-slate-200/50 dark:border-slate-700/50 flex justify-between items-center",children:[(0,l.jsxs)("h2",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-xl",children:"\ud83d\udcc1"}),"Documentos del Proyecto"]}),(0,l.jsxs)("button",{onClick:()=>ge(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[(0,l.jsx)("span",{children:"+"})," Cargar Documento"]})]}),(0,l.jsx)("div",{className:"p-4 sm:p-6",children:(0,l.jsx)(g,{proyectoId:xe,faseActual:"F0",refreshTrigger:be})})]}),(0,l.jsx)(b,{isOpen:ue,onClose:()=>ge(!1),children:(0,l.jsx)(u,{proyectoId:xe,faseActual:"F0",onDocumentoCargado:e=>{ge(!1),pe(e=>e+1)},onClose:()=>ge(!1)})})]})}}}]);
//# sourceMappingURL=767.2214ff8b.chunk.js.map